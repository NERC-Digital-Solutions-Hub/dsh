import{H as i}from"./CeRhhlE3.js";import{f as u,s as y,u as p}from"./C3R-oROr.js";import{c as f}from"./BZsETsOI.js";async function T(r,t,o){const e=u(r),s=t.toJSON();s.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(s.resultTypes=JSON.stringify(t.resultTypes)),t.moment||t.gdbVersion?.toUpperCase()!=="SDE.DEFAULT"&&t.gdbVersion||(s.moment=Date.now());const a=y(e.query,{query:p({...s,f:"json"}),...o}),c=`${e.path}/trace`;return i(c,a).then(n=>m(n))}async function N(r,t,o){const e=u(r),s=t.toJSON();s.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(s.resultTypes=JSON.stringify(t.resultTypes));const a=y(e.query,{query:p({...s,async:!0,f:"json"}),...o}),c=`${e.path}/trace`,{data:n}=await i(c,a);return n.statusUrl}function m(r){const{data:t}=r;return f.fromJSON(t.traceResults)}export{N as submitTraceJob,T as trace};
