import{a as ft,b as m,e as R,L as yr,$ as Mt,g as gr,S as Ht,r as Yt,a0 as mr,c as _r,h as $r}from"./BzZgUCJc.js";import{i as b,s as U,e as vr}from"./C9_KfL0q.js";function wr(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Ls(e,t){return function(r,n){t(r,n,e)}}function Gs(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(l){o(l)}}function u(f){try{c(n.throw(f))}catch(l){o(l)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Ws(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var br=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Hs(e){function t(i){e.error=e.hasError?new br(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Ys(e,t){for(const r of e.values())if(t(r))return!0;return!1}function Ks(e,t){for(const r of e.values())if(!t(r))return!1;return!0}function Zs(e,t){for(const r of e.values())if(t(r))return r;return null}function Or(e,t,r){const n=e.get(t);if(n!==void 0)return n;const s=r();return e.set(t,s),s}function Xs(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const O=()=>b.getLogger("esri.core.accessorSupport.ensureTypes");function Ar(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(O().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function jr(e){return e==null?e:!!e}function Sr(e){return e==null?e:e.toString()}function Nr(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function Tr(e){return e==null?e:Math.round(parseFloat(e))}function kr(e){return null}function Er(e,t){return r=>{let n=e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function ve(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function K(e,t){return t!=null&&e&&!(t instanceof e)}function we(e){return e&&"isCollection"in e}function Kt(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Dr(e,t){if(!t?.constructor||!we(t.constructor))return Ot(e,t)?t:new e(t);const r=Kt(e.prototype.itemType),n=Kt(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(Ot(e,t),t):new e(t):t}function Ot(e,t){return!!ve(t)&&(O().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+ht(e)+"'"),!0)}function Cr(e,t){return t==null?t:we(e)?Dr(e,t):K(e,t)?Ot(e,t)?t:new e(t):t}function ht(e){return e?.prototype?.declaredClass||"unknown"}const Pr=new WeakMap;function Ir(e){switch(e){case Number:return t=>Nr(t);case qt:return Tr;case Boolean:return jr;case String:return Sr;case Date:return Ar;case xt:return kr;default:return Or(Pr,e,()=>Cr.bind(null,e))}}function j(e,t){const r=Ir(e);return arguments.length===1?r:r(t)}function q(e,t,r){return arguments.length===1?q.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function zr(e,t){return arguments.length===1?q(r=>j(e,r)):q(r=>j(e,r),t)}function be(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>be(e,t-1,n)):e(r)}function Z(e,t,r){if(arguments.length===2)return i=>Z(e,t,i);if(!r)return r;r=be(e,t,r);let n=t,s=r;for(;n>0&&Array.isArray(s);)n--,s=s[0];if(s!==void 0)for(let i=0;i<n;i++)r=[r];return r}function Mr(e,t,r){return arguments.length===2?Z(n=>j(e,n),t):Z(n=>j(e,n),t,r)}function Oe(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function At(e,t){if(arguments.length===2)return At(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let i=null,o=null;return(a,u)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(r.has(a)||s.some(l=>c==="string"&&l===String||c==="number"&&l===Number))||c==="object"&&s.some(l=>!K(l,a))?a:(f&&n.length?(i||(i=n.map(l=>typeof l=="string"?`'${l}'`:`${l}`).join(", ")),O().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${i}`)):typeof a=="object"&&s.length?(o||(o=s.map(l=>ht(l)).join(", ")),O().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):O().error("Accessor#set",`'${a}' is not a valid value for this property`),u&&(u.valid=!1),null)}}function jt(e,t){if(arguments.length===2)return jt(e).call(null,t);const r={},n=[],s=[];for(const u in e.typeMap){const c=e.typeMap[u];r[u]=j(c),n.push(ht(c)),s.push(u)}const i=()=>`'${n.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?u=>u[e.key]:e.key;return u=>{if(e.base&&!K(e.base,u)||u==null)return u;const c=a(u)||e.defaultKeyValue,f=r[c];if(!f)return O().error("Accessor#set",`Invalid property value, value needs to be one of ${i()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!K(e.typeMap[c],u))return u;if(typeof e.key=="string"&&!ve(u)){const l={};for(const d in u)d!==e.key&&(l[d]=u[d]);return f(l)}return f(u)}}class qt{}let xt=class{};const ti={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function qr(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Ae(e){switch(e.type){case"native":return j(e.value);case"array":return q(Ae(e.value));case"one-of":return xr(e);default:return null}}function xr(e){let t=null;return(r,n)=>Nt(r,e)?r:(t==null&&(t=St(e)),O().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function St(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case qt:return"integer";case Date:return"date";case xt:return"null";default:return ht(e.value)}case"array":return`array of ${St(e.value)}`;case"one-of":{const t=e.values.map(r=>St(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function Nt(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case qt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case xt:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!Nt(r,t.value));case"one-of":return t.values.some(r=>Nt(e,r))}}const Br={remove:()=>{}};function p(e){return e?{remove(){e&&(e(),e=void 0)}}:Br}function je(e){e.forEach(t=>t?.remove())}function ei(e){je(e),e.length=0}function Rr(e){return p(()=>je(e))}function ri(e){return p(()=>e()?.remove())}function ni(e){return p(()=>e?.abort())}function si(e){return p(e!=null?()=>e.destroy():void 0)}function Ur(e){return typeof e=="object"&&!!e&&"remove"in e&&typeof e.remove=="function"}function ii(e){Ur(e)&&e.remove()}function oi(e){return{[Symbol.dispose](){e.remove()}}}function E(e){return e.__accessor__??null}function Fr(e,t){return e?.metadata?.[t]!=null}function G(e,t,r){return r?X(e,t,{policy:r,path:""}):X(e,t,null)}function X(e,t,r){return t?Object.keys(t).reduce((n,s)=>{const i=s;if(i==="__proto__")return n;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${s}`:s,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[i]))return n[i]=t[i],n;if(n[i]===void 0)return n[i]=ft(t[i]),n;let u=n[i],c=t[i];if(u===c)return n;if(Array.isArray(c)||Array.isArray(n))u=u?Array.isArray(u)?n[i]=u.slice():n[i]=[u]:n[i]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{u.includes(f)||u.push(f)}));else if(c&&typeof c=="object")if(r){const f=r.path;r.path=o,n[i]=X(u,c,r),r.path=f}else n[i]=X(u,c,null);else n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[i]=c);return n},e||{}):e}function Se(e){return Array.isArray(e)?e:e.split(".")}function Zt(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Jr(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...Zt(r));return t}return Zt(e)}function Ne(e,t,r,n){const s=Jr(t);if(s.length!==1){const i=s.map(o=>n(e,o,r));return Rr(i)}return n(e,s[0],r)}function Te(e,t){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=E(t);return Fr(n,r)?n.get(r):t[r]}function ke(e,t,r){if(e==null)return e;const n=Te(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:ke(n,t,r+1)}function F(e,t,r=0){return typeof t!="string"||t.includes(".")?ke(e,Se(t),r):Te(t,e)}function k(e,t){return F(e,t)}function Xt(e,t){return F(t,e)!==void 0}function D(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=ft(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Ee(e,t){const r=D(e);let n=r[t];return n||(n=r[t]={}),n}function Vr(e,t){return G(e,t,Gr)}const Lr=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Gr(e){return Lr.test(e)?"replace":"merge"}function Q(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))Q(e,n,t[n]);else{if(t.includes(".")){const s=t.split("."),i=s.splice(-1,1)[0];return void Q(k(e,s),i,r)}const n=e.__accessor__;n!=null&&Wr(t,n),e[t]=r}}function Wr(e,t){if(m("esri-unknown-property-errors")&&!Hr(e,t))throw new U("set:unknown-property",Yr(e,t))}function Hr(e,t){return t.metadata[e]!=null}function Yr(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function Kr(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),s=Ee(t,r);n&&(n.get||n.set?(s.get=n.get||s.get,s.set=n.set||s.set):"value"in n&&("value"in e&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=n.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const i=e.aliasOf;if(i){const u=typeof i=="string"?i:i.source,c=typeof i=="string"?null:i.overridable===!0;let f;s.dependsOn=[u],s.get=function(){let l=k(this,u);if(typeof l=="function"){f||(f=u.split(".").slice(0,-1).join("."));const d=k(this,f);d&&(l=l.bind(d))}return l},s.readOnly||(s.set=c?function(l){this._override(r,l)}:function(l){Q(this,u,l)})}const o=e.type,a=e.types;if(!s.cast){let u;o?u=Zr(o):a&&(u=Array.isArray(a)?q(jt(a[0])):jt(a)),e.cast=Xr(e.cast,u)}Vr(s,e),e.range&&(s.cast=Er(s.cast,e.range))}}function De(e,t,r){const n=Ee(e,r);n.json||(n.json={});let s=n.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Zr(e){let t=0,r=e;if(qr(e))return Ae(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(Oe(n))return t===0?At(n):Z(At(n),t);if(t===1)return zr(n);if(t>1)return Mr(n,t);const s=e;return s.from?s.from:j(s)}function Xr(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}const Ce=Symbol("Accessor-beforeDestroy"),y={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},h={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let dt=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const tt=new dt,z=[];let M=tt;function pt(e){M.onAccessed(e)}let W=!1,H=!1;function w(e,t,r){if(W)return Bt(e,t,r);let n=null;return Pe(e),n=t.call(r),Ie(),n}function Qr(e,t){return w(tt,e,t)}function Bt(e,t,r){const n=W;W=!0,Pe(e);let s=null;try{s=t.call(r)}catch(i){H&&b.getLogger("esri.core.accessorSupport.tracking").error(i)}return Ie(),W=n,s}function Pe(e){M=e,z.push(e)}function Ie(){const e=z.length;if(e>1){const t=z.pop();M=z[e-2],t.onTrackingEnd()}else if(e===1){const t=z.pop();M=tt,t.onTrackingEnd()}else M=tt}function ze(e,t){if(t.flags&h.DepTrackingInitialized)return;t.flags|=h.DepTrackingInitialized;const r=H;H=!1,t.flags&h.AutoTracked?Bt(t.trackingTarget,t.metadata.get,e):Me(e,t),H=r}const tn=[];function Me(e,t){t.flags&h.ExplicitlyTracking||(t.flags|=h.ExplicitlyTracking,Bt(t.trackingTarget,()=>{const r=t.metadata.dependsOn||tn;for(const n of r)if(typeof n!="string"||n.includes(".")){const s=Se(n);for(let i=0,o=e;i<s.length&&o!=null&&typeof o=="object";++i)o=Qt(o,s[i],i!==s.length-1)}else Qt(e,n,!1)}),t.flags&=-129)}function Qt(e,t,r){const n=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const i=parseInt(n,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.at(i)}const s=E(e);if(s){const i=s.propertiesByName.get(n);i&&(pt(i),ze(e,i))}return r?e[n]:void 0}function en(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const s=t[n];r[n].forEach(i=>{t[i]=s}),delete t[n]}}}let qe=class extends vr{constructor(t,r,n){super(t,r,n)}};qe.prototype.type="warning";function xe(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}function rn(e,t){return Rt(e,"any",t?.origin)}function et(e,t){return Rt(e,"read",t?.origin)}function Be(e,t){return Rt(e,"write",t?.origin)}function Rt(e,t,r){let n=e?.json;if(n?.origins&&r){let s;s=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],s&&(t==="any"||t in s)&&(n=s)}return n}const Tt=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function te(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||an(e)&&R("read.reader",nn(e),t))}function nn(e){const t=e.ndimArray??0;if(t>1)return on(e);if(t===1)return ee(e);if("type"in e&&Ue(e.type)){const r=e.type.prototype?.itemType?.Type,n=ee(typeof r=="function"?{type:r}:{types:r});return(s,i,o)=>{const a=n(s,i,o);return a&&new e.type(a)}}return Ut(e)}function Ut(e){return"type"in e?sn(e.type):un(e.types)}function sn(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void Tt().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const i=new e;return i.read(t,n),i}:e.fromJSON}function Re(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(s=>Re(e,s,r,n-1)):e(t,void 0,r)}function on(e){const t=Ut(e),r=Re.bind(null,t),n=e.ndimArray??0;return(s,i,o)=>{if(s==null)return s;s=r(s,o,n);let a=n,u=s;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(u!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function ee(e){const t=Ut(e);return(r,n,s)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const u=t(a,void 0,s);u!==void 0&&o.push(u)}return o}const i=t(r,void 0,s);return i!==void 0?[i]:void 0}}function Ue(e){if(!xe(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?Ft(t.Type):Fe(t.Type))}function an(e){return"types"in e?Fe(e.types):Ft(e.type)}function Ft(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Ue(e))}function Fe(e){for(const t in e.typeMap)if(!Ft(e.typeMap[t]))return!1;return!0}function un(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(s,i,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void Tt().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=ln(e));const u=e.key;if(typeof u!="string")return;const c=s[cn(u,t,o)],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const d=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new qe(`${r}:unsupported`,d,{definition:s,context:o})),void Tt().error(d)}const l=new f;return l.read(s,o),n?n(l):l}}function cn(e,t,r){const n=Object.values(t)[0],s=D(n.prototype)[e],i=et(s,r),o=i?.read?.source;return o&&typeof o=="string"?o:e}function ln(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],s=D(n.prototype);if(typeof e.key=="function")continue;const i=s[e.key];if(!i)continue;if(i.json?.type&&Array.isArray(i.json.type)&&i.json.type.length===1&&typeof i.json.type[0]=="string"){t[i.json.type[0]]=n;continue}const o=i.json?.write;if(!o?.writer){t[r]=n;continue}const a=o.target,u=typeof a=="string"?a:e.key,c={};o.writer(r,c,u),c[u]&&(t[c[u]]=n)}return t}function fn(e){if(e.json||(e.json={}),ne(e.json),se(e.json),re(e.json),e.json.origins)for(const t in e.json.origins)ne(e.json.origins[t]),se(e.json.origins[t]),re(e.json.origins[t]);return!0}function re(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function ne(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function se(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function ie(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&xe(e.type))?t.write.writer=yn:r>1?t.write.writer=gn(r):t.types?Array.isArray(t.types)?t.write.writer=dn(t.types[0]):t.write.writer=hn(t.types):t.write.writer=x}function hn(e){return(t,r,n,s)=>t?Je(t,e,s)?x(t,r,n,s):void 0:x(t,r,n,s)}function Je(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const n=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new U(`${n}:unsupported`,s,{definition:e,context:r})),b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function dn(e){return(t,r,n,s)=>!t||!Array.isArray(t)?x(t,r,n,s):x(t.filter(i=>Je(i,e,s)),r,n,s)}function x(e,t,r,n){R(r,rt(e,n),t)}function rt(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?pn(e):e}function pn(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function yn(e,t,r,n){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(i=>rt(i,n)),typeof s.toArray=="function"&&(s=s.toArray())):s=[rt(e,n)],R(r,s,t)}function Ve(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>Ve(n,t,r-1)):rt(e,t)}function gn(e){return(t,r,n,s)=>{let i;if(t===null)i=null;else{i=Ve(t,s,e);let o=e,a=i;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let u=0;u<o;u++)i=[i]}R(n,i,r)}}function mn(e){const t=_n(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],s=n.types?$n(n):t;te(s,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),ie(s,n)}te(t,e.json,!0),ie(t,e.json)}function _n(e){return e.json.types?kt(e.json):e.type?Le(e):kt(e)}function $n(e){return e.type?Le(e):kt(e)}function Le(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!Oe(r);)r=r[0],t++;return{type:r,ndimArray:t}}function kt(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function vn(e){fn(e)&&(en(e),mn(e))}const mt=new Set,_t=new Set;function Ge(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,bn(t);const r=[],n=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!mt.has(s.initialize)&&(mt.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!_t.has(s.destroy)&&(_t.add(s.destroy),n.push(s.destroy)),s=Object.getPrototypeOf(s);mt.clear(),_t.clear();const i=class extends t{constructor(...a){if(super(...a),this.constructor===i&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let u=r.length-1;u>=0;u--)r[u].call(this)}}),n.length){let u=!1;const c=this[Ce];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!u){this.__accessor__.lifecycle=y.DESTROYING,u=!0,c.call(this);for(let f=0;f<n.length;f++)n[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};i.__accessorMetadata__=D(t.prototype),i.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(i,"name",{value:o,configurable:!0}),i}}function wn(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;r.mutable&&pt(n);const s=r.store;return s.has(e)?s.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function bn(e){const t=e.prototype,r=D(t),n={};for(const s of Object.getOwnPropertyNames(r)){const i=r[s];vn(i),n[s]={enumerable:!0,configurable:!0,get:wn(s,i),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&i.readOnly?oe("read-only",s):a.lifecycle===y.CONSTRUCTED&&i.constructOnly?oe("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const oe=(e,t)=>{b.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};function On(e){return e?.release&&typeof e.release=="function"}function An(e){return e?.acquire&&typeof e.acquire=="function"}var $;let Jt=($=class{constructor(t,r,n,s=1,i=0){this._creator=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=s,this._pool=new Array(i),this._initialSize=i;for(let o=0;o<i;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let r;if($.test.disabled)r=this._creator();else{if(this._pool.length===0){const n=this.allocationSize;for(let s=0;s<n;s++)this._pool[s]=this._creator()}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):An(r)&&r.acquire(...t),r}release(t){t&&!$.test.disabled&&(this._releaseFunction?this._releaseFunction(t):On(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},$.test={disabled:!!m("esri-tests-disable-memory-pools")},$);function jn(e){e.length=0}let We=class{constructor(t=50,r=50){this._pool=new Jt(()=>[],void 0,jn,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return $t.acquire()}static release(t){return $t.release(t)}static prune(){$t.prune()}};const $t=new We(100),ae=new WeakMap;function Sn(e,t,r=!1){const n=`üõë DEPRECATED - ${t}`;if(!r)return void e.warn(n);let s=ae.get(e);s||(s=new Set,ae.set(e,s)),s.has(t)||(s.add(t),e.warn(n))}const nt="https://www.esriurl.com/";function li(e,t,r,n={}){m("esri-deprecation-warnings")&&C(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${nt}${r}/`,`Esri's move to web components: ${nt}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...n})}function fi(e,t,r,n={}){m("esri-deprecation-warnings")&&C(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${nt}${r}/`,`Esri's move to web components: ${nt}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...n})}function hi(e,t,r={}){m("esri-deprecation-warnings")&&C(e,`Module: ${t}`,r)}function Nn(e,t,r={}){if(m("esri-deprecation-warnings")){const{moduleName:n}=r;C(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function di(e,t,r={}){if(m("esri-deprecation-warnings")){const{moduleName:n}=r;C(e,`Property: ${(n?n+"::":"")+t}`,r)}}function pi(e,t,r={}){m("esri-deprecation-warnings")&&C(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function C(e,t,r={}){if(m("esri-deprecation-warnings")){const{replacement:n,version:s,see:i,warnOnce:o}=r;let a=t;if(n&&(a+=`
	üõ†Ô∏è Replacement: ${n}`),s&&(a+=`
	‚öôÔ∏è Version: ${s}`),i)if(Array.isArray(i)){a+=`
	üîó See for more details:`;for(const u of i)a+=`
		${u}`}else a+=`
	üîó See ${i} for more details.`;Sn(e,a,o)}}function yi(e){const t=[];return function*(){yield*t;let r,n=t.length;for(;!(r=e.next()).done;)for(t.push(r.value),yield r.value;++n<t.length;)yield t[n]}}function gi(e,t){for(const r of e)if(r!=null&&t(r))return r}function ue(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Vt=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(ue(t)){const n=this._getOrCreateGroup(r);for(const s of t)le(s)&&n.push(s)}else le(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(J(t))}remove(t){if(typeof t!="string"&&ue(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(ce(this._getGroup(t)),this._groups.delete(J(t)),this):this}removeAll(){return this._groups.forEach(ce),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(J(t),r),r}_getGroup(t){return this._groups.get(J(t))}};function J(e){return e||"_default_"}function ce(e){for(const t of e)t instanceof Vt?t.removeAll():t.remove()}function le(e){return e!=null&&(!!e.remove||e instanceof Vt)}function _i(e,t){if(e==null)throw new Error(t??"value is None")}function Tn(e){return e?.destroy(),null}function $i(e){return e?.dispose(),null}function kn(e){return e?.remove(),null}function vi(e){return e?.abort(),null}function wi(e){return e?.release(),null}function bi(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function Oi(e,t){let r;return e.some((n,s)=>(r=t(n,s),r!=null)),r??void 0}let En=class{constructor(t,r){this._observers=t,this._observer=r}remove(){yr(this._observers,this._observer)}},Dn=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Cn;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,s=!1;const i=r.length;for(let o=0;o<i;++o){const a=r[o];if(a.destroyed)s=!0;else if(a===t){n=!0;break}}return n||(r.push(t),s&&this._removeDestroyedObservers()),new En(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let s=0;s<r;++s){for(;s+n<r&&t[s+n].destroyed;)++n;if(n>0){if(!(s+n<r))break;t[s]=t[s+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const Cn=p();let fe=class extends Dn{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new dt(this),this.flags=0,this.flags=h.Dirty|(r.nonNullable?h.NonNullable:0)|(r.hasOwnProperty("value")?h.HasDefaultValue:0)|(r.get===void 0?h.DepTrackingInitialized:0)|(r.dependsOn===void 0?h.AutoTracked:0)}destroy(){this.flags&h.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&pt(this);const r=t.store,n=this.propertyName,s=this.flags,i=r.get(n);if(s&h.Computing||~s&h.Dirty&&r.has(n))return i;this.flags|=h.Computing;const o=t.host;let a;s&h.AutoTracked?a=w(this.trackingTarget,this.metadata.get,o):(Me(o,this),a=this.metadata.get.call(o)),this.flags|=h.DepTrackingInitialized,r.set(n,a,1);const u=r.get(n);return u===i?this.flags&=-2:Qr(this.commit,this),this.flags&=-5,u}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&h.Overridden&&(this.flags|=h.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}};const Ni=8;function He(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function Et(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function Pn(e){return Et(e)}let In=class Ye{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new Ye;return this._values.forEach((n,s)=>{t&&t.has(s)||r.set(s,ft(n))}),r}get(t){return this._values.get(t)}originOf(){return 7}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,r){return this.has(t)}isBelowOrigin(t,r){return!this.has(t)}forEach(t){this._values.forEach(t)}};function N(e,t,r){return e!==void 0}function he(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&h.NonNullable)||(n.lifecycle,!1))}let zn=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=y.INITIALIZING,this.store=new In,this.mutable=!0,this._origin=7;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const s=new fe(n,r[n]);this.propertiesByName.set(n,s)}this.metadata=r}initialize(){this.lifecycle=y.CONSTRUCTING}constructed(){this.lifecycle=y.CONSTRUCTED}destroy(){this.lifecycle=y.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==y.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(!N(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&pt(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&h.HasDefaultValue)return"defaults"}return Et(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(N(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);N(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const s=this.propertiesByName.get(r);if(!N(s))return"";const i=new dt,o=w(i,()=>s.metadata.get?.call(t));let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const u=i.accessed??new Set;if(u.size===0)return a;n+="  ";for(const c of u)c instanceof fe&&(a+=`${n}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const s=this.propertiesByName.get(t);if(N(s))return this._setAtOrigin(s,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&h.Overridden)}clearOrigin(t,r){const n=this.store,s=this.propertiesByName.get(t);if(!N(s))return;const i=n.isAtOrigin(t,r)&&!(s.flags&h.Overridden);n.delete(t,r),i&&s.notifyChange()}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&h.Overridden&&(r.flags&=-3,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!he(n,t,r,this))return;const s=n.metadata.cast;if(s){const i=this._cast(s,r),{valid:o,value:a}=i;if(vt.release(i),!o)return;r=a}n.flags|=h.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!he(n,t,r,this))return;const s=n.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:u}=o;if(vt.release(o),!a)return;r=u}const i=n.metadata.set;i?i.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=He(t)}getDefaultOrigin(){return Et(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==y.INITIALIZING?this._origin:0;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const s=this.store,i=t.propertyName;if(s.isAtOrigin(i,n)&&Mt(r,s.get(i))&&~t.flags&h.Overridden)return;const o=s.isBelowOrigin(i,n)||s.isAtOrigin(i,n);o&&t.invalidate(),s.set(i,r,n),o&&t.commit(),ze(this.host,t)}_cast(t,r){const n=vt.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},Mn=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const vt=new Jt(()=>new Mn);let qn;function xn(){return qn}let Bn=class extends Jt{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const V=[];function Ke(e){V.push(e),V.length===1&&queueMicrotask(()=>{const t=V.slice();V.length=0;for(const r of t)r()})}let Ze=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const st=(e,t,r,n)=>{let s=t,i=t;const o=r>>>1,a=e[s-1];for(;i<=o;){i=s<<1,i<r&&n(e[i-1],e[i])<0&&++i;const u=e[i-1];if(n(u,a)<=0)break;e[s-1]=u,s=i}e[s-1]=a},Xe=(e,t)=>e<t?-1:e>t?1:0;function Rn(e,t,r,n){r===void 0&&(r=e.length),n===void 0&&(n=Xe);for(let i=r>>>1;i>t;i--)st(e,i,r,n);const s=t+1;for(let i=r-1;i>t;i--){const o=e[t];e[t]=e[i],e[i]=o,st(e,s,i,n)}}function*Un(e,t,r,n){r===void 0&&(r=e.length),n===void 0&&(n=Xe);for(let i=r>>>1;i>t;i--)st(e,i,r,n),yield;const s=t+1;for(let i=r-1;i>t;i--){const o=e[t];e[t]=e[i],e[i]=o,st(e,s,i,n),yield}}const Fn=1.5,Jn=1.1;let Qe=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new gr,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>de(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const s=this.data[n];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,de(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=Ht(this.data,Yt(t),this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(Ht(this.data,Yt(t),this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=mr(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){Rn(this.data,0,this.length,t)}iterableSort(t){return Un(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){const{data:n,length:s}=this;for(let i=0;i<s;++i)if(t.call(r,n[i]))return n[i]}filterInPlace(t,r){let n=0;for(let s=0;s<this._length;++s){const i=this.data[s];t.call(r,i,s,this.data)&&(this.data[s]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let s=n;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:s}=this;for(let i=0;i<s;++i)t.call(r,n[i],i,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let s=0;s<this.length;++s)n[s]=t.call(r,this.data[s],s,this.data);return n}reduce(t,r){let n=r;for(let s=0;s<this.length;++s)n=t(n,this.data[s],s,this.data);return n}has(t){const r=this.length,n=this.data;for(let s=0;s<r;++s)if(n[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function de(e){e.data.length>Fn*e.length&&(e.data.length=Math.floor(e.length*Jn))}function Vn(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return p(()=>e.clearTimeout(n))}}}const Ln=Vn(globalThis);function tr(e){return Gn(e)||er(e)}function Gn(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function er(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Wn(e,t,r){if(!tr(e))throw new TypeError("target is not a Evented or EventTarget object");return er(e)?Hn(e,t,r):e.on(t,r)}function Hn(e,t,r,n){if(Array.isArray(t)){const s=t.slice();for(const i of s)e.addEventListener(i,r,n);return p(()=>{for(const i of s)e.removeEventListener(i,r,n)})}return e.addEventListener(t,r,n),p(()=>e.removeEventListener(t,r,n))}function rr(e,t,r){if(!tr(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Wn(e,t,s=>{n.remove(),r.call(e,s)});return n}function P(e="Aborted"){return new U("AbortError",e)}function nr(e,t="Aborted"){if(sr(e))throw P(t)}function yt(e){return e instanceof AbortSignal?e:e?.signal??void 0}function sr(e){const t=yt(e);return t!=null&&t.aborted}function Pi(e){if(Lt(e))throw e}function Ii(e){if(!Lt(e))throw e}function it(e,t){const r=yt(e);if(r!=null){if(!r.aborted)return rr(r,"abort",()=>t());t()}}function zi(e,t){const r=yt(e);if(r!=null)return nr(r),rr(r,"abort",()=>t(P()))}function Mi(e,t){return yt(t)==null?e:new Promise((r,n)=>{let s=it(t,()=>n(P()));const i=()=>{s=kn(s)};e.then(i,i),e.then(r,n)})}function Lt(e){return e?.name==="AbortError"}async function qi(e){try{return await e}catch(t){if(!Lt(t))throw t;return}}async function Yn(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),s=await Yn(n),i={};return r.map((o,a)=>i[o]=s[a]),i}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,s)=>{const i=r[s];return i.status==="fulfilled"?{promise:n,value:i.value}:{promise:n,error:i.reason}}))}async function xi(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Bi(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function Kn(e,t=void 0,r){const n=new AbortController;return it(r,()=>n.abort()),new Promise((s,i)=>{let o=setTimeout(()=>{o=0,s(t)},e);it(n,()=>{o&&(clearTimeout(o),i(P()))})})}function Ri(e,t,r,n){const s=r&&"abort"in r?r:null;n!=null||s||(n=r);let i=setTimeout(()=>{i=0,s?.abort()},t);const o=()=>n||new U("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(i===0)throw o();return clearTimeout(i),a},a=>{throw clearTimeout(i),i===0?o():a})}function Ui(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return it(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}}function Zn(e){return e&&typeof e.then=="function"}function pe(e){return Zn(e)?e:Promise.resolve(e)}function Fi(e,t=-1){let r,n,s,i,o=null;const a=(...u)=>{if(r){n=u,i&&i.reject(P()),i=Dt();const d=i.promise;if(o){const gt=o;o=null,gt.abort()}return d}if(s=i||Dt(),i=null,t>0){const d=new AbortController;r=pe(e(...u,d.signal));const gt=r;Kn(t).then(()=>{r===gt&&(i?d.abort():o=d)})}else r=1,r=pe(e(...u));const c=()=>{const d=n;n=s=r=o=null,d!=null&&a(...d)},f=r,l=s;return f.then(c,c),f.then(l.resolve,l.reject),l.promise};return a}function Dt(){let e,t;const r=new Promise((s,i)=>{e=s,t=i}),n=s=>{e(s)};return n.resolve=s=>e(s),n.reject=s=>t(s),n.timeout=(s,i)=>Ln.setTimeout(()=>n.reject(i),s),n.promise=r,n}function Ji(e,t){t.then(e.resolve,e.reject)}async function Vi(e){await Promise.resolve(),nr(e)}function Li(e){return e}function Gi(e){return 1e3*e}function Wi(e){return e}function Hi(e){return .001*e}let Xn=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Qn=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Ct=0;const I={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Pt=["prepare","preRender","render","postRender","update","finish"],It=[],S=new Qe;let ts=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,ir()}};function es(){A!=null&&(cancelAnimationFrame(A),A=requestAnimationFrame(Gt))}function ir(){A==null&&(Ct=performance.now(),A=requestAnimationFrame(Gt))}const ot={frameTasks:S,willDispatch:!1,clearFrameTasks:ns,dispatch:ar,executeFrameTasks:ss,reschedule:es};function rs(e){const t=new Qn(e);return It.push(t),ot.willDispatch||(ot.willDispatch=!0,Ke(ar)),t}function Xi(e){const t=new Xn(e);return S.push(t),ir(),new ts(t)}let A=null;function ns(e=!1){S.forAll(t=>{t.removed=!0}),e&&or()}function Gt(){const e=performance.now();A=null,A=S.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(Gt):null,ot.executeFrameTasks(e)}function ss(e){const t=e-Ct;Ct=e;const r=1e3/60,n=Math.max(0,t-r);I.time=e,I.frameDuration=r-n;for(let s=0;s<Pt.length;s++){const i=performance.now(),o=Pt[s];S.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(I.elapsedFrameTime=performance.now()-e,I.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,I)))}),as[s].push(performance.now()-i)}or(),us.push(performance.now()-e)}const L=new Qe;function or(){S.forAll(e=>{e.removed&&L.push(e)}),S.removeUnorderedMany(L.data,L.length),L.clear()}function ar(){for(;It.length;){const e=It.shift();e.isActive&&e.callback()}ot.willDispatch=!1}function is(e=1,t){const r=Dt(),n=()=>{sr(t)?r.reject(P()):e===0?r():(--e,Ke(()=>n()))};return n(),r.promise}function os(e){return is(1,e)}async function Qi(e){await os(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const as=Pt.map(e=>new Ze(e)),us=new Ze("total");function cs(e,t){for(const r of e.values())if(t(r))return!0;return!1}function ye(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function to(e,t){return t!=null&&e.add(t),e}function ls(e,t){const r=new Set;return ye(r,e),ye(r,t),r}function fs(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function eo(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function ro(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function hs(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}function no(e,t){return hs(ls(e,t),fs(e,t))}let ds=0;function wt(){return++ds}let Wt=class extends dt{constructor(t){super(new ps(t)),this._observer&&ge.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&ge.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},ps=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=ys}};const ge=new FinalizationRegistry(e=>{e.deref()?.destroy()});function ys(){}let T=!1;const at=[];function ur(e,t){let r=new Wt(i),n=null,s=!1;function i(){if(!r||s)return;if(T)return void lr(i);const a=n;r.clear(),T=!0,s=!0,n=w(r,e),s=!1,T=!1,t(n,a),fr()}function o(){r&&(r.destroy(),r=null,n=null)}return s=!0,n=w(r,e),s=!1,p(o)}function cr(e,t){let r=new Wt(s),n=null;function s(){t(n,o)}function i(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=w(r,e),n):null}return o(),p(i)}function oo(e,t){let r=!1,n=!1;const s=!!t?.sync;let i=new Wt(()=>{r||n||(n=!0,s?o():queueMicrotask(o))});function o(){n=!1,i&&!r&&(T?lr(o):(i.clear(),T=!0,r=!0,w(i,e),r=!1,T=!1,fr()))}function a(){i&&(i.destroy(),i=null)}return r=!0,w(i,e),r=!1,p(a)}function lr(e){at.includes(e)||at.unshift(e)}function fr(){for(;at.length;)at.pop()()}const lt=class lt{constructor(){this.uid=wt(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,s,i){return this.pool.acquire(0,t,r,n,s,i,Mt)}static acquireTracked(t,r,n,s){return this.pool.acquire(1,t,r,n,null,null,s)}notify(t,r){this.type===0?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,s,i,o,a){this.uid=wt(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=s,this.target=i,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=wt(),this.removed=!0}};lt.pool=new Bn(()=>new lt);let B=lt;const Y=new We,g=new Set;let ut;function ct(e){g.delete(e),g.add(e),gs()}function gs(){ut||(ut=rs($s))}function ms(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function _s(e){for(const t of g.values())t.target===e&&(t.removed=!0)}function $s(){let e=10;for(;ut&&e--;){ut=null;const t=vs(),r=Y.acquire();for(const n of t){const s=n.uid;ms(n),s===n.uid&&n.removed&&r.push(n)}for(const n of g)n.removed&&(r.push(n),g.delete(n));for(const n of r)B.pool.release(n);Y.release(r),Y.release(t),zt.forEach(n=>n())}}function vs(){const e=Y.acquire();e.length=g.size;let t=0;for(const r of g)e[t]=r,++t;return g.clear(),e}const zt=new Set;function ao(e){return zt.add(e),p(()=>zt.delete(e))}function ws(e,t,r){let n=Ne(e,t,r,(s,i,o)=>{let a,u,c=cr(()=>F(s,i),(f,l)=>{s.__accessor__?.lifecycle===y.DESTROYED||a&&a.uid!==u?n.remove():(a||(a=B.acquireUntracked(f,o,l,s,i),u=a.uid),ct(a))});return p(()=>{c.remove(),a&&(a.uid!==u||a.removed||(a.removed=!0,ct(a)),a=null),n=c=null})});return n}function bs(e,t,r){const n=Ne(e,t,r,(s,i,o)=>{let a=!1;return ur(()=>F(s,i),(u,c)=>{s.__accessor__.lifecycle!==y.DESTROYED?a||(a=!0,Mt(c,u)||o.call(s,u,c,i,s),a=!1):n.remove()})});return n}function Os(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==y.DESTROYED?n?bs(e,t,r):ws(e,t,r):p()}function As(e,t,r){let n,s,i=cr(e,(o,a)=>{n&&n.uid!==s?i.remove():(n||(n=B.acquireTracked(o,t,a,r),s=n.uid),ct(n))});return p(()=>{i.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,ct(n)),n=null),i=null})}function js(e,t,r){let n=!1;return ur(e,(s,i)=>{n||(n=!0,r(i,s)||t(s,i),n=!1)})}function uo(e,t,r=!1,n=_r){return r?js(e,t,n):As(e,t,n)}function co(e){return cs(g,t=>t.oldValue===e)}var me,_e;function Ss(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const _=Symbol("Accessor-Handles"),bt=Symbol("Accessor-Initialized");var v;let Ns=(v=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const i=this;class o extends i{constructor(...u){super(...u),this.inherited=null,s&&s.apply(this,u)}}D(o.prototype);for(const a in t){const u=t[a];o.prototype[a]=typeof u=="function"?function(...c){const f=this.inherited;let l;this.inherited=function(...d){if(i.prototype[a])return i.prototype[a].apply(this,d)};try{l=u.apply(this,c)}catch(d){throw this.inherited=f,d}return this.inherited=f,l}:t[a]}for(const a in r){const u=Ss(r[a]);Kr(u)(o.prototype,a)}return Ge(n)(o)}static freeze(t){return t instanceof v?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof v?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[me]=null,this[_e]=!1,this.constructor===v)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new zn(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[bt]=!0}initialize(){}[Ce](){this[_]=Tn(this[_])}destroy(){this.destroyed||(_s(this),this.__accessor__.destroy(),xn()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[bt]}get destroyed(){return this.__accessor__?.lifecycle===y.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===y.DESTROYING||!1}commitProperty(t){k(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return Q(this,t,r),this}watch(t,r,n){return Nn(b.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Os(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const s of n)s.remove();return}(this[_]??=new Vt).add(t,r)}removeHandles(t){this[_]?.remove(t)}removeAllHandles(){this[_]?.removeAll()}removeHandlesReference(t){this[_]?.removeReference(t)}hasHandles(t){return this[_]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}},me=_,_e=bt,v),Ts=class hr{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new hr;return this._values.forEach((n,s)=>{t&&t.has(s)||r.set(s,ft(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||n?.origin===r?n?.value:void 0}originOf(t){return this._values.get(t)?.origin??7}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>this._values.get(n)?.origin===t)}set(t,r,n){if((n=this._normalizeOrigin(n))===0){const s=this._values.get(t);if(s?.origin!=null&&s.origin>n)return}this._values.set(t,new ks(r,n))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}isAtOrigin(t,r){return r=this._normalizeOrigin(r),this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return r=this._normalizeOrigin(r),!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===0?t:7}},ks=class{constructor(t,r){this.value=t,this.origin=r}};function Es(e,t,r){t.keys().forEach(s=>{r.set(s,t.get(s),0)});const n=e.metadata;Object.keys(n).forEach(s=>{e.internalGet(s)&&r.set(s,e.internalGet(s),0)})}function Ds(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.startsWith(t)&&Xt(n,r))return!0}else for(const s of n)if(s===t||s.includes(".")&&s.startsWith(t)&&Xt(s,r))return!0;return!1}function Cs(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Ps(e,t,r,n,s){let i=et(t[r],s);Cs(i)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))i=et(t[o],s),Ds(i,r,n)&&(e[o]=!0)}function Is(e,t,r,n){const s=r.metadata,i=rn(s[t],n),o=i?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const dr={origin:"service"};function zs(e,t,r=dr){if(!t||typeof t!="object")return;const n=E(e),s=n.metadata,i={};for(const o of Object.getOwnPropertyNames(t))Ps(i,s,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(i)){const a=et(s[o],r).read,u=a?.source;let c;c=u&&typeof u=="string"?F(t,u):t[o],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&n.set(o,c)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))i[o]||Is(e,o,n,r)}n.setDefaultOrigin("user")}function fo(e,t,r,n=dr){const s={...n,messages:[]};r(s),s.messages?.forEach(i=>{i.type!=="warning"||e.loaded?n?.messages&&n.messages.push(i):e.loadWarnings.push(i)})}function Ms(e,t,r,n,s){const i={};return t.write?.writer?.call(e,n,i,r,s),i}function pr(e,t,r,n,s,i){if(!n?.write)return!1;const o=k(e,r);if(!s&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,i??void 0);a!==void 0&&(s=a)}if(s||(s=n.write),!s||s.enabled===!1||s.layerContainerTypes&&i?.layerContainerType&&!s.layerContainerTypes.includes(i.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new U("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&i?.messages?i.messages.push(a):a&&!i&&b.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===0)&&qs(e,r,i,n,o)||!s.ignoreOrigin&&i?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<He(i.origin))}function qs(e,t,r,n,s){const i=n.default;if(i===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(s);if(typeof i=="function"){if(Array.isArray(s)){const o=i.call(e,t,r??void 0);return $r(o,s)}return!1}return i===s}function ho(e,t,r,n){const s=E(e),i=s.metadata,o=Be(i[t],n);return!!o&&pr(e,s,t,o,r,n)}function xs(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return G(t,e.toJSON(r));const n=E(e),s=n.metadata;for(const i in s){const o=Be(s[i],r);if(!pr(e,n,i,o,void 0,r))continue;const a=k(e,i),u=Ms(e,o,o.write&&typeof o.write.target=="string"?o.write.target:i,a,r);Object.keys(u).length>0&&(t=G(t,u),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>G(t,u,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:i,oldOrigin:Pn(n.store.originOf(i)),newOrigin:r.origin}))}return t}const Bs=e=>{const t=e;let r=class extends t{constructor(...n){super(...n);const s=E(this),i=s.store,o=new Ts;s.store=o,Es(s,i,o)}read(n,s){zs(this,n,s)}write(n,s){return xs(this,n??{},s)}toJSON(n){return this.write({},n)}static fromJSON(n,s){return Rs.call(this,n,s)}};return r=wr([Ge("esri.core.JSONSupport")],r),r.prototype.toJSON.isDefaultToJSON=!0,r};function Rs(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}const po=Bs(Ns);function yo(e,t,r){let n,s;return t===void 0||Array.isArray(t)?(s=e,r=t,n=[void 0]):(s=t,n=Array.isArray(e)?e:[e]),(i,o)=>{const a=i.constructor.prototype;n.forEach(u=>{const c=De(i,u,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}class Us{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Fs(t),this.apiValues=$e(this._apiToJSON),this.jsonValues=$e(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,s,i)=>{const o=this.toJSON(n);o!==void 0&&R(i,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}}function Fs(e){const t={};for(const r in e)t[e[r]]=r;return t}function $e(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function go(){return function(e,t){return new Us(e,{ignoreUnknown:!0,...t})}}function mo(e,t,r){let n,s;return t===void 0?(s=e,n=[void 0]):typeof t!="string"?(s=e,n=[void 0],r=t):(s=t,n=Array.isArray(e)?e:[e]),(i,o)=>{const a=i.constructor.prototype;for(const u of n){const c=De(i,u,s);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}export{Dt as $,rs as A,Yn as B,kn as C,it as D,zi as E,P as F,Zn as G,Et as H,Qe as I,qt as J,rr as K,Fi as L,gi as M,yi as N,Vi as O,Bi as P,Cr as Q,Ji as R,$i as S,Kn as T,Li as U,ii as V,sr as W,qi as X,si as Y,Ws as Z,wr as _,Ge as a,zs as a$,Hs as a0,C as a1,ni as a2,Mi as a3,xi as a4,Tr as a5,Nr as a6,hi as a7,wt as a8,di as a9,yt as aA,Nn as aB,k as aC,Sr as aD,Qi as aE,We as aF,Gs as aG,cs as aH,tr as aI,Dn as aJ,jt as aK,uo as aL,Ri as aM,Xs as aN,li as aO,os as aP,oi as aQ,Hi as aR,ei as aS,je as aT,Er as aU,Xi as aV,Ks as aW,xt as aX,fo as aY,Ni as aZ,Es as a_,Rr as aa,Vt as ab,Wn as ac,Ke as ad,wi as ae,is as af,ti as ag,bi as ah,ho as ai,vi as aj,Ls as ak,pe as al,Ze as am,Ii as an,Gi as ao,Wi as ap,Wt as aq,w as ar,Ys as as,nn as at,ls as au,ro as av,eo as aw,hs as ax,fs as ay,to as az,yo as b,xs as b0,ye as b1,Oi as b2,pi as b3,Bn as b4,ao as b5,co as b6,gs as b7,Ui as b8,no as b9,Ln as ba,ue as bb,fi as bc,Zs as bd,ri as be,go as c,E as d,Or as e,Ns as f,Pi as g,p as h,oo as i,De as j,Ee as k,He as l,Kr as m,po as n,Us as o,Bs as p,Jt as q,mo as r,qe as s,pt as t,Tn as u,Lt as v,j as w,nr as x,pn as y,_i as z};
