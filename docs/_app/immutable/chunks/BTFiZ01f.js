function m(s,t){return s.assignedElements({flatten:!0}).filter(n=>n.matches(t))}const u=(s,t)=>{let e=s;for(;e;){if(e===t)return!0;if(!e.parentNode)return!1;e.parentNode instanceof ShadowRoot?e=e.parentNode.host:e=e.parentNode}return!1},b=(s,t,e)=>{const n=d(t).subscribe;return n(o=>{o.some(r=>u(s,r.target))&&e()})},i={},d=s=>{const t=s.join(","),e=i[t];if(e!==void 0)return e;const n=new Set,o=new MutationObserver(r=>n.forEach(l=>l(r)));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:s,subtree:!0});const c={subscribe:r=>(n.add(r),()=>{n.delete(r),n.size===0&&(o.disconnect(),i[t]=void 0)})};return i[t]=c,c},a=(s,t)=>{let e=s;for(;e;){const n=e.closest?.(t);if(n)return n;const o=e.getRootNode?.();if(o===globalThis.document)return;e=o.host}};function f(s){const t=a(s,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return t?.classList.contains("calcite-mode-dark")||t?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const h=(s,t,e)=>a(s,`[${t}]`)?.getAttribute(t)??e;export{m as a,h as g,b as o,f as u};
