import{y as h,f as p,g as c,h as _,l as f,j as b,r as o,m as s,a as m}from"./DtUpcSZL.js";function $(t,r,l){return h(t.map(((e,a)=>r.apply(l,[e,a]))))}async function C(t,r,l){return(await h(t.map(((e,a)=>r.apply(l,[e,a]))))).map((e=>e.value))}function u(t){return{ok:!0,value:t}}function i(t){return{ok:!1,error:t}}function y(t){return t!=null&&t.ok===!0?t.value:null}function d(t){return t!=null&&t.ok===!1?t.error:null}async function g(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return u(await t)}catch(r){return i(r)}}async function k(t){try{return u(await t)}catch(r){return b(r),i(r)}}function w(t,r){return new n(t,r)}let n=class extends p{get value(){return y(this._result)}get error(){return d(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=c(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:l}=this._abortController;this.promise=t(l),this.promise.then((e=>{this._result=u(e),this._cleanup()}),(e=>{this._result=i(e),this._cleanup()})),this._abortHandle=_(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=f(this._abortHandle),this._abortController=null}};o([s()],n.prototype,"value",null),o([s()],n.prototype,"error",null),o([s()],n.prototype,"finished",null),o([s()],n.prototype,"promise",void 0),o([s()],n.prototype,"_result",void 0),n=o([m("esri.core.asyncUtils.ReactiveTask")],n);export{g as _,$ as a,k as b,w as d,C as p};
