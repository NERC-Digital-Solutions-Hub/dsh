const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CpDytECf.js","./Cad-p0g1.js","./CDGqq53N.js","./BzZgUCJc.js","./C9_KfL0q.js","./PPVm8Dsz.js","./COT3swUQ.js","./CjvOpC9P.js","./s7cf_X6N.js","./BqXZzE4Q.js","./fh-t4ua6.js","./CPwmGbun.js","./NEmuse4e.js","./D1sKJjB8.js","./C3oh_tnt.js","./CicY3o9G.js","./bnayRBMH.js","./Bcsiu1z4.js","./clW6bTka.js","./BPKnb2Ep.js","./BfP0x50V.js","./DyeKTZUU.js","./Dyu8oJRY.js","./aQ5IuZRd.js","./BW5FX2Vq.js","./DbEENCEu.js","./CcQYIzsv.js","./ms0HOjz1.js","./iGtE-x7J.js","./B87vTgcy.js","./BMEoQDn3.js","./BaNElx7S.js","./C6j0c8D7.js","./BnIkuiB_.js","./BobhZSEo.js","./DGRj8LLO.js","./BuFC1hBS.js","./CY1ScL2v.js","./fh0BQpDQ.js","./Di9axRGX.js","./BcU1P1CV.js","./BkaRJQOf.js","./DujhAnCs.js","./CWMNWfLw.js","./CmkbQrYx.js","./EQ54Yfcd.js","./DuNa-JhG.js","./3SbGqcbX.js","./OuCfdC0r.js","./Cbf23dJy.js","./CWaspPwN.js","./vu8FjO6O.js","./CvbnrAEx.js","./BJLSrlOq.js","./2al6WD4b.js","./CyyW12qt.js","./Dpaauiqf.js","./DstbFQD6.js","./CxKE0Jjq.js","./BDmhfu3R.js","./DxjXvSCh.js","./qyF9FwQ9.js","./XI-Li77m.js","./DjsBn23O.js","./BNR3I_eR.js","./CTK_rQrQ.js","./Bs6xTxvz.js","./BsJbwhv8.js","./Cm7AOsqL.js","./C_1gjxB4.js","./Cp_8tW2x.js","./Dy3IPmu3.js","./DHehJAQP.js","./C-nwrPug.js","./C0wm8_Yw.js","./B0eu-fbb.js","./B92oQJPd.js","./BP3dapwT.js","./9ka9skRU.js","./BzQEzIrU.js","./ByYe5JNT.js","./Cy-nR8IT.js","./DX8bWC0d.js","./DMoBPOW4.js","./UcZE3skJ.js","./CaYZrGFV.js","./qCQtSDyD.js","./B6x9AGkc.js","./F-jtgeNJ.js","./DLJUou40.js","./CjPYSNTY.js","./CL0rnFIk.js","./BtCruPwu.js","./CizvIrwu.js","./BwRhBidx.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./PPVm8Dsz.js";import{n as p,_ as l,m as c,a as g}from"./CDGqq53N.js";import{s as _}from"./C9_KfL0q.js";import{a as f}from"./D1sKJjB8.js";import"./BzZgUCJc.js";import{z as w,c as u,t as d,a as h,d as b}from"./C6j0c8D7.js";import{m as T,N as v}from"./Bs6xTxvz.js";let o=class extends p{constructor(e){super(e),this._circuitTable=null,this._circuitSectionTable=null,this._subcircuitTable=null,this.telecomDomainNetwork=null,this.utilityNetwork=null}initialize(){this.addHandles([f(()=>[this.gdbVersion,this.historicMoment],()=>{this._setLayerVersionAndMoment(this._circuitTable),this._setLayerVersionAndMoment(this._circuitSectionTable),this._setLayerVersionAndMoment(this._subcircuitTable)})])}get _circuitTableUrl(){if(this.telecomDomainNetwork==null)return null;const e=this.telecomDomainNetwork.circuitSources?.find(i=>i.utilityNetworkFeatureClassUsageType==="esriUNFCUTCircuit")?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get _circuitSectionTableUrl(){if(this.telecomDomainNetwork==null)return null;const e=this.telecomDomainNetwork.circuitSources?.find(i=>i.utilityNetworkFeatureClassUsageType==="esriUNFCUTCircuitSection")?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get _subcircuitTableUrl(){if(this.telecomDomainNetwork==null)return null;const e=this.telecomDomainNetwork.circuitSources?.find(i=>i.utilityNetworkFeatureClassUsageType==="esriUNFCUTSubcircuit")?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get networkServiceUrl(){return this.utilityNetwork?.networkServiceUrl??null}get featureServiceUrl(){return this.utilityNetwork?.featureServiceUrl??null}get gdbVersion(){return this.utilityNetwork?.gdbVersion??null}get historicMoment(){return this.utilityNetwork?.historicMoment??null}get telecomDomainNetworkName(){return this.telecomDomainNetwork?.domainNetworkName??null}get circuitTable(){if(this._circuitTable!=null)return this._circuitTable;if(this._circuitTableUrl==null)throw new _("circuit-manager:missing-circuit-table-url","Unable to load the circuit table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._circuitTable=new w({url:this._circuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitTable}get circuitSectionTable(){if(this._circuitSectionTable!=null)return this._circuitSectionTable;if(this._circuitSectionTableUrl==null)throw new _("circuit-manager:missing-circuit-section-table-url","Unable to load the circuit section table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._circuitSectionTable=new w({url:this._circuitSectionTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitSectionTable}get subcircuitTable(){if(this._subcircuitTable!=null)return this._subcircuitTable;if(this._subcircuitTableUrl==null)throw new _("circuit-manager:missing-subcircuit-table-url","Unable to load the subcircuit table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._subcircuitTable=new w({url:this._subcircuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._subcircuitTable}async loadCircuitTable(){return this.circuitTable.load()}async loadCircuitSectionTable(){return this.circuitSectionTable.load()}async loadSubcircuitTable(){return this.subcircuitTable.load()}getCircuit(e,i=!1){return new T({circuitManager:this,name:e,sections:i?new Map:null})}async create(e){const[{createCircuit:i},{default:n}]=await Promise.all([a(()=>import("./CpDytECf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url),a(()=>import("./CTK_rQrQ.js"),__vite__mapDeps([65,2,3,4,66,5,1,6,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,7,31,83,84,85]),import.meta.url)]),t=n.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(t.sessionId=d,await h(this.featureServiceUrl,this.gdbVersion,!0)):t.sessionId=null,t.gdbVersion=this.gdbVersion;const s=b(this.featureServiceUrl,null,this.gdbVersion,!1),r=await i(this.networkServiceUrl,t);e.circuitManager=this,s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:r.exceededTransferLimit,historicMoment:r.moment,editedFeatures:r.serviceEdits||void 0})}async alter(e){if(e.globalId==null)throw new _("circuit-manager:alter-without-globalid","A circuit being altered must have a globalId","To ensure the circuit has a globalId, query the circuit first");const[{alterCircuit:i},{default:n}]=await Promise.all([a(()=>import("./qCQtSDyD.js"),__vite__mapDeps([86,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url),a(()=>import("./CTK_rQrQ.js"),__vite__mapDeps([65,2,3,4,66,5,1,6,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,7,31,83,84,85]),import.meta.url)]),t=n.from({circuit:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(t.sessionId=d,await h(this.featureServiceUrl,this.gdbVersion,!0)):t.sessionId=null,t.gdbVersion=this.gdbVersion;const s=b(this.featureServiceUrl,null,this.gdbVersion,!1),r=await i(this.networkServiceUrl,t);e.circuitManager=this,s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:r.exceededTransferLimit,historicMoment:r.moment,editedFeatures:r.serviceEdits||void 0})}async delete(e){const[{deleteCircuits:i},{default:n}]=await Promise.all([a(()=>import("./B6x9AGkc.js"),__vite__mapDeps([87,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url),a(()=>import("./F-jtgeNJ.js"),__vite__mapDeps([88,2,3,4]),import.meta.url)]),t=n.from({circuits:e,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(t.sessionId=d,await h(this.featureServiceUrl,this.gdbVersion,!0)):t.sessionId=null,t.gdbVersion=this.gdbVersion;const s=b(this.featureServiceUrl,null,this.gdbVersion,!1),r=await i(this.networkServiceUrl,t);s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:r.exceededTransferLimit,historicMoment:r.moment,editedFeatures:r.serviceEdits||void 0})}async export(e){const[{exportCircuits:i},{default:n}]=await Promise.all([a(()=>import("./DLJUou40.js"),__vite__mapDeps([89,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url),a(()=>import("./CjPYSNTY.js"),__vite__mapDeps([90,2,3,4,1,5,6]),import.meta.url)]),t=n.from(e);u(this.featureServiceUrl,this.gdbVersion||null)?(t.sessionId=d,await h(this.featureServiceUrl,this.gdbVersion,!0)):t.sessionId=null,t.domainNetworkName=this.telecomDomainNetworkName,t.gdbVersion=this.gdbVersion,t.moment=this.historicMoment;const s=b(this.featureServiceUrl,null,this.gdbVersion,!1),r=await i(this.networkServiceUrl,t);return s.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:r.exceededTransferLimit,historicMoment:r.moment,editedFeatures:r.serviceEdits||void 0}),r.circuits}async verify(e,i=!1){const[{verifyCircuits:n},{default:t}]=await Promise.all([a(()=>import("./CL0rnFIk.js"),__vite__mapDeps([91,1,2,3,4,5,6,7,17,16,9,10,11,12,13,14,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url),a(()=>import("./BtCruPwu.js"),__vite__mapDeps([92,2,3,4]),import.meta.url)]),s=t.from({circuits:e,synthesizeGeometries:i,domainNetworkName:this.telecomDomainNetworkName});u(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionId=d,await h(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionId=null,s.gdbVersion=this.gdbVersion;const r=b(this.featureServiceUrl,null,this.gdbVersion,!1),m=await n(this.networkServiceUrl,s);return r.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:m.exceededTransferLimit,historicMoment:m.moment,editedFeatures:m.serviceEdits||void 0}),m.circuits}async queryCircuits(e){const[{queryCircuits:i},{default:n}]=await Promise.all([a(()=>import("./CizvIrwu.js"),__vite__mapDeps([93,1,2,3,4,5,6,7,66,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,31,83,84,85]),import.meta.url),a(()=>import("./BwRhBidx.js"),__vite__mapDeps([94,2,3,4,66,5,1,6,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,7,31,83,84,85]),import.meta.url)]),t=Array.isArray(e)?{circuits:e}:e,s=n.from(t);u(this.featureServiceUrl,this.gdbVersion||null)?s.sessionId=d:s.sessionId=null,s.domainNetworkName=this.telecomDomainNetworkName,s.resultTypes=["circuit"],s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const r=await i(this.networkServiceUrl,s);return r.circuits?.forEach(m=>m.circuitManager=this),r.circuits||[]}async queryCircuitNames(e){const[{queryCircuits:i},{default:n}]=await Promise.all([a(()=>import("./CizvIrwu.js"),__vite__mapDeps([93,1,2,3,4,5,6,7,66,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,31,83,84,85]),import.meta.url),a(()=>import("./BwRhBidx.js"),__vite__mapDeps([94,2,3,4,66,5,1,6,67,68,13,14,69,38,64,70,71,15,16,72,12,21,17,73,74,75,76,19,77,78,79,80,29,11,18,37,32,33,34,35,36,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,25,81,82,7,31,83,84,85]),import.meta.url)]),t=n.from(e);return u(this.featureServiceUrl,this.gdbVersion||null)?t.sessionId=d:t.sessionId=null,t.domainNetworkName=this.telecomDomainNetworkName,t.resultTypes=["name"],t.gdbVersion=this.gdbVersion,t.moment=this.historicMoment,(await i(this.networkServiceUrl,t)).circuitNames||[]}_setLayerVersionAndMoment(e){e!=null&&(e.gdbVersion!==this.gdbVersion&&(e.gdbVersion=this.gdbVersion),e.historicMoment!==this.historicMoment&&(e.historicMoment=this.historicMoment))}};l([c()],o.prototype,"_circuitTable",void 0),l([c()],o.prototype,"_circuitSectionTable",void 0),l([c()],o.prototype,"_subcircuitTable",void 0),l([c({constructOnly:!0})],o.prototype,"telecomDomainNetwork",void 0),l([c({type:v,constructOnly:!0})],o.prototype,"utilityNetwork",void 0),l([c()],o.prototype,"networkServiceUrl",null),l([c()],o.prototype,"featureServiceUrl",null),l([c()],o.prototype,"gdbVersion",null),l([c()],o.prototype,"historicMoment",null),l([c()],o.prototype,"telecomDomainNetworkName",null),l([c()],o.prototype,"circuitTable",null),l([c()],o.prototype,"circuitSectionTable",null),l([c()],o.prototype,"subcircuitTable",null),o=l([g("esri.networks.CircuitManager")],o);const E=o;export{E as default};
