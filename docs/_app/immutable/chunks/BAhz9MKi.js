import"./CeqJsXbK.js";import"./Bth7Ll1g.js";import"./Cye58NZd.js";import"./CiMdwfzi.js";import{l as F}from"./SBtBj7ez.js";import{i as M,L as T,s as l,x as c,a as v,B as n,f as R,F as $,N as wi,p as $i,h as xi}from"./BlOilgcx.js";import{c as Li}from"./CpmMRAq-.js";import{c as ki}from"./Cg-g7sfq.js";import{s as ve}from"./Dev14Fca.js";import{b as Ei,R as zi,C as Ci,V as Ri}from"./Chviu7eU.js";import{u as X}from"./C_0-aHjr.js";import{b as He,t as Ai,c as Si}from"./C86rxpFH.js";import{a as ye,e as pe,s as Ii,v as Fi}from"./uk9lHvW8.js";import{l as Me,b as Ie}from"./CYlsogSb.js";import{_ as Mi}from"./DPiLst09.js";function Ti(t){return ki(t)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */function ji(t,e){return e}function O(t,e,i){if(!e)return;if(typeof e=="number")return e;if(typeof e=="string")return Ti(e);if("value"in e||"unit"in e)return ve(t.dotValue??"",e);if("colorName"in e&&"bandName"in e){const r=t[e.colorName],s=t[e.bandName]||e.bandName;return`${r}: ${s}`}if("showCount"in e)return e.showCount?t.clusterCountTitle:void 0;let a=null;return ji(e,i)?a=e.ratioPercentTotal?"showRatioPercentTotal":e.ratioPercent?"showRatioPercent":e.ratio?"showRatio":e.normField?"showNormField":e.field?"showField":null:ni(e,i)&&(a=e.normField?"showNormField":e.normByPct?"showNormPct":e.field?"showField":null),a?ve(a==="showField"?"{field}":t[a]??"",{field:e.field,normField:e.normField}):void 0}function ni(t,e){return!e}function oi(t,e){if(!t.title||typeof t.title=="string")return t.title;const i=t.type==="color-ramp"||t.type==="opacity-ramp",a=t.title,r=O(e,a,i);return ni(a,i)&&a.title?`${a.title} (${r})`:r}const Bi=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/iu;function ci(t,e,i){switch(e){case"heatmap-ramp":return(i[t.label]||t.label)??null;case"stretch-ramp":const a="value"in t?t.value:void 0,r=t.label?i[t.label]:"";return r?`${r}: ${typeof a=="string"?a:Li(a??0,{style:"decimal",notation:a?.toString().toLowerCase().includes("e")?"scientific":"standard"})}`:"";default:return t.label??null}}function di(t,e){return!!(e&&e==="Stretched"&&"version"in t&&typeof t.version=="number"&&t.version>=10.3&&t.declaredClass==="esri.layers.ImageryLayer")}function N(t){return t?t/72*96:0}function Gi(t){return t?t*72/96:0}function Ni(t){if(typeof t=="string"){const e=t.match(Bi);if(e){const i=Number(e[1]),a=e[3]?.toLowerCase(),r=t.startsWith("-"),s=a==="px"?Gi(i):i;return r?-s:s}return null}return t}function P(t,e){const i=O(t,e,!1),a=i?t.previewTemplateAriaLabel:t.previewAriaLabel;return ve(a??"",{label:i})}function D(t,e){!e||!t||(t.querySelector("svg")??t.querySelector("canvas")??t).setAttribute("aria-label",e)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Di=M`.arcgis-spike-ramp__container{display:flex;flex-direction:row;gap:var(--calcite-spacing-sm-plus);margin-left:var(--calcite-spacing-sm)}.arcgis-spike-ramp__preview-container{display:flex;position:relative;gap:var(--calcite-spacing-sm-plus);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-2);padding:0 var(--calcite-spacing-xl)}.arcgis-spike-ramp__preview{display:flex;gap:var(--calcite-spacing-sm-plus);align-items:end}.arcgis-spike-ramp__symbol-preview{display:flex}.arcgis-spike-ramp__lines{display:flex;position:absolute;bottom:0}.arcgis-spike-ramp__labels-container{display:flex;position:relative;top:-5px;flex:1;min-width:120px}.arcgis-spike-ramp__label{position:relative;padding:0 var(--calcite-spacing-sm);line-height:1em;word-break:break-all;font-size:var(--calcite-font-size-sm)}.arcgis-spike-ramp__label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent var(--calcite-color-text-1) transparent transparent;width:0;height:0;content:""}`,U={spikeRampContainer:"arcgis-spike-ramp__container",spikeRampPreviewContainer:"arcgis-spike-ramp__preview-container",spikeRampPreview:"arcgis-spike-ramp__preview",spikeRampSymbolPreview:"arcgis-spike-ramp__symbol-preview",spikeRampLines:"arcgis-spike-ramp__lines",spikeRampLabelsContainer:"arcgis-spike-ramp__labels-container",spikeRampLabel:"arcgis-spike-ramp__label"},qi="#ddd",A=window.devicePixelRatio;function Fe(t){return t.infos.filter((e,i)=>i%2===0)}function si(t){return!!(t&&typeof t=="object")}var K;let Ui=(K=class extends T{constructor(){super(...arguments),this.legendElement=null}render(){return this.legendElement.infos.length!==5?null:c`<div class=${l(U.spikeRampContainer)}><div class=${l(U.spikeRampPreviewContainer)}>${this._renderSpikeRampLines()}${this._renderSpikeRampPreview()}</div>${this._renderSpikeRampLabels()}</div>`}_renderSpikeRampPreview(){const e=this.legendElement,[i,a,r]=Fe(e).map(({preview:s,label:o})=>{if(!s)return null;const d=s.cloneNode(!0);return d.classList.add(U.spikeRampSymbolPreview),D(d,P(this.messages,o)),d});return!i||!a||!r?null:c`<div class=${l(U.spikeRampPreview)}><div>${r}</div><div>${a}</div><div>${i}</div></div>`}_renderSpikeRampLines(){const e=this.legendElement,[{width:i,height:a},{width:r},{width:s,height:o}]=Fe(e).map(({size:I})=>si(I)?{width:N(I.width),height:N(I.height)}:{width:0,height:0}),d=10,g=8,p=i+r+s+d*3,h=a,m=document.createElement("canvas");m.width=(p+d)*A,m.height=h*A,m.style.width=`${m.width/A}px`,m.style.height=`${m.height/A}px`;const f=m.getContext("2d");f.beginPath();const y=p-(i/2+d),u=0,x=p+g;f.moveTo(y*A,u*A),f.lineTo(x*A,0*A);const k=(p-g)/2,_=(a-o)/2,j=p+g,C=(a-o)/2;f.moveTo(k*A,_*A),f.lineTo(j*A,C*A);const w=s/2,E=h-o,S=p+g,q=h-o;return f.moveTo(w*A,E*A),f.lineTo(S*A,q*A),f.strokeStyle=qi,f.lineWidth=.5*A,f.stroke(),c`<div class=${l(U.spikeRampLines)}>${m}</div>`}_renderSpikeRampLabels(){const e=this.legendElement,[{label:i,height:a},{label:r},{label:s,height:o}]=Fe(e).map(({label:m,size:f})=>({label:m,height:si(f)?N(f.height):0})),d=a-o,g={position:"absolute",top:"0"},p={position:"absolute",top:`${d/2}px`},h={position:"absolute",top:`${d}px`};return c`<div class=${l(U.spikeRampLabelsContainer)}><div class=${l(U.spikeRampLabel)} style=${v(g)}>${i}</div><div class=${l(U.spikeRampLabel)} style=${v(p)}>${r}</div><div class=${l(U.spikeRampLabel)} style=${v(h)}>${s}</div></div>`}},K.properties={legendElement:0,messages:0},K.styles=Di,K);F("arcgis-legend-spike-ramp",Ui);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Oi=M`.arcgis-legend--card__size-ramp--container{display:flex;align-items:center;justify-content:center}.arcgis-legend--card__size-ramp--vertical-container{display:flex;flex-direction:column;align-items:center;justify-content:center}.arcgis-legend--card__size-ramp--label{margin:0 .5em;white-space:nowrap}.arcgis-legend--card__size-ramp--vertical-ramp{display:flex;flex-direction:column;align-items:center}.arcgis-legend--card__size-ramp--ramp{display:flex;flex-direction:row-reverse;align-items:center}.arcgis-legend--card__size-ramp--preview{display:flex}`,W={container:"arcgis-legend--card__size-ramp--container",verticalContainer:"arcgis-legend--card__size-ramp--vertical-container",label:"arcgis-legend--card__size-ramp--label",ramp:"arcgis-legend--card__size-ramp--ramp",verticalRamp:"arcgis-legend--card__size-ramp--vertical-ramp",preview:"arcgis-legend--card__size-ramp--preview"},Pi="#ddd";function Vi(t){if(!t)return;if(t.type.includes("3d")){if(!("symbolLayers"in t)||!t.symbolLayers?.length)return;const i=t.symbolLayers.at(-1),a=i&&"resource"in i?i.resource?.primitive:void 0;return a==="circle"||a==="cross"||a==="kite"||a==="sphere"||a==="cube"||a==="diamond"}const e="style"in t?t.style:void 0;return e==="circle"||e==="diamond"||e==="cross"}function Wi(t){if(t){if(t.type.includes("3d")){if(!("symbolLayers"in t)||!t.symbolLayers?.length)return;const e=t.symbolLayers.at(-1),i=e&&"resource"in e?e.resource?.primitive:void 0;return i==="triangle"||i==="cone"||i==="tetrahedron"}return"style"in t&&t.style==="triangle"}}const be=class be extends T{constructor(){super(...arguments),this.hasIndicators=!1,this.legendElement=null,this.opacity=1}render(){if(this.legendElement.theme==="spike")return c`<div style=${v({display:"flex",flex:"1",justifyContent:"center"})}><arcgis-legend-spike-ramp .legendElement=${this.legendElement} .messages=${this.messages}></arcgis-legend-spike-ramp></div>`;const{legendElement:e,hasIndicators:i,opacity:a}=this,r=e.infos,s=r.at(0),o=r.at(-1);if(!s||!o)return null;const{label:d,...g}=s,{label:p,...h}=o;let m=g.preview,f=h.preview;if(!m||!f)return null;m=m.cloneNode(!0),m.style.display="flex",D(m,P(this.messages,d)),f=f.cloneNode(!0),f.style.display="flex",D(f,P(this.messages,p));const y={opacity:`${a??""}`};return c`<div class=${l(i?W.verticalContainer:W.container)}><div class=${l(W.label)}>${i?d:p}</div><div class=${l(i?W.verticalRamp:W.ramp)}><div class=${l(W.preview)} style=${v(y)}>${m}</div>${this._renderSizeRampLines(e)}<div class=${l(W.preview)} style=${v(y)}>${f}</div></div><div class=${l(W.label)}>${i?p:d}</div></div>`}_renderSizeRampLines(e){const i=e.infos,a=i.at(0),r=i.at(-1);if(!a||!r)return null;const s=a.symbol,o=this.hasIndicators,d=a.size&&typeof a.size=="number"?a.size:0,g=r.size&&typeof r.size=="number"?r.size:0,p=a.outlineSize||0,h=r.outlineSize||0,m=N(d+p),f=N(g+h),y=o?m:m+50,u=o?m/2+50:m,x=Wi(s),z=Vi(s),k=document.createElement("canvas");k.width=y,k.height=u,k.style.width=`${k.width}px`,k.style.height=`${k.height}px`;const _=k.getContext("2d");if(o){_.beginPath();const j=0,C=0,w=y/2-f/2,E=u;_.moveTo(j,C),_.lineTo(w,E);const S=y,q=0,I=y/2+f/2,Y=u;_.moveTo(S,q),_.lineTo(I,Y)}else{_.beginPath();const j=0,C=u/2-f/2,w=y;_.moveTo(j,C),_.lineTo(w,0);const S=0,q=u/2+f/2,I=y,Y=u;_.moveTo(S,q),_.lineTo(I,Y)}return _.strokeStyle=Pi,_.stroke(),c`<div style=${v(o?{display:"flex",marginTop:`-${x?0:z?m/2:0}px`,marginBottom:`-${x?f:z?f/2:0}px`}:{display:"flex",marginRight:`-${x?0:z?m/2:0}px`,marginLeft:`-${x?0:z?f/2:0}px`})}>${k}</div>`}};be.properties={hasIndicators:5,legendElement:0,opacity:9,messages:0},be.styles=Oi;let Te=be;F("arcgis-legend-card-size-ramp",Te);function gi(t){return Ei(t)}function pi(t){return zi(t)}function je(t,e,i,a,r,s,o,d,g){return Ci(t,e,i,a,r,s,o,d,g)}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */let Hi=0;function Zi(){return Hi++}let Yi=0;function Qi(){return Yi++}let Ji=0;function Xi(){return Ji++}const li=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),Ki="http://www.w3.org/2000/svg",ea=Math.PI;function mi(t){const{pattern:e,linearGradient:i}=t;if(e)return R`<pattern height=${e.height??n} id=${e.id??n} patternUnits=userSpaceOnUse width=${e.width??n} x=${e.x??0??n} y=${e.y??0??n}><image height=${e.image.height??n} href=${e.image.href??n} width=${e.image.width??n} x=${e.image.x??n} y=${e.image.y??n} /></pattern>`;if(i){const a=i.stops.map(r=>R`<stop offset=${r.offset??n} stop-color=${r.color??n} />`);return R`<linearGradient gradientUnits=userSpaceOnUse id=${i.id??n} x1=${i.x1??n} x2=${i.x2??n} y1=${i.y1??n} y2=${i.y2??n}>${a}</linearGradient>`}return null}function Ze(t){if(!t)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in t))return{fill:new X(t).toString(),pattern:null,linearGradient:null};if(t.type==="pattern"){const i=`patternId-${Zi()}`;return{fill:`url(#${i})`,pattern:{id:i,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}},linearGradient:null}}const e=`linearGradientId-${Qi()}`;return{fill:`url(#${e})`,pattern:null,linearGradient:{id:e,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map(i=>({offset:i.offset,color:i.color&&new X(i.color).toString()}))}}}function Ye(t){const e={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return t&&(t.width!=null&&(e.width=t.width),t.cap&&(e.cap=t.cap),t.join&&(e.join=t.join.toString()),t.color&&(e.color=new X(t.color).toString()),t.dashArray&&(e.dashArray=t.dashArray),t.dashoffset&&(e.dashOffset=t.dashoffset),t.style&&!t.dashArray&&(e.dashArray=ia(t).join(",")||"none")),e}function ia(t){if(!t?.style)return[];const{dashArray:e,style:i,width:a}=t;if(typeof e=="string"&&e!=="none")return e.split(",").map(o=>Number(o));const r=a??0,s=li.has(i)?li.get(i).map(o=>o*r):[];if(t.cap!=="butt")for(const[o,d]of s.entries())s[o]=o%2===1?d+r:Math.max(d-r,1);return s}function aa(t){return t.map(e=>`${e.command} ${e.values.join(" ")}`).join(" ").trim()}function Qe(t,e){if(t==null)throw new Error("value is None")}function Je(t,e,i,a,r){if(t){if(t.type==="circle")return R`<circle cx=${t.cx??n} cy=${t.cy??n} fill=${e??n} fill-rule=evenodd r=${t.r??n} stroke=${i.color??n} stroke-dasharray=${i.dashArray??void 0??n} stroke-dashoffset=${i.dashOffset??void 0??n} stroke-linecap=${i.cap??n} stroke-linejoin=${i.join??n} stroke-miterlimit=4 stroke-width=${i.width??n} />`;if(t.type==="ellipse")return R`<ellipse cx=${t.cx??n} cy=${t.cy??n} fill=${e??n} fill-rule=evenodd rx=${t.rx??n} ry=${t.ry??n} stroke=${i.color??n} stroke-dasharray=${i.dashArray??void 0??n} stroke-linecap=${i.cap??n} stroke-linejoin=${i.join??n} stroke-miterlimit=4 stroke-width=${i.width??n} />`;if(t.type==="rect")return R`<rect fill=${e??n} fill-rule=evenodd height=${t.height??n} stroke=${i.color??n} stroke-dasharray=${i.dashArray??void 0??n} stroke-linecap=${i.cap??n} stroke-linejoin=${i.join??n} stroke-miterlimit=4 stroke-width=${i.width??n} width=${t.width??n} x=${t.x??n} y=${t.y??n} />`;if(t.type==="image")return R`<image aria-label=${r??""??n} height=${t.height??n} href=${t.src??n} preserveAspectRatio=none width=${t.width??n} x=${t.x??n} y=${t.y??n} />`;if(t.type==="path"){const s=typeof t.path!="string"?aa(t.path):t.path;return R`<path d=${s??n} fill=${e??n} fill-rule=evenodd stroke=${i.color??n} stroke-dasharray=${i.dashArray??void 0??n} stroke-linecap=${i.cap??n} stroke-linejoin=${i.join??n} stroke-miterlimit=4 stroke-width=${i.width??n} />`}if(t.type==="text")return Qe(a),R`<text dominant-baseline=${(a.dominantBaseline==="inherit"||a.dominantBaseline==="alphabetic"||a.dominantBaseline==="auto"||a.dominantBaseline==="central"||a.dominantBaseline==="hanging"||a.dominantBaseline==="ideographic"||a.dominantBaseline==="mathematical"||a.dominantBaseline==="middle"||a.dominantBaseline==="text-bottom"||a.dominantBaseline==="text-top"?a.dominantBaseline:void 0)??n} fill=${e??n} fill-rule=evenodd font-family=${a.font.family??n} font-size=${a.font.size??n} font-style=${a.font.style??n} font-variant=${a.font.variant??n} font-weight=${a.font.weight??n} kerning=${a.kerning??n} rotate=${a.rotate??n} stroke=${i.color??n} stroke-dasharray=${i.dashArray??void 0??n} stroke-linecap=${i.cap??n} stroke-linejoin=${i.join??n} stroke-miterlimit=4 stroke-width=${i.width??n} text-anchor=${(a.align==="inherit"||a.align==="middle"||a.align==="end"||a.align==="start"?a.align:void 0)??n} text-decoration=${(a.decoration==="inherit"||a.decoration==="none"||a.decoration==="blink"||a.decoration==="line-through"||a.decoration==="overline"||a.decoration==="underline"?a.decoration:void 0)??n} text-rendering=auto x=${t.x??n} y=${t.y??n}>${t.text}</text>`}return null}function ta(t,e,i){const a=fi(t);if(!a)return null;const{strength:r,radius:s}=a,o=r>0?s:0,d=5**(e/100)*(.4+e/100),g=(r+o*.5)*d,p=(r+o)*e,h=r*4+1;return R`<filter filterUnits=userSpaceOnUse height=300% .id=${`bloom${i}`} width=300% x=-100% y=-100%><feMorphology in=SourceGraphic operator=dilate radius=${g??n} result=dilate /><feGaussianBlur in=dilate result=blur stdDeviation=${p/25} /><feGaussianBlur in=blur result=intensityBlur stdDeviation=${p/50} /><feComponentTransfer in=SourceGraphic result=intensityBrightness><feFuncR slope=${h??n} type=linear /><feFuncG slope=${h??n} type=linear /><feFuncB slope=${h??n} type=linear /></feComponentTransfer><feMerge><feMergeNode in=intensityBlur /><feMergeNode in=intensityBrightness /><feGaussianBlur stdDeviation=${r/10} /></feMerge></filter>`}function fe(t,e){const i=t*(ea/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function hi(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(t){const a=t.alignBaseline,r=a==="baseline"?"auto":a==="top"?"text-top":a==="bottom"?"hanging":a;i.align=t.align,i.dominantBaseline=r,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",Qe(e),i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size?.toString()||"10pt",i.font.family=e.family||"serif"}return i}function ra(t,e){if(!t||t.length===0)return null;const i=[];for(const a of t){const{shape:r,fill:s,stroke:o,font:d}=a,g=Ze(s),p=Ye(o),h=r.type==="text"?hi(r,d):null,m=Je(r,g.fill,p,h);m&&i.push(m)}return R`<mask id=${e??n} maskUnits=userSpaceOnUse><g>${i}</g></mask>`}function fi(t){const e=t?.match(/bloom\(\s*([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*\)/iu);if(!e)return null;const[,i,a,r]=e;return{strength:Number(i),radius:N(Ni(a)),threshold:Number(r)}}function sa(t,e,i,a={}){const r=[],s=[],o=Xi(),d=ta(a.cssEffectFilter,e,o);let g=null;if(d){const m=fi(a.cssEffectFilter),f=a.clipBloomEffect||!m?.strength?0:(m.strength+m.radius/2)/3,y=e+e*f,u=i+i*f;g=[Math.max(y,10),Math.max(u,10)]}let p=e,h=i;if(a.useRotationSize)for(let m=0;m<t.length;m++){const f=a.rotations?.[m]??0;p=Math.max(fe(f,e),p),h=Math.max(fe(f,i),h)}for(let m=0;m<t.length;m++){const f=t[m],y=[],u=[];let x=0,z=0,k=0;for(const E of f){const{shape:S,fill:q,stroke:I,font:Y,offset:V}=E;!a.ignoreStrokeWidth&&S.type!=="text"&&(x+=I?.width||0);const me=Ze(q),he=Ye(I),Se=S.type==="text"?hi(S,Y):null;r.push(mi(me)),y.push(Je(S,me.fill,he,Se,a.ariaLabel)),u.push(gi(S)),V&&(z+=V[0],k+=V[1])}const _=a.rotations?.[m]??0;a.useRotationSize&&(z+=(p-fe(_,e))/2,k+=(h-fe(_,i))/2);const j=pi(u),C=je(j,e,i,x,a.scale??!1,_,a.useRotationSize??!1,[z,k],g);let w=null;if(a.masking){const E=`mask-${m}`,S=a.masking[m];r.push(ra(S,E)),w=`url(#${E})`}s.push(w?R`<g mask=${w??n}><g transform=${C??n}>${y}</g></g>`:R`<g transform=${C??n}>${y}</g>`)}return d&&(Qe(g),p=g[0],h=g[1]),c`<svg aria-label=${a.ariaLabel??n} height=${h??n} role=img style=${v("display: block;")} width=${p??n} xmlns=${Ki}>${R`${d}<defs>${r}</defs>${d?R`<g filter=${`url(#bloom${o})`}>${s}</g>`:s}`}</svg>`}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const la=M`:host{display:flex}.arcgis-legend--card__layer-row{display:flex;flex:1}.arcgis-legend--card__color-ramp-container{justify-content:center}.arcgis-legend--card__symbol-container{display:flex;flex-direction:column}.arcgis-legend--card__interval-separators-container{text-align:center}.arcgis-legend--card__interval-separator{font-size:.5em}.arcgis-legend--card__ramp-label{margin:0 .5em;white-space:nowrap;height:25px;line-height:var(--calcite-font-line-height-fixed-xl)}`,re={layerRow:"arcgis-legend--card__layer-row",colorRampContainer:"arcgis-legend--card__color-ramp-container",symbolContainer:"arcgis-legend--card__symbol-container",intervalSeparatorsContainer:"arcgis-legend--card__interval-separators-container",intervalSeparator:"arcgis-legend--card__interval-separator",rampLabel:"arcgis-legend--card__ramp-label"},na=25,oa=25,ca=100,_e=class _e extends T{constructor(){super(...arguments),this.legendElement=null,this.opacity=1}render(){const e=this.legendElement.infos.slice().reverse();return c`<div class=${l($(re.layerRow,re.colorRampContainer))}>${this._renderRampLabel(e[0])}<div class=${l(re.symbolContainer)}>${this._renderPreview(e)}${this._renderMiddleStopRampLabel(e)}</div>${this._renderRampLabel(e.at(-1))}</div>`}_renderPreview(e){const{opacity:i}=this,a=this.legendElement.type==="heatmap-ramp",r=e.length-1,s=oa,o=r>2&&!a?na*r:ca,d=o+20,g=10,p=[[{shape:{type:"path",path:`M0 ${s/2} L${g} 0 L${g} ${s} Z`},fill:e[0].color,stroke:{width:0}},{shape:{type:"rect",x:g,y:0,width:o,height:s},fill:{type:"linear",x1:g,y1:0,x2:o+g,y2:0,colors:e.map((y,u)=>({color:y.color,offset:a&&"ratio"in y?y.ratio:u/r}))},stroke:{width:0}},{shape:{type:"path",path:`M${o+g} 0 L${d} ${s/2} L${o+g} ${s} Z`},fill:e[e.length-1].color,stroke:{width:0}}]],h=this.legendElement.type==="opacity-ramp"?this.messages.previewOpacityRampAriaLabel:this.messages.previewColorRampAriaLabel,m=sa(p,d,s,{ariaLabel:h}),f={filter:this.cssEffectFilter,opacity:i==null?void 0:`${i}`};return c`<div style=${v(f)}>${m}</div>`}_renderMiddleStopRampLabel(e){const i=e.length%2!==0?e[e.length/2|0]:null;return i?c`<div class=${l(re.intervalSeparatorsContainer)}><div class=${l(re.intervalSeparator)}>|</div>${this._renderRampLabel(i)}</div>`:null}_renderRampLabel(e){return c`<div class=${l(re.rampLabel)}>${ci(e,this.legendElement.type,this.messages)}</div>`}};_e.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},_e.styles=la;let Be=_e;F("arcgis-legend-card-color-ramp",Be);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const da=M`.arcgis-relationship-ramp--diamond__container{display:flex;font-size:var(--calcite-font-size-sm)}.arcgis-relationship-ramp--diamond__left-column{align-self:center;padding-right:5px;max-width:85px;text-align:right}.arcgis-relationship-ramp--diamond__right-column{align-self:center;padding-left:5px;max-width:85px;text-align:left}.arcgis-relationship-ramp--diamond__middle-column{display:flex;flex-direction:column;text-align:center}.arcgis-relationship-ramp--diamond__middle-column--label{align-self:center;max-width:85px}.arcgis-relationship-ramp--diamond__middle-column--ramp{width:85px;height:85px}.arcgis-relationship-ramp--square__table{display:table;font-size:var(--calcite-font-size-sm)}.arcgis-relationship-ramp--square__table-row{display:table-row}.arcgis-relationship-ramp--square__table-cell{display:table-cell}.arcgis-relationship-ramp--square__table-label{max-width:95px}.arcgis-relationship-ramp--square__table-label--left-bottom{vertical-align:bottom;text-align:left}.arcgis-relationship-ramp--square__table-label--right-bottom{vertical-align:bottom;text-align:right}.arcgis-relationship-ramp--square__table-label--left-top{vertical-align:top;text-align:left}.arcgis-relationship-ramp--square__table-label--right-top{vertical-align:top;text-align:right}`,ga="http://www.w3.org/2000/svg",b={diamondContainer:"arcgis-relationship-ramp--diamond__container",diamondLeftCol:"arcgis-relationship-ramp--diamond__left-column",diamondRightCol:"arcgis-relationship-ramp--diamond__right-column",diamondMidCol:"arcgis-relationship-ramp--diamond__middle-column",diamondMidColLabel:"arcgis-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"arcgis-relationship-ramp--diamond__middle-column--ramp",squareTable:"arcgis-relationship-ramp--square__table",squareTableRow:"arcgis-relationship-ramp--square__table-row",squareTableCell:"arcgis-relationship-ramp--square__table-cell",squareTableLabel:"arcgis-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"arcgis-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"arcgis-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"arcgis-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"arcgis-relationship-ramp--square__table-label--right-top"},we=class we extends T{constructor(){super(...arguments),this._direction=He(),this.legendElement=null}_getLineMarkers(e,i){const a="arrowStart",r="arrowEnd",s=e==="left",o={markerStart:null,markerEnd:null};switch(i){case"HL":s?o.markerStart=`url(#${r})`:o.markerEnd=`url(#${a})`;break;case"LL":o.markerStart=`url(#${r})`;break;case"LH":s?o.markerEnd=`url(#${a})`:o.markerStart=`url(#${r})`;break;default:o.markerEnd=`url(#${a})`;break}return o}render(){const e=this.legendElement,{focus:i,labels:a}=e,r=!!i,s=this._renderRamp(e),o={justifyContent:"center"},d=this._direction==="rtl";return r?c`<div class=${l(b.diamondContainer)} style=${v(o)}><div class=${l(b.diamondLeftCol)}>${d?a.right:a.left}</div><div class=${l(b.diamondMidCol)}><div class=${l(b.diamondMidColLabel)}>${a.top}</div>${s}<div class=${l(b.diamondMidColLabel)}>${a.bottom}</div></div><div class=${l(b.diamondRightCol)}>${d?a.left:a.right}</div></div>`:c`<div class=${l(b.squareTable)}><div class=${l(b.squareTableRow)}><div class=${l($(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom))}>${d?a.top:a.left}</div><div class=${l(b.squareTableCell)}></div><div class=${l($(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom))}>${d?a.left:a.top}</div></div><div class=${l(b.squareTableRow)}><div class=${l(b.squareTableCell)}></div>${s}<div class=${l(b.squareTableCell)}></div></div><div class=${l(b.squareTableRow)}><div class=${l($(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop))}>${d?a.right:a.bottom}</div><div class=${l(b.squareTableCell)}></div><div class=${l($(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop))}>${d?a.bottom:a.right}</div></div></div>`}_renderRamp(e){const{focus:i,numClasses:a,colors:r,rotation:s}=e,o=this.opacity,d=this.messages.previewRelationshipRampAriaLabel,g=60,p=!!i,h=Math.sqrt(g**2+g**2)+(p?0:5),m=[],f=[],y=[],u=g/a;for(let I=0;I<a;I++){const Y=I*u;for(let V=0;V<a;V++){const me=V*u,he=Ze(r[I][V]),Se=Ye(null),ai={type:"rect",x:me,y:Y,width:u,height:u},ti=mi(he);ti&&m.push(ti);const ri=Je(ai,he.fill,Se,null);ri&&f.push(ri),y.push(gi(ai))}}const x=15,z=15,k=10;let _;p||(_="margin: -15px -15px -18px -15px");const j=this._getLineMarkers("left",i),C=this._getLineMarkers("right",i),w=pi(y),E=je(w,h,h,0,!1,s,!1),S=je(w,h,h,0,!1,p?-45:null,!1),q={filter:this.cssEffectFilter,opacity:o==null?"":`${o}`};return c`<div class=${l(p?b.diamondMidColRamp:b.squareTableCell)} style=${v(q)}><svg .ariaLabel=${d} height=${h??n} role=img style=${v(_)} width=${h??n} xmlns=${ga}>${R`<defs><marker .id=${"arrowStart"} markerHeight=10 markerUnits=strokeWidth markerWidth=10 orient=auto refX=5 refY=5><polyline fill=none points="0,0 5,5 0,10" stroke=#555555 stroke-width=1 /></marker><marker .id=${"arrowEnd"} markerHeight=10 markerUnits=strokeWidth markerWidth=10 orient=auto refX=0 refY=5><polyline fill=none points="5,0 0,5 5,10" stroke=#555555 stroke-width=1 /></marker>${m}</defs><g transform=${E??n}>${f}</g><g transform=${S??n}><line fill=none marker-end=${j.markerEnd??void 0??n} marker-start=${j.markerStart??void 0??n} stroke=#555555 stroke-width=1 x1=${-10} x2=${-10} y1=${g-x} y2=${x} /><line fill=none marker-end=${C.markerEnd??void 0??n} marker-start=${C.markerStart??void 0??n} stroke=#555555 stroke-width=1 x1=${z} x2=${g-z} y1=${g+k} y2=${g+k} /></g>`}</svg></div>`}};we.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},we.styles=da;let Ge=we;F("arcgis-legend-relationship-ramp",Ge);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const vi=10,Xe=20,Re=10,Ke=20,ei={univariateAboveAndBelowSymbol:"arcgis-univariate-above-and-below-ramp__symbol",colorRamp:"arcgis-legend__color-ramp"};function oe(t){return typeof t=="number"}function pa(t="vertical"){const e="stroke:rgb(200, 200, 200);stroke-width:1";return t==="vertical"?c`<svg height=4 width=10>${R`<line style=${v(e)} x1=0 x2=10 y1=2 y2=2 />`}</svg>`:c`<svg height=10 width=10>${R`<line style=${v(e)} x1=5 x2=5 y1=0 y2=10 />`}</svg>`}function ma(t,e="vertical"){const i={height:`${Xe}px`,opacity:t?.toString()};return c`<div class=${l(ei.univariateAboveAndBelowSymbol)} style=${v(i)}>${pa(e)}</div>`}function yi(t,e,i,a="vertical",r){t.infos.forEach((s,o)=>{if(r&&o===2){s.preview=wi(ma(i,a));return}else{const d=(oe(s.size)?N(s.size):0)+(a==="horizontal"?Ke:Re),g=s.preview,p=g?.tagName.toLowerCase()==="div",h=p?g:document.createElement("div");h.className=ei.univariateAboveAndBelowSymbol,a==="horizontal"?h.style.width=`${d}px`:h.style.height=`${d}px`,!p&&g&&h.appendChild(g),D(h,P(e,s.label)),s.preview=h}})}function Ae(t,e="classic"){const i=t.infos,a=i.at(0),r=i.at(-1),s=oe(a.size)?N(a.size):0,o=oe(r.size)?N(r.size):0;return e==="classic"?(s+Re)/2:(s-o)/2}function ce(t,e){if(!t)return null;const i=t.infos.map(r=>r.color),a=Ri(e.type==="full"?i:e.type==="above"?i.slice(0,3):i.slice(2,5),{width:e.width??void 0,height:e.height??void 0,align:e.rampAlignment,cssEffectFilter:e.cssEffectFilter,ariaLabel:e.ariaLabel??void 0});return a.className=ei.colorRamp,e.opacity!=null&&(a.style.opacity=e.opacity.toString()),a}function ii(t,e,i,a="vertical"){let r=0;const s=t.infos,o=Math.floor(s.length/2),d=e==="full"||e==="above"?0:o,g=e==="full"||e==="below"?s.length-1:o;for(let p=d;p<=g;p++)if(i&&p===o)r+=a==="horizontal"?vi:Xe;else{const h=s[p].size,m=(oe(h)?N(h):0)+(a==="horizontal"?Ke:Re);r+=m}return Math.round(r)}function de(t,e,i,a="vertical"){const r=ii(t,e,i,a),s=t.infos,o=Math.floor(s.length/2),d=e==="full"||e==="above"?0:o,g=e==="full"||e==="below"?s.length-1:o,p=oe(s[d].size)?s[d].size:0,h=oe(s[g].size)?s[g].size:0,m=e==="full"?p+h:e==="above"?p:h,f=i?a==="vertical"?Xe:vi:0,y=a==="vertical"?Re*(e==="full"?2:1):Ke*(e==="full"?2:1);return Math.round(r-(N(m)/2+f/2+y/2))}function ui(t,e,i,a="vertical"){const r=t.infos;let s=r.find(({type:d})=>d==="size-ramp"),o=r.find(({type:d})=>d==="color-ramp");return s&&(s={...s},s.infos=[...s.infos],yi(s,e,i,a,!0)),o&&(o={...o},o.infos=[...o.infos]),a==="horizontal"&&(s?.infos.reverse(),o?.infos.reverse()),{sizeRampElement:s,colorRampElement:o}}function bi(t,e,i="vertical"){const a=t.infos;let r=a.find(({type:o})=>o==="size-ramp"),s=a.find(({type:o})=>o==="color-ramp");return r&&(r={...r},r.infos=[...r.infos],yi(r,e,null,i,!1)),s&&(s={...s},s.infos=[...s.infos]),i==="horizontal"&&(r?.infos.reverse(),s?.infos.reverse()),{sizeRampElement:r,colorRampElement:s}}const Ne={marginLeft:"3px"},ne={display:"table-cell",verticalAlign:"middle"},_i={display:"flex",alignItems:"flex-start"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const ha=M`.arcgis-legend--card__layer-row{display:flex;align-items:center}.arcgis-legend--card__symbol{display:block;margin:auto}.arcgis-legend--card__symbol-container{position:relative}.arcgis-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.arcgis-legend__layer-cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-univariate-above-and-below-ramp__color--card{position:relative}.arcgis-univariate-above-and-below-ramp__color--card:before{content:"";border-left:var(--calcite-border-width-sm) solid var(--calcite-color-background);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-background);width:100%;height:15px;display:block;position:absolute;top:var(--calcite-border-width-sm)}.arcgis-univariate-above-and-below-ramp__symbol{display:flex;align-items:center;justify-content:center}`,se={layerRow:"arcgis-legend--card__layer-row",symbol:"arcgis-legend--card__symbol",symbolContainer:"arcgis-legend--card__symbol-container",rampLabelsContainer:"arcgis-legend__ramp-labels",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",univariateAboveAndBelowColorRamp:"arcgis-univariate-above-and-below-ramp__color--card"},$e=class $e extends T{constructor(){super(...arguments),this._direction=He(),this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:i}=this,{sizeRampElement:a,colorRampElement:r}=ui(e,this.messages,i,"horizontal");if(!a)return null;const s=ii(a,"full",!0,"horizontal"),o=de(a,"above",!0,"horizontal"),d=de(a,"below",!0,"horizontal"),g=12,p=this.messages?.previewColorRampAriaLabel,h=ce(r,{width:o,height:g,rampAlignment:"horizontal",opacity:i,type:"above",cssEffectFilter:this.cssEffectFilter,ariaLabel:p}),m=ce(r,{width:d,height:g,rampAlignment:"horizontal",opacity:i,type:"below",cssEffectFilter:this.cssEffectFilter,ariaLabel:p}),f=Ae(a,"card"),y=a.infos.map(C=>C.label),u=y.length-1,x=y.map((C,w)=>w===0||w===u?c`<div>${C}</div>`:null),z={display:"flex",flexDirection:"column"},k={display:"flex",flexDirection:"row"},_={marginTop:"3px",display:"flex"};this._direction==="rtl"?_.marginRight=`${f}px`:_.marginLeft=`${f}px`;const j={width:`${s}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return c`<div class=${l(se.layerRow)} style=${v(z)}><div class=${l(se.symbolContainer)} style=${v(k)}>${a.infos.map(C=>c`<div class=${l(se.symbol)}>${C.preview}</div>`)}</div>${h?c`<div class=${l(se.univariateAboveAndBelowColorRamp)} style=${v(_)}><div>${h}</div><div>${m}</div></div>`:null}<div class=${l(se.layerInfo)}><div class=${l(se.rampLabelsContainer)} style=${v(j)}>${x}</div></div></div>`}};$e.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},$e.styles=ha;let De=$e;F("arcgis-legend-card-univariate-above-and-below-ramp",De);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const fa=M`.arcgis-legend--card__layer-row,.arcgis-legend--card__symbol{display:flex;align-items:center}.arcgis-legend--card__symbol-container{position:relative}.arcgis-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.arcgis-legend__layer-cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-univariate-above-and-below-ramp__color--card{position:relative}.arcgis-univariate-above-and-below-ramp__color--card:before{content:"";border-left:var(--calcite-border-width-sm) solid var(--calcite-color-background);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-background);width:100%;height:15px;display:block;position:absolute;top:var(--calcite-border-width-sm)}.arcgis-univariate-above-and-below-ramp__symbol{display:flex;align-items:center;justify-content:center}`,le={layerRow:"arcgis-legend--card__layer-row",symbol:"arcgis-legend--card__symbol",symbolContainer:"arcgis-legend--card__symbol-container",rampLabelsContainer:"arcgis-legend__ramp-labels",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",univariateAboveAndBelowColorRamp:"arcgis-univariate-above-and-below-ramp__color--card"},xe=class xe extends T{constructor(){super(...arguments),this._direction=He(),this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:i}=this,{sizeRampElement:a,colorRampElement:r}=bi(e,this.messages,"horizontal");if(!a)return null;const s=ii(a,"full",!1,"horizontal"),o=de(a,"full",!1,"horizontal"),d=ce(r,{width:o,height:12,rampAlignment:"horizontal",opacity:i,type:"full",cssEffectFilter:this.cssEffectFilter,ariaLabel:this.messages?.previewColorRampAriaLabel}),g=Ae(a,"card"),p=a.infos.length-1,h=a.infos.map((x,z)=>z===0||z===p?c`<div>${x.label}</div>`:null),m={display:"flex",flexDirection:"column"},f={display:"flex",flexDirection:"row"},y={marginTop:"3px",display:"flex"};this._direction==="rtl"?y.marginRight=`${g}px`:y.marginLeft=`${g}px`;const u={width:`${s}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return c`<div class=${l(le.layerRow)} style=${v(m)}><div class=${l(le.symbolContainer)} style=${v(f)}>${a.infos.map(x=>c`<div class=${l(le.symbol)}>${x.preview}</div>`)}</div><div class=${l(le.univariateAboveAndBelowColorRamp)} style=${v(y)}><div>${d}</div></div><div class=${l(le.layerInfo)}><div class=${l(le.rampLabelsContainer)} style=${v(u)}>${h}</div></div></div>`}};xe.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},xe.styles=fa;let qe=xe;F("arcgis-legend-card-univariate-color-size-ramp",qe);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const va=M`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.arcgis-legend--card__section{word-break:break-word;word-wrap:break-word;padding:var(--calcite-spacing-sm) var(--calcite-spacing-md);min-width:250px;max-width:500px;height:100%;height:-moz-available;height:-webkit-fill-available;height:fill-available;overflow:auto;font-size:var(--calcite-font-size-sm)}.arcgis-legend--card__carousel-title-container{margin-bottom:var(--calcite-spacing-sm)}.arcgis-legend--card__carousel-title{margin:0}.arcgis-legend--card__section-title{font-weight:var(--calcite-font-weight-normal)}.arcgis-legend--card__layer-caption{padding:var(--calcite-spacing-xs) 0;margin:0;font-weight:var(--calcite-font-weight-normal)}.arcgis-legend--card__imagery-layer-image--stretched{display:block;margin-bottom:-2px}.arcgis-legend--card__image-label{padding-right:var(--calcite-spacing-xs);padding-left:var(--calcite-spacing-xs)}.arcgis-legend--card__label-element{margin:.1em;padding:.5em 1em;min-width:2em;min-height:1em;text-align:center;display:flex;align-items:center;justify-content:center;flex:1}.arcgis-legend--card__layer-row{display:flex;align-items:center}.arcgis-legend--card__symbol{display:block;margin:auto}.arcgis-legend--card__pie-chart-ramp-preview{display:flex;justify-content:center}.arcgis-legend--card__relationship-container{display:flex;flex-direction:column}.arcgis-legend--card__relationship-container .arcgis-legend--card__layer-row{padding-bottom:.5em}.arcgis-legend--card__relationship-container .arcgis-legend--card__layer-row:last-child{padding-bottom:0}.arcgis-legend--card__container{display:flex;gap:var(--calcite-spacing-sm);flex-wrap:wrap}.arcgis-legend--card__background-styles-container{display:flex;flex-wrap:wrap}:host([stacked]) .arcgis-legend--card__container{display:table}:host([stacked]) .arcgis-legend--card__symbol-row{display:table-row;width:100%}:host([stacked]) .arcgis-legend--card__label-cell{display:table-cell;vertical-align:middle;padding:var(--calcite-spacing-xxs)}:host([stacked]) .arcgis-legend--card__symbol-cell{display:table-cell;vertical-align:middle;text-align:center;padding:var(--calcite-spacing-xxs)}:host([stacked]) .arcgis-legend--card__symbol-cell div{display:flex;align-items:center;justify-content:center}`,L={carouselTitleContainer:"arcgis-legend--card__carousel-title-container",carouselTitle:"arcgis-legend--card__carousel-title",sectionTitle:"arcgis-legend--card__section-title",imageryLayerStretchedImage:"arcgis-legend--card__imagery-layer-image--stretched",imageLabel:"arcgis-legend--card__image-label",layerCaption:"arcgis-legend--card__layer-caption",labelElement:"arcgis-legend--card__label-element",layerRow:"arcgis-legend--card__layer-row",labelCell:"arcgis-legend--card__label-cell",section:"arcgis-legend--card__section",symbol:"arcgis-legend--card__symbol",symbolRow:"arcgis-legend--card__symbol-row",symbolCell:"arcgis-legend--card__symbol-cell",pieChartRampPreview:"arcgis-legend--card__pie-chart-ramp-preview",relationshipContainer:"arcgis-legend--card__relationship-container",backgroundStylesContainer:"arcgis-legend--card__background-styles-container",container:"arcgis-legend--card__container"};function ya(t){return t?t.r*.299+t.g*.587+t.b*.114>=127:void 0}const Le=class Le extends T{constructor(){super(...arguments),this.stacked=!1,this.headingLevel=3}_getBackgroundStyles(e){const i=e.symbol,a=i.color,r=!!a?.a,s="outline"in i?i.outline:null,o=!!s?.color?.a,d=r&&a?new X([a.r,a.g,a.b,a.a*this.layer.opacity]):new X([255,255,255,0]),g=o&&s.color?new X([s.color.r,s.color.g,s.color.b,s.color.a*this.layer.opacity]):new X([255,255,255,0]),p=ya(e.symbol.color)??!0,h=p?"black":"white",m=p?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)";return{background:r?d.toCss(!0):"none",color:h,textShadow:`-1px -1px 0 ${m},
                  1px -1px 0 ${m},
                  -1px 1px 0 ${m},
                  1px 1px 0 ${m}`,border:o?`1px solid ${g.toCss(!0)}`:"none",filter:this.cssEffectFilter??""}}render(){const e=this._renderLegendElement(),i=oi(this.legendElement,this.messages),a=this.stacked?c`<div class=${l(L.carouselTitleContainer)}>${ye({class:$(L.carouselTitle,pe.heading),level:this.headingLevel,children:this.activeLayerInfo.title})}${i?c`<p class=${l(L.layerCaption)}>${i}</p>`:null}</div>`:i?ye({class:$(L.sectionTitle,pe.heading),level:this.headingLevel,children:i}):null;return c`<section class=${l(L.section)} role=tabpanel tabindex=0>${a}${e}</section>`}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return c`<arcgis-legend-card-size-ramp .hasIndicators=${this.stacked} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-card-size-ramp>`;case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return c`<arcgis-legend-card-color-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-card-color-ramp>`;case"relationship-ramp":return c`<arcgis-legend-relationship-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .opacity=${this.layer.opacity} .messages=${this.messages}></arcgis-legend-relationship-ramp>`;case"pie-chart-ramp":{const{preview:e}=this.legendElement;return D(e,this.messages.previewPieChartAriaLabel),c`<div class=${l(L.pieChartRampPreview)}>${e}</div>`}case"univariate-above-and-below-ramp":return c`<arcgis-legend-card-univariate-above-and-below-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-card-univariate-above-and-below-ramp>`;case"univariate-color-size-ramp":return c`<arcgis-legend-card-univariate-color-size-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-card-univariate-color-size-ramp>`;default:return null}}_renderSymbolTable(e){const i=e.infos.map(s=>this._renderElementInfo(s,e.legendType)).filter(Boolean);if(!i.length)return null;const a=e.infos.some(s=>"symbol"in s&&s.symbol?.type.includes("simple-fill")),r=this.activeLayerInfo.legendElements.some(({type:s})=>s==="relationship-ramp")?L.relationshipContainer:a?L.backgroundStylesContainer:L.container;return c`<div class=${l(r)}>${i}</div>`}_renderElementInfo(e,i){const{layer:a}=this,r="label"in e?e.label:null;if("type"in e&&e.type)return c`<arcgis-legend-card-element .activeLayerInfo=${this.activeLayerInfo} .cssEffectFilter=${this.cssEffectFilter} .stacked=${this.stacked} .headingLevel=${this.headingLevel} .layer=${a} .legendElement=${e} .messages=${this.messages}></arcgis-legend-card-element>`;if(!("preview"in e&&e.preview)&&!("src"in e&&e.src))return null;const s=di(a,i),o=O(this.messages,r,!1)||"";if("src"in e&&e.src){const d={[L.symbolCell]:this.stacked};return c`<div class=${l($(L.layerRow,{[L.symbolRow]:this.stacked}))}><div class=${l($(d))}>${this._renderImage(e,a,s)}</div><div class=${l($(L.imageLabel,{[L.labelCell]:this.stacked}))}>${o}</div></div>`}if("symbol"in e&&e.preview){if(!e.symbol?.type.includes("simple-fill")){if(!e.label)return c`<div>${e.preview}</div>`;const d={[L.symbolCell]:this.stacked},{preview:g}=e,p="previewAriaLabel"in e?e.previewAriaLabel:null,h="label"in e?O(this.messages,e.label,!1):null;return D(g,P(this.messages,p||h)),c`<div class=${l($(L.layerRow,{[L.symbolRow]:this.stacked}))}><div class=${l($(d))}>${g}</div><div class=${l($(L.imageLabel,{[L.labelCell]:this.stacked}))}>${o}</div></div>`}return c`<div class=${l(L.layerRow)}><div class=${l(L.labelElement)} style=${v(this._getBackgroundStyles(e))}>${o}</div></div>`}return null}_renderImage(e,i,a){const{previewAriaLabel:r,src:s,opacity:o}=e,d=O(this.messages,e.label,!1),g={[L.imageryLayerStretchedImage]:a,[L.symbol]:!a},p={opacity:`${o??i.opacity}`},h=P(this.messages,r||d);return c`<img alt=${h??n} .ariaLabel=${h} class=${l($(g))} height=${e.height??void 0??n} src=${s??n} style=${v(p)} width=${e.width??void 0??n}>`}};Le.properties={cssEffectFilter:1,stacked:7,activeLayerInfo:0,headingLevel:9,layer:0,legendElement:0,messages:0},Le.styles=va;let Ue=Le;F("arcgis-legend-card-element",Ue);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const ua=M`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}:host{display:flex;flex-direction:row;position:relative;transition:max-width .25s ease-in-out;overflow-x:auto}calcite-carousel-item[selected]{flex:1;overflow:auto}.arcgis-legend--card__message{padding:.5em 1em}.arcgis-legend--card__service-caption-text{margin:0}.arcgis-legend--card__service-content{display:flex;flex:1}.arcgis-legend--card__service-content>arcgis-legend-card-element:not(:first-child){border-left:1px solid var(--calcite-color-border-2)}.arcgis-legend--card__service{border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-2);min-width:fit-content;display:flex;flex-direction:column;flex:1}.arcgis-legend--card__service-caption-container{border-bottom:1px solid var(--calcite-color-border-2);padding:var(--calcite-spacing-md)}`,Q={message:"arcgis-legend--card__message",serviceCaptionText:"arcgis-legend--card__service-caption-text",serviceContent:"arcgis-legend--card__service-content",service:"arcgis-legend--card__service",serviceCaptionContainer:"arcgis-legend--card__service-caption-container"},ba=768;var ee;let _a=(ee=class extends T{constructor(){super(...arguments),this.stacked=!1,this.headingLevel=3,this.layout="auto",this.type="card"}loaded(){this.manager.onLifecycle(()=>[Me(()=>[this.layout,this.view.width],()=>{this.stacked=this.layout==="stack"||(!this.layout||this.layout==="auto")&&this.view.width<=ba},{initial:!0})])}render(){return(this.stacked?this._renderCarousel():this._renderLayers())||c`<div class=${l(Q.message)}>${this.messages.noLegend}</div>`}_renderTitle(e){return c`<div class=${l(Q.serviceCaptionContainer)}>${ye({class:$(Q.serviceCaptionText,pe.heading),level:this.headingLevel,children:e})}</div>`}_renderCarousel(){const e=[],i=this.activeLayerInfos;if(i)for(const a of i)this._renderSections(a,e);return e?.length?c`<calcite-carousel .label=${this.messages.carousel??""}>${e.map((a,r)=>c`<calcite-carousel-item .label=${ve(this.messages?.pagination?.pageText??"",{index:r+1,total:e.length})}>${a}</calcite-carousel-item>`)}</calcite-carousel>`:null}_renderLayers(){const e=this.activeLayerInfos?.toArray()?.map(i=>this._renderLegendForLayer(i)).filter(Boolean);return e?.length?e:null}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const i=e.children.toArray().map(this._renderLegendForLayer,this);return c`<section class=${l(Q.service)}>${this._renderTitle(e.title)}<div class=${l(Q.serviceContent)}>${i}</div></section>`}return this._renderLegendElementsForLayer(e)}_renderLegendElementsForLayer(e){const i=e.legendElements?.filter(Boolean);if(!i?.length)return null;const a=i.map(r=>c`<arcgis-legend-card-element .activeLayerInfo=${e} .cssEffectFilter=${e.cssEffectFilter??void 0} .stacked=${this.stacked} .headingLevel=${this.headingLevel} .layer=${e.layer} .legendElement=${r} .messages=${this.messages}></arcgis-legend-card-element>`);return c`<section class=${l(Q.service)}>${this._renderTitle(e.title)}<div class=${l(Q.serviceContent)}>${a}</div></section>`}_renderSections(e,i){if(!e.ready)return;if(e.children.length)for(const r of e.children)this._renderSections(r,i);const a=e.legendElements;if(a?.length)for(const r of a){const s=c`<arcgis-legend-card-element .activeLayerInfo=${e} .cssEffectFilter=${e.cssEffectFilter??void 0} .stacked=${this.stacked} .headingLevel=${this.headingLevel} .layer=${e.layer} .legendElement=${r} .messages=${this.messages}></arcgis-legend-card-element>`;s&&i.push(s)}}},ee.properties={stacked:16,activeLayerInfos:0,headingLevel:9,messages:0,view:0,layout:1,type:32},ee.styles=ua,ee);F("arcgis-legend-card-view",_a);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const wa=M`.arcgis-legend__size-ramp--container{margin-left:var(--calcite-spacing-sm);display:table}:dir(rtl) .arcgis-legend__size-ramp--container{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}.arcgis-legend__size-ramp--row{display:table-row}.arcgis-legend__size-ramp--cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word;display:table-cell}.arcgis-legend__size-ramp--label{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-legend__size-ramp--symbol-container{min-width:10px;text-align:center}.arcgis-legend__size-ramp--symbol{display:flex;justify-content:center}`,J={container:"arcgis-legend__size-ramp--container",row:"arcgis-legend__size-ramp--row",cell:"arcgis-legend__size-ramp--cell",label:"arcgis-legend__size-ramp--label",symbol:"arcgis-legend__size-ramp--symbol",symbolContainer:"arcgis-legend__size-ramp--symbol-container"};var ie;let $a=(ie=class extends T{constructor(){super(...arguments),this.legendElement=null}render(){const e=this.legendElement.infos.map(i=>this._renderRow(i)).filter(Boolean);return e.length?this.legendElement.theme==="spike"?c`<arcgis-legend-spike-ramp .legendElement=${this.legendElement} .messages=${this.messages}></arcgis-legend-spike-ramp>`:c`<div class=${l(J.container)}>${e}</div>`:null}_renderRow(e){const{preview:i}=e;if(!i)return null;const a=O(this.messages,e.label,!1);return D(i,P(this.messages,a)),c`<div class=${l(J.row)}><div class=${l($(J.cell,J.symbolContainer))}><div class=${l(J.symbol)}>${i}</div></div><div class=${l($(J.cell,J.label))}>${a}</div></div>`}},ie.properties={legendElement:0,messages:0},ie.styles=wa,ie);F("arcgis-legend-classic-size-ramp",$a);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const xa=M`.arcgis-legend__layer-row{display:flex}.arcgis-legend__layer-cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word}.arcgis-legend__layer-cell--symbols{min-width:10px;text-align:center}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-legend__ramps{margin-left:var(--calcite-spacing-sm)}:dir(rtl) .arcgis-legend__ramps{margin-right:var(--calcite-spacing-sm);margin-left:auto}.arcgis-legend__color-ramp{width:24px}.arcgis-legend__opacity-ramp{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExODcxRkM3N0RBQzA4QkVDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEOTY4RkNFNjM1MzYxMUU0ODlDMUFFQ0M2REU5QzFCNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEOTY4RkNFNTM1MzYxMUU0ODlDMUFFQ0M2REU5QzFCNCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1LjEgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MDExNzQwNzIwNjgxMTg3MUZDNzdEQUMwOEJFQ0UiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MDExNzQwNzIwNjgxMTg3MUZDNzdEQUMwOEJFQ0UiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6SLS5VAAAAKElEQVR42mI8c+YMAwwYGxvD2UwMOADpEoz///+Hc86ePUsLOwACDABC1ghwV8TLOQAAAABJRU5ErkJggg==)}.arcgis-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.arcgis-legend__ramp-label{position:relative;padding:0 var(--calcite-spacing-sm);line-height:var(--calcite-font-size-sm);white-space:nowrap;font-size:var(--calcite-font-size-sm)}.arcgis-legend__ramp-label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent var(--calcite-color-text-1) transparent transparent;width:0;height:0;content:""}.arcgis-legend__ramp-label:first-child{margin-top:calc(var(--calcite-font-size-sm) / 3 * -1)}.arcgis-legend__ramp-label:last-child{bottom:calc(var(--calcite-font-size-sm) * .25 * -1)}.arcgis-legend-layer-caption{display:table-caption;padding:var(--calcite-spacing-sm) 0}:dir(rtl) .arcgis-legend__ramp-label:before{right:auto;left:100%;border-width:3px 0 3px 4px;border-color:transparent transparent transparent var(--calcite-color-text-1)}`,H={layerRow:"arcgis-legend__layer-row",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",symbolContainer:"arcgis-legend__layer-cell arcgis-legend__layer-cell--symbols",rampContainer:"arcgis-legend__ramps",colorRamp:"arcgis-legend__color-ramp",opacityRamp:"arcgis-legend__opacity-ramp",rampLabelsContainer:"arcgis-legend__ramp-labels",rampLabel:"arcgis-legend__ramp-label"};var ae;let La=(ae=class extends T{constructor(){super(...arguments),this.legendElement=null,this.opacity=1}get _preview(){const e=this.legendElement.preview;if(!e)return null;const i=this.legendElement.type==="opacity-ramp",a=i?H.opacityRamp:"";e.className=`${H.colorRamp} ${a}`,this.opacity!=null&&(e.style.opacity=this.opacity.toString());const r=i?this.messages.previewOpacityRampAriaLabel:this.messages.previewColorRampAriaLabel;return D(e,r),e}render(){const{legendElement:e,_preview:i}=this;if(!i)return null;const a={height:i.style.height};return c`<div class=${l(H.layerRow)}><div class=${l(H.symbolContainer)}><div class=${l(H.rampContainer)}>${i}</div></div><div class=${l(H.layerInfo)}><div class=${l(H.rampLabelsContainer)} style=${v(a)}>${e.infos.map(r=>this._renderRampLabel(r,e.type))}</div></div></div>`}_renderRampLabel(e,i){return c`<div class=${l(e.label?H.rampLabel:void 0)}>${ci(e,i,this.messages)}</div>`}},ae.properties={_preview:16,legendElement:0,opacity:9,messages:0},ae.styles=xa,ae);F("arcgis-legend-classic-color-ramp",La);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const ka=M`.arcgis-legend__layer-body{margin-left:var(--calcite-spacing-sm);display:table}:dir(rtl) .arcgis-legend__layer-body{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}.arcgis-legend__layer-row{display:table-row}.arcgis-legend__layer-cell{display:table-cell;padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-legend__symbol{display:flex;justify-content:center}.arcgis-legend__ramps{margin-left:var(--calcite-spacing-md)}:dir(rtl) .arcgis-legend__ramps{margin-right:var(--calcite-spacing-md);margin-left:auto}.arcgis-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.arcgis-legend__ramp-label{position:relative;padding:0 var(--calcite-spacing-sm);line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.arcgis-legend__ramp-label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent var(--calcite-color-text-1) transparent transparent;width:0;height:0;content:""}.arcgis-legend__ramp-label:first-child{margin-top:calc(var(--calcite-font-size-sm) / 3 * -1)}.arcgis-legend__ramp-label:last-child{bottom:calc(var(--calcite-font-size-sm) * .25 * -1)}:dir(rtl) .arcgis-legend__ramp-label:before{right:auto;left:100%;border-width:3px 0 3px 4px;border-color:transparent transparent transparent var(--calcite-color-text-1)}.arcgis-univariate-above-and-below-ramp__label{position:relative;margin-left:7px;line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.arcgis-univariate-above-and-below-ramp__label:before{display:block;position:absolute;top:.45em;left:-19px;border-width:1px 0 0;border-style:solid;width:14px;height:0;content:""}.arcgis-univariate-above-and-below-ramp__label:first-child{top:calc(var(--calcite-font-size-sm) / 2.2 * -1)}.arcgis-univariate-above-and-below-ramp__label:last-child{bottom:calc(var(--calcite-font-size-sm) / 2.2 * -1)}:dir(rtl) .arcgis-univariate-above-and-below-ramp__label{margin-right:var(--calcite-spacing-sm);margin-left:auto}:dir(rtl) .arcgis-univariate-above-and-below-ramp__label:before{right:-19px;left:auto}.arcgis-univariate-above-and-below-ramp__symbol{display:flex;align-items:center;justify-content:center}`,B={layerBody:"arcgis-legend__layer-body",layerRow:"arcgis-legend__layer-row",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",symbol:"arcgis-legend__symbol",rampContainer:"arcgis-legend__ramps",rampLabelsContainer:"arcgis-legend__ramp-labels",rampLabel:"arcgis-legend__ramp-label",univariateAboveAndBelowLabel:"arcgis-univariate-above-and-below-ramp__label"},ke=class ke extends T{constructor(){super(...arguments),this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:i}=this,{sizeRampElement:a,colorRampElement:r}=ui(e,this.messages,i);if(!a)return null;const s=this.messages.previewColorRampAriaLabel,o=de(a,"above",!0),d=de(a,"below",!0),g=12,p=ce(r,{width:g,height:o,rampAlignment:"vertical",opacity:i,type:"above",cssEffectFilter:this.cssEffectFilter,ariaLabel:s}),h=ce(r,{width:g,height:d,rampAlignment:"vertical",opacity:i,type:"below",cssEffectFilter:this.cssEffectFilter,ariaLabel:s}),m=Ae(a),f=a.infos.map(w=>w.label),y=f.map((w,E)=>E===0?c`<div class=${l(w?p?B.univariateAboveAndBelowLabel:B.rampLabel:void 0)}>${w}</div>`:E===2?c`<div></div>`:null),u=f.length-1,x=Math.floor(f.length/2),z=f.map((w,E)=>E===x||E===u?c`<div class=${l(w?p?B.univariateAboveAndBelowLabel:B.rampLabel:void 0)}>${w}</div>`:null),k={display:"table-cell",verticalAlign:"middle"},_={marginTop:`${m}px`},j={height:`${o}px`},C={height:`${d}px`};return c`<div style=${v(_i)}><div class=${l(B.layerBody)}>${a.infos.map((w,E)=>c`<div class=${l(B.layerRow)}><div class=${l(B.symbol)} style=${v(k)}>${w.preview}</div>${!p&&E%2===0?c`<div class=${l(B.layerInfo)}>${f[E]}</div>`:null}</div>`)}</div>${p?c`<div style=${v(_)}><div style=${v(Ne)}><div style=${v(ne)}><div class=${l(B.rampContainer)}>${p}</div></div><div style=${v(ne)}><div class=${l(B.rampLabelsContainer)} style=${v(j)}>${y}</div></div></div><div style=${v(Ne)}><div style=${v(ne)}><div class=${l(B.rampContainer)}>${h}</div></div><div style=${v(ne)}><div class=${l(B.rampLabelsContainer)} style=${v(C)}>${z}</div></div></div></div>`:null}</div>`}};ke.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},ke.styles=ka;let Oe=ke;F("arcgis-legend-classic-univariate-above-and-below-ramp",Oe);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Ea=M`.arcgis-legend__layer-body{margin-left:var(--calcite-spacing-sm)}:dir(rtl) .arcgis-legend__layer-body{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}.arcgis-legend__layer-row,.arcgis-legend__symbol{display:flex;justify-content:center}.arcgis-legend__ramps{margin-left:var(--calcite-spacing-md)}:dir(rtl) .arcgis-legend__ramps{margin-right:var(--calcite-spacing-md);margin-left:auto}.arcgis-legend__size-ramp~.arcgis-legend__layer-cell--info{width:80%;max-width:80%}.arcgis-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.arcgis-legend__ramp-label{position:relative;padding:0 var(--calcite-spacing-sm);line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.arcgis-legend__ramp-label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent var(--calcite-color-text-1) transparent transparent;width:0;height:0;content:""}.arcgis-legend__ramp-label:first-child{margin-top:calc(var(--calcite-font-size-sm) / 3 * -1)}.arcgis-legend__ramp-label:last-child{bottom:calc(var(--calcite-font-size-sm) * .25 * -1)}:dir(rtl) .arcgis-legend__ramp-label:before{right:auto;left:100%;border-width:3px 0 3px 4px;border-color:transparent transparent transparent var(--calcite-color-text-1)}.arcgis-legend__univariate-label{position:relative;margin-left:7px;line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.arcgis-legend__univariate-label:before{display:block;position:absolute;top:.45em;left:-19px;border-width:1px 0 0;border-style:solid;width:14px;height:0;content:""}.arcgis-legend__univariate-label:first-child{top:calc(var(--calcite-font-size-sm) / 2.2 * -1)}.arcgis-legend__univariate-label:last-child{bottom:calc(var(--calcite-font-size-sm) / 2.2 * -1)}:dir(rtl) .arcgis-legend__univariate-label{margin-right:var(--calcite-spacing-sm);margin-left:auto}:dir(rtl) .arcgis-legend__univariate-label:before{right:-19px;left:auto}.arcgis-univariate-above-and-below-ramp__symbol{display:flex;align-items:center;justify-content:center}`,Z={layerBody:"arcgis-legend__layer-body",layerRow:"arcgis-legend__layer-row",symbol:"arcgis-legend__symbol",rampContainer:"arcgis-legend__ramps",sizeRamp:"arcgis-legend__size-ramp",rampLabelsContainer:"arcgis-legend__ramp-labels",rampLabel:"arcgis-legend__ramp-label",univariateLabel:"arcgis-legend__univariate-label"},Ee=class Ee extends T{constructor(){super(...arguments),this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:i}=this,{sizeRampElement:a,colorRampElement:r}=bi(e,this.messages);if(!a)return null;const s=Ae(a),o=12,d=de(a,"full",!1),g=ce(r,{width:o,height:d,rampAlignment:"vertical",opacity:i,type:"full",cssEffectFilter:this.cssEffectFilter,ariaLabel:this.messages.previewColorRampAriaLabel}),p=a.infos.length-1,h=a.infos.map((u,x)=>x===0||x===p?c`<div class=${l(u.label?r?Z.univariateLabel:Z.rampLabel:void 0)}>${u.label}</div>`:null),m={display:"table-cell",verticalAlign:"middle"},f={marginTop:`${s}px`},y={height:`${d}px`};return c`<div style=${v(_i)}><div class=${l(Z.layerBody)}>${a.infos.map(u=>c`<div class=${l($(Z.layerRow,Z.sizeRamp))}><div class=${l(Z.symbol)} style=${v(m)}>${u.preview}</div></div>`)}</div><div style=${v(f)}><div style=${v(Ne)}><div style=${v(ne)}><div class=${l(Z.rampContainer)}>${g}</div></div><div style=${v(ne)}><div class=${l(Z.rampLabelsContainer)} style=${v(y)}>${h}</div></div></div></div></div>`}};Ee.properties={cssEffectFilter:1,legendElement:0,opacity:9,messages:0},Ee.styles=Ea;let Pe=Ee;F("arcgis-legend-classic-univariate-color-size-ramp",Pe);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const za=M`.arcgis-legend__layer-table{display:flex;flex-flow:column;margin-bottom:var(--calcite-spacing-md);width:100%}.arcgis-legend__layer-table--size-ramp{display:table}.arcgis-legend__layer-table--size-ramp .arcgis-legend__layer-cell{display:table-cell}.arcgis-legend__layer-caption{display:table-caption;padding:var(--calcite-spacing-sm) 0;word-break:break-word}.arcgis-legend__layer-body{margin-left:var(--calcite-spacing-sm)}:dir(rtl) .arcgis-legend__layer-body{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}.arcgis-legend__layer-row{display:flex}.arcgis-legend__layer-table--size-ramp .arcgis-legend__layer-row{display:table-row}.arcgis-legend__layer-cell{padding:var(--calcite-spacing-xxs) 0;min-width:100px;vertical-align:middle;word-break:break-word;display:flex;align-items:center}.arcgis-legend__layer-cell--info{padding-right:var(--calcite-spacing-sm);padding-left:var(--calcite-spacing-sm);max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.arcgis-legend__imagery-layer-image--stretched{display:block;margin-bottom:-2px}.arcgis-legend__imagery-layer-info--stretched{padding:0 2px;vertical-align:top}.arcgis-legend__layer-cell--symbols{min-width:10px;text-align:center}.arcgis-legend__symbol{display:flex;justify-content:center}`,G={layerTable:"arcgis-legend__layer-table",layerTableSizeRamp:"arcgis-legend__layer-table--size-ramp",layerCaption:"arcgis-legend__layer-caption",layerBody:"arcgis-legend__layer-body",layerRow:"arcgis-legend__layer-row",layerInfo:"arcgis-legend__layer-cell arcgis-legend__layer-cell--info",imageryLayerStretchedImage:"arcgis-legend__imagery-layer-image--stretched",imageryLayerInfoStretched:"arcgis-legend__imagery-layer-info--stretched",symbolContainer:"arcgis-legend__layer-cell arcgis-legend__layer-cell--symbols",symbol:"arcgis-legend__symbol"},ze=class ze extends T{render(){const e=this._renderLegendElement(),i=oi(this.legendElement,this.messages),a=i?c`<div class=${l(G.layerCaption)}>${i}</div>`:null,r={[G.layerTableSizeRamp]:this.legendElement.type==="size-ramp"};return c`<section class=${l($(G.layerTable,r))}>${a}${e}</section>`}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return c`<arcgis-legend-classic-size-ramp .legendElement=${this.legendElement} .messages=${this.messages}></arcgis-legend-classic-size-ramp>`;case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return c`<arcgis-legend-classic-color-ramp .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-color-ramp>`;case"relationship-ramp":return c`<arcgis-legend-relationship-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .opacity=${this.layer.opacity} .messages=${this.messages}></arcgis-legend-relationship-ramp>`;case"pie-chart-ramp":{const{preview:e}=this.legendElement;return D(e,this.messages.previewPieChartAriaLabel),c`<div>${e}</div>`}case"univariate-above-and-below-ramp":return c`<arcgis-legend-classic-univariate-above-and-below-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-univariate-above-and-below-ramp>`;case"univariate-color-size-ramp":return c`<arcgis-legend-classic-univariate-color-size-ramp .cssEffectFilter=${this.cssEffectFilter} .legendElement=${this.legendElement} .messages=${this.messages} .opacity=${this.layer.opacity}></arcgis-legend-classic-univariate-color-size-ramp>`;default:return null}}_renderSymbolTable(e){const i=e.infos.map(a=>this._renderElementInfo(a,e.legendType)).filter(Boolean);return i.length?c`<div class=${l(G.layerBody)}>${i}</div>`:null}_renderElementInfo(e,i){const{layer:a}=this,r="label"in e?e.label:null;if("type"in e&&e.type)return e?c`<arcgis-legend-classic-element .cssEffectFilter=${this.cssEffectFilter} .layer=${a} .legendElement=${e} .messages=${this.messages}></arcgis-legend-classic-element>`:null;if(!("preview"in e&&e.preview)&&!("src"in e&&e.src))return null;const s=di(a,i),o={[G.imageryLayerInfoStretched]:s},d={[G.imageryLayerInfoStretched]:s};return c`<div class=${l(G.layerRow)}><div class=${l($(G.symbolContainer,d))}>${this._renderPreview(e,s)}</div><div class=${l($(G.layerInfo,o))}>${O(this.messages,r,!1)||""}</div></div>`}_renderPreview(e,i){const{layer:a}=this;if("preview"in e&&e.preview){const{preview:r}=e,s="previewAriaLabel"in e?e.previewAriaLabel:null,o="label"in e?O(this.messages,e.label,!1):null;return D(r,P(this.messages,s||o)),c`<div class=${l(G.symbol)}>${r}</div>`}return"src"in e&&e.src?this._renderImage(e,a,i):null}_renderImage(e,i,a){const{previewAriaLabel:r,src:s,opacity:o}=e,d=O(this.messages,e.label,!1),g={[G.imageryLayerStretchedImage]:a,[G.symbol]:!a},p={opacity:`${o??i.opacity}`},h=P(this.messages,r||d);return c`<img alt=${h??n} .ariaLabel=${h} class=${l($(g))} height=${e.height??void 0??n} src=${s??n} style=${v(p)} width=${e.width??void 0??n}>`}};ze.properties={cssEffectFilter:1,layer:0,legendElement:0,messages:0},ze.styles=za;let Ve=ze;F("arcgis-legend-classic-element",Ve);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Ca=M`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}:host{display:block}.arcgis-legend__no-legend{padding:var(--calcite-spacing-sm) var(--calcite-spacing-md)}.arcgis-legend__layer{border-bottom:1px solid var(--calcite-color-border-2);padding:var(--calcite-spacing-sm);word-wrap:break-word}.arcgis-legend__layer:last-child{border-bottom:none}.arcgis-legend__layer--elements{margin-left:var(--calcite-spacing-sm);overflow:auto}.arcgis-legend__layer-child{margin-left:var(--calcite-spacing-sm);padding-right:0;padding-left:0}:dir(rtl) .arcgis-legend__layer--elements,:dir(rtl) .arcgis-legend__layer-child{margin-right:var(--calcite-spacing-sm);margin-left:0;overflow:auto}`,ge={layer:"arcgis-legend__layer",layerElements:"arcgis-legend__layer--elements",layerChild:"arcgis-legend__layer-child",noLegend:"arcgis-legend__no-legend"};var te;let Ra=(te=class extends T{constructor(){super(...arguments),this.headingLevel=3,this.type="classic"}render(){const e=this.activeLayerInfos?.toArray().map(i=>this._renderLegendForLayer(i)).filter(Boolean);return e?.length?c`<section>${e}</section>`:c`<div class=${l(ge.noLegend)}>${this.messages.noLegend}</div>`}_renderLegendForLayer(e){if(!e.ready)return null;const i=e.title?ye({level:this.headingLevel,children:e.title}):null;if(e.children.length){const a=e.children.toArray().map(r=>this._renderLegendForLayer(r));return c`<section class=${l(ge.layer)}>${i}${a}</section>`}return this._renderLegendElementsForLayer(e,i)}_renderLegendElementsForLayer(e,i){const a=e.legendElements?.filter(Boolean);if(!a?.length)return null;const r=a.map(o=>c`<arcgis-legend-classic-element .cssEffectFilter=${e.cssEffectFilter??void 0} .layer=${e.layer} .legendElement=${o} .messages=${this.messages}></arcgis-legend-classic-element>`),s={[ge.layerChild]:!!e.parent};return c`<section class=${l($(ge.layer,s))}>${i}<div class=${l(ge.layerElements)}>${r}</div></section>`}},te.properties={activeLayerInfos:0,headingLevel:9,type:32,messages:0},te.styles=Ca,te);F("arcgis-legend-classic-view",Ra);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */class ue{constructor(){this._groups=new Map}destroy(){this.removeAll()}add(e,i){if(Array.isArray(e)){const a=this._getOrCreateGroup(i);for(const r of e)this._isHandle(r)&&a.push(r)}else this._isHandle(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(a=>a.forEach(e));else{const a=this._getGroup(e);a&&i&&a.forEach(i)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(typeof e!="string"&&Array.isArray(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach(e=>this._removeAllFromGroup(e)),this._groups.clear(),this}_isHandle(e){return e&&(!!e.remove||e instanceof ue)}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(this._ensureGroupKey(e),i),i}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){for(const i of e)i instanceof ue?i.removeAll():i.remove()}}class Aa extends $i{constructor(e){super(),this.destroyed=!1,e==="disconnect"?this.onDisconnected(()=>this.removeAllHandles()):this.onDestroy(()=>this.destroy())}addHandles(e,i){if(this.destroyed){const a=Array.isArray(e)?e:[e];for(const r of a)r.remove();return}this._handles??=new ue,this._handles.add(e,i)}removeHandles(e){this._handles?.remove(e)}removeAllHandles(){this._handles?.removeAll()}destroy(){this.destroyed=!0,this.removeAllHandles()}hasHandles(e){return this._handles?.has(e)??!1}}const Sa=Ai(Aa);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Ia=M`.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}:host{overflow:auto;width:var(--arcgis-legend-internal-width, 300px)}:host([card-style-layout="side-by-side"]){--arcgis-legend-internal-width: auto}`,Fa=Fi(Mi),Ce=class Ce extends T{constructor(){super(...arguments),this.messages=Ii({}),this.final=Sa("destroy"),this.viewModel=Fa(this),this._isCardStyle=!1,this.view=this.viewModel.view,this.icon="legend",this.activeLayerInfos=this.viewModel.activeLayerInfos,this.basemapLegendVisible=this.viewModel.basemapLegendVisible,this.headingLevel=3,this.hideLayersNotInCurrentView=this.viewModel.hideLayersNotInCurrentView,this.respectLayerDefinitionExpression=this.viewModel.respectLayerDefinitionExpression,this.layerInfos=this.viewModel.layerInfos,this.loading=this.viewModel.loading,this.legendStyle="classic",this.autoDestroyDisabled=!1,this.label=this.messages?.componentLabel,this.state=this.viewModel.state,this.arcgisPropertyChange=Si()("state"),this.arcgisReady=xi()}get ignoreLayerVisibility(){return!this.viewModel.respectLayerVisibility}set ignoreLayerVisibility(e){this.viewModel.respectLayerVisibility=!e}get respectLayerVisibilityDisabled(){return!this.viewModel.respectLayerVisibility}set respectLayerVisibilityDisabled(e){this.viewModel.respectLayerVisibility=!e}async destroy(){await this.manager.destroy()}loaded(){this.manager.onLifecycle(()=>[Ie(()=>this.el.view,"resize",()=>this.requestUpdate()),Ie(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),Me(()=>[this.cardStyleLayout,this.legendStyle,typeof this.legendStyle=="object"?this.legendStyle.type:void 0,typeof this.legendStyle=="object"?this.legendStyle.layout:void 0],()=>{const e=this.legendStyle,i=typeof e=="object"?e:{type:e};this._isCardStyle=i.type==="card",this._isCardStyle?(this.cardStyleLayout=this.cardStyleLayout||i.layout||"auto",this.cardStyleLayout==="auto"&&this.el.closest("arcgis-expand")&&(this.cardStyleLayout="stack"),this.setAttribute("card-style-layout",this.cardStyleLayout)):this.removeAttribute("card-style-layout")},{initial:!0})])}_refreshActiveLayerInfos(e){e.forEach(i=>{this.final.removeHandles(`version_${i.layer.uid}`),this._renderOnActiveLayerInfoChange(i)}),this.requestUpdate()}render(){return c`<div class=${l($(pe.widget,{[pe.panel]:!this._isCardStyle}))}>${this._isCardStyle&&this.view?c`<arcgis-legend-card-view .activeLayerInfos=${this.activeLayerInfos} .headingLevel=${this.headingLevel} .messages=${this.messages} .layout=${this.cardStyleLayout} .view=${this.view}></arcgis-legend-card-view>`:c`<arcgis-legend-classic-view .activeLayerInfos=${this.activeLayerInfos} .headingLevel=${this.headingLevel} .messages=${this.messages}></arcgis-legend-classic-view>`}</div>`}_renderOnActiveLayerInfoChange(e){const i=Me(()=>e.version,()=>this.requestUpdate());this.final.addHandles(i,`version_${e.layer.uid}`);const a=Ie(()=>e.children,"change",()=>e.children.forEach(r=>this._renderOnActiveLayerInfoChange(r)));this.final.addHandles(a,`version_${e.layer.uid}`),e.children.forEach(r=>this._renderOnActiveLayerInfoChange(r))}};Ce.properties={_isCardStyle:16,view:0,referenceElement:1,position:1,icon:1,activeLayerInfos:0,basemapLegendVisible:5,headingLevel:9,hideLayersNotInCurrentView:5,respectLayerDefinitionExpression:5,ignoreLayerVisibility:5,respectLayerVisibilityDisabled:5,layerInfos:0,loading:39,cardStyleLayout:1,legendStyle:1,autoDestroyDisabled:5,messageOverrides:0,label:1,state:3},Ce.styles=Ia;let We=Ce;F("arcgis-legend",We);export{We as ArcgisLegend};
