import{l as T,v,r,m as i,o as N,a as d,k as L,bJ as V,b8 as A,b$ as H}from"./BJ4A_YA8.js";import{a as $}from"./CSRfKCc0.js";import{o as a}from"./aQeO9QTD.js";import{E as J,j as K,o as R,Y as _,V as B}from"./CgU_ym0P.js";import{r as w}from"./Bl4OK9Mu.js";import{l as b}from"./B-Ton9lx.js";const P=new v({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let W=0,c=class extends T{constructor(t){super(t),this.id="sym"+W++,this.type=null,this.color=new b([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,s){}hash(){return JSON.stringify(this.toJSON())}clone(){}};r([i({type:P.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:P.write,isRequired:!0}}})],c.prototype,"type",void 0),r([i({type:b,json:{write:{allowNull:!0}}})],c.prototype,"color",void 0),r([N("color")],c.prototype,"readColor",null),c=r([d("esri.symbols.Symbol")],c);const le=["begin","end","begin-end"],E=["arrow","circle","square","diamond","cross","x"];let f=class extends c{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};r([w({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0),r([i({type:Number,cast:a,json:{write:!0}})],f.prototype,"width",void 0),f=r([d("esri.symbols.LineSymbol")],f);var x;let h=x=class extends T{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,s,o){t[s]=o?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,s,o){o?.origin==="web-map"||(t[s]=e)}clone(){return new x({color:$(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};r([i({type:["begin","end","begin-end"],json:{write:!0}})],h.prototype,"placement",void 0),r([w({"line-marker":"line-marker"},{readOnly:!0}),i({json:{origins:{"web-map":{write:!1}}}})],h.prototype,"type",void 0),r([i({type:E})],h.prototype,"style",void 0),r([L("style")],h.prototype,"writeStyle",null),r([i({type:b,value:null,json:{write:{allowNull:!0}}})],h.prototype,"color",null),r([N("color")],h.prototype,"readColor",null),r([L("color")],h.prototype,"writeColor",null),h=x=r([d("esri.symbols.LineSymbolMarker")],h);const I=h;var M;const D=new v({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let n=M=class extends f{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,s,o,l,O){if(e&&typeof e!="string")return e;const m={};return e!=null&&(m.style=e),t!=null&&(m.color=t),s!=null&&(m.width=a(s)),o!=null&&(m.cap=o),l!=null&&(m.join=l),O!=null&&(m.miterLimit=a(O)),m}clone(){return new M({color:$(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};r([w({esriSLS:"simple-line"},{readOnly:!0})],n.prototype,"type",void 0),r([i({type:D.apiValues,json:{read:D.read,write:D.write}})],n.prototype,"style",void 0),r([i({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,s)=>({enabled:e!=="round"&&s?.origin==null})}}})],n.prototype,"cap",void 0),r([i({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,s)=>({enabled:e!=="round"&&s?.origin==null})}}})],n.prototype,"join",void 0),r([i({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":I}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],n.prototype,"marker",void 0),r([i({type:Number,json:{read:!1,write:!1}})],n.prototype,"miterLimit",void 0),n=M=r([d("esri.symbols.SimpleLineSymbol")],n);let g=class extends c{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};r([i({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],g.prototype,"outline",void 0),r([i({type:["simple-fill","picture-fill"],readOnly:!0})],g.prototype,"type",void 0),g=r([d("esri.symbols.FillSymbol")],g);function U(e,t,s){return t.imageData?J({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):q(t.url,s)}function q(e,t){if(!_(e)){const s=Q(t);if(s)return B(s,"images",e)}return A(e,t)}function X(e,t,s,o){if(K(e)){const l=R(e);if(!l)return;t.contentType=l.mediaType,t.imageData=l.data,s&&s.imageData===t.imageData&&s.url&&V(s.url,t,"url",o)}else V(e,t,"url",o)}const Y={json:{read:{source:["imageData","url"],reader:U},write:{writer(e,t,s,o){X(e,t,this.source,o)}}}},G={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,s){const o={};return t.imageData&&(o.imageData=t.imageData),t.contentType&&(o.contentType=t.contentType),t.url&&(o.url=q(t.url,s)),o}}}};function Q(e){if(!e)return null;const{origin:t,layer:s}=e;if(t!=="service"&&t!=="portal-item")return null;const o=s?.type;return o==="feature"||o==="stream"?s.parsedUrl?.path:o==="map-image"||o==="tile"?e.url?.path:null}let y=class extends c{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};r([i({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],y.prototype,"angle",void 0),r([i({type:["simple-marker","picture-marker"],readOnly:!0})],y.prototype,"type",void 0),r([i({type:Number,cast:a,json:{write:!0}})],y.prototype,"xoffset",void 0),r([i({type:Number,cast:a,json:{write:!0}})],y.prototype,"yoffset",void 0),r([i({cast:e=>e==="auto"?e:H(a(e)),json:{write:!0}})],y.prototype,"size",void 0),y=r([d("esri.symbols.MarkerSymbol")],y);var z;let p=z=class extends y{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const o={};return e&&(o.url=e),t!=null&&(o.width=a(t)),s!=null&&(o.height=a(s)),o}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new z({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",$(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};r([i({json:{write:!1}})],p.prototype,"color",void 0),r([w({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),r([i(Y)],p.prototype,"url",void 0),r([i(G)],p.prototype,"source",void 0),r([i({type:Number,cast:a,json:{write:!0}})],p.prototype,"height",void 0),r([N("height",["height","size"])],p.prototype,"readHeight",null),r([i({type:Number,cast:a,json:{write:!0}})],p.prototype,"width",void 0),r([i({json:{write:!1}})],p.prototype,"size",void 0),p=z=r([d("esri.symbols.PictureMarkerSymbol")],p);var C;const j=new v({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let S=C=class extends g{constructor(...e){super(...e),this.color=new b([0,0,0,.25]),this.outline=new n,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,s){if(e&&typeof e!="string")return e;const o={};return e&&(o.style=e),t&&(o.outline=t),s&&(o.color=s),o}clone(){return new C({color:$(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};r([i()],S.prototype,"color",void 0),r([i()],S.prototype,"outline",void 0),r([w({esriSFS:"simple-fill"},{readOnly:!0})],S.prototype,"type",void 0),r([i({type:j.apiValues,json:{read:j.read,write:j.write}})],S.prototype,"style",void 0),S=C=r([d("esri.symbols.SimpleFillSymbol")],S);var F;const k=new v({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let u=F=class extends y{constructor(...e){super(...e),this.color=new b([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new n}normalizeCtorArgs(e,t,s,o){if(e&&typeof e!="string")return e;const l={};return e&&(l.style=e),t!=null&&(l.size=a(t)),s&&(l.outline=s),o&&(l.color=o),l}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new F({angle:this.angle,color:$(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};r([i()],u.prototype,"color",void 0),r([L("color")],u.prototype,"writeColor",null),r([w({esriSMS:"simple-marker"},{readOnly:!0})],u.prototype,"type",void 0),r([i()],u.prototype,"size",void 0),r([i({type:k.apiValues,json:{read:k.read,write:k.write}})],u.prototype,"style",void 0),r([i({type:String,json:{write:!0}})],u.prototype,"path",null),r([i({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],u.prototype,"outline",void 0),u=F=r([d("esri.symbols.SimpleMarkerSymbol")],u);export{S as a,p as b,c,Y as d,le as e,G as f,g as l,n as m,E as n,u};
