import{k as b,r as x,l as $,t as j,m as _,o as C,p as v,q as L,w as z,y as U,z as W,A as M}from"./B45SJMf_.js";const N=t=>(...o)=>{const e=x(),s=new t(...o),n=s.exports;b(e.at(-1));const r=s.component.manager;r.W(s,n),s.watchExports(r.W.bind(r,s)),$(s);const a=[s.component,...e].reverse();return j(a,c=>c===void 0?void 0:S(s,c,n),n)},S=(t,{host:o,key:e,isReactive:s},n)=>{const r=o,a=r[e]!==t.exports,c=r[e]!==n,i=n!==t.exports;if(a&&!c&&i&&(r[e]=t.exports),o===t.component){if(s){const l=t.component.manager;c&&l.W(t,r[e]),t.onUpdate(h=>{if(h.has(e)){const g=r[e];g!==t.exports&&l.W(t,g)}})}t.O=s?void 0:e}const u=t.component.constructor.elementProperties.get(e)?.readOnly;t.watchExports(()=>{r[e]!==t.exports&&(u?_(()=>{r[e]=t.exports}):r[e]=t.exports)})},F="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),T=new Set(F),d="en",V={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},q=async(t,o,e="")=>{const s=`${o}/${e}`,n=`${s}${t}.json`;return f[n]??(f[n]=y(t,s)),await f[n]},f={},y=async(t,o)=>{const e=`${o}${t}.json`;try{const s=await fetch(e);if(s.ok)return await s.json()}catch(s){return console.error(s),{}}return t===d?{}:await y(d,o)},E=t=>{const o=C(t,"lang",globalThis.navigator?.language||d);return{lang:o,t9nLocale:P(o)}},P=t=>{const[o,e]=t.split("-"),s=o.toLowerCase();let n=s;return e&&(n=`${s}-${e.toUpperCase()}`),n=V[n]??n,T.has(n)?n:e?P(s):d},B=(t,o,e,s)=>{let n;const r=()=>D(t,o(),s).then(a=>{(n?.lang!==a.lang||n.t9nLocale!==a.t9nLocale||n.t9nStrings!==a.t9nStrings)&&e(a),n=a}).catch(console.error);return queueMicrotask(r),v(t,["lang"],r)},D=async(t,o,e=t.localName.split("-").slice(1).join("-"))=>{const{lang:s,t9nLocale:n}=E(t),r=`${o}/${e}/t9n`,c=e===null?{}:await q(n,r,"messages.");return{lang:s,t9nLocale:n,t9nStrings:c}},O=t=>w(void 0,t),J=t=>o=>w(o,t);class H extends L{constructor(o,e){super(o);const s=this.exports;try{z(this.component);const n=e(this.component,this),r=this.exports!==s;if(U(n)){r||this.setProvisionalExports(n);const a=n.then(c=>{this.exports=c,super.catchUpLifecycle()}).catch(c=>{this.P.reject(c),console.error(c)});this.onLoad(async()=>await a)}else(!r||n!==void 0)&&(this.exports=n),queueMicrotask(()=>super.catchUpLifecycle())}catch(n){this.P.reject(n),console.error(n)}}catchUpLifecycle(){}}const w=N(H),Q=(t,o)=>new K(t,o);class K extends L{#t;#e;#s;constructor(o,e){super(),this.#e=o,this.#s=e,this.#t=new MutationObserver(s=>{s.forEach(n=>{o.includes(n.attributeName)&&e.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})})}hostConnected(){this.#e.forEach(o=>{this.component.el.hasAttribute(o)&&this.#s.call(this.component,null,this.component.el.getAttribute(o),o)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const R=t=>(...o)=>{const e=x(),s=new t(...o);return b(e.at(-1)),s},m="ltr",X=()=>O((t,o)=>{o.exports=m,o.onLifecycle(()=>{const e=()=>{const s=C(t.el,"dir",m);o.exports=s==="rtl"?"rtl":"ltr"};return e(),v(t.el,["dir"],e)})}),Y=t=>(o={})=>O((e,s)=>{const n=E(e.el),r={_lang:n.lang,_t9nLocale:n.t9nLocale,_loading:!0},a=e;s.onLifecycle(()=>B(e.el,()=>t("./assets"),({t9nLocale:i,t9nStrings:p,lang:u})=>{const l={...p,_lang:u,_t9nLocale:i,_loading:!1};s.exports=l;const h=p.componentLabel;typeof h=="string"&&"label"in e&&e.label==null&&(e.label??=h),c(a.messageOverrides)},o.name));const c=i=>{const p=s.exports,u=p._original??p,l=A(u,i);i&&(l._original=u),s.exports=l};return"messageOverrides"in a&&s.onUpdate(i=>{i.has("messageOverrides")&&c(a.messageOverrides)}),o.blocking?(s.setProvisionalExports(r,!1),s.ready):r}),A=(t,o)=>{if(!o)return t;const e={...t};return Object.entries(o).forEach(([s,n])=>{typeof n=="object"?e[s]=A(t[s],n):e[s]=n??t[s]}),e},Z=t=>G,k="arcgisPropertyChange",G=(...t)=>{const o=M(),e=W(k,void 0,o);let s=!0;return o.manager.onUpdated(n=>{if(s||!o.el.isConnected){s=!1;return}for(const r of t)n.has(r)&&e.emit({name:r})}),e};export{J as a,X as b,Z as c,Y as m,N as p,R as t,Q as u};
