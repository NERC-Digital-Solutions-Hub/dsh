const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C-b0kuzB.js","./BYatcg2i.js","./CnfuZz2S.js","./DqMVdTcb.js","./DedWa6hQ.js","./PPVm8Dsz.js","./CbAk7Q2g.js","./DvUDi2Se.js","./DSvukMJ1.js","./Bstk8l7f.js","./Bx7Drccn.js","./C3DztaFN.js","./Bs5I5-7o.js","./BNRAtZeH.js","./DP1E39gi.js","./Dg2Cy1wG.js","./InWWYu7p.js","./BtRNH9HO.js","./Fd-zc6xv.js","./Cfk1RgA5.js","./CJqWAG8q.js","./DBpg6XpS.js","./DbI_LlRP.js","./CWwez7Ew.js","./elf00Mmu.js","./BDErjlP0.js","./D6KPPgz5.js","./BTzO5B6K.js","./DmATGlKw.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./PPVm8Dsz.js";import{r as i,m as n,a as D}from"./DvUDi2Se.js";import{H as L}from"./DedWa6hQ.js";import{i as A,s as f}from"./BYatcg2i.js";import{e as b,o as x}from"./BtRNH9HO.js";import{n as _}from"./pZ2g7Ohf.js";import{p as $}from"./Bstk8l7f.js";import{b as S}from"./DSvukMJ1.js";import{I as N}from"./CbAk7Q2g.js";import{s as U}from"./CnfuZz2S.js";import{z as I,f as c}from"./Bs5I5-7o.js";import{l as O,o as v,r as w}from"./Bx7Drccn.js";import{c as g,o as h}from"./DPRDD1To.js";async function V(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await E(async()=>{const{fromItem:l}=await import("./C-b0kuzB.js");return{fromItem:l}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]),import.meta.url);try{return await r(t)}catch(l){const o=t?.portalItem,a=o?.id||"unset",d=o?.portal?.url||U.portalUrl;throw A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+d+"', id: '"+a+"')",l),l}}var u,y;let p=(y=class extends O{static get allTime(){return T}static get empty(){return j}static fromArray(t){return new u({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return r.end!=null?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(t,r){return r.start!=null?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new u({end:this.end,start:this.start})}equals(t){if(!t)return!1;const r=this.start?.getTime()??this.start,l=this.end?.getTime()??this.end,o=t.start?.getTime()??t.start,a=t.end?.getTime()??t.end;return r===o&&l===a}expandTo(t,r=b){if(this.isEmpty||this.isAllTime)return this.clone();let l=this.start;l&&(l=g(l,t,r));let o=this.end;if(o){const a=g(o,t,r);o=o.getTime()===a.getTime()?a:h(a,1,t,r)}return new u({start:l,end:o})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return u.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,l=this.end?.getTime()??1/0,o=t.start?.getTime()??-1/0,a=t.end?.getTime()??1/0;let d,m;return o>=r&&o<=l?d=o:r>=o&&r<=a&&(d=r),l>=o&&l<=a?m=l:a>=r&&a<=l&&(m=a),d==null||m==null||isNaN(d)||isNaN(m)?u.empty:new u({start:d===-1/0?null:new Date(d),end:m===1/0?null:new Date(m)})}offset(t,r,l=b){if(this.isEmpty||this.isAllTime)return this.clone();const o=new u,{start:a,end:d}=this;return a!=null&&(o.start=h(a,t,r,l)),d!=null&&(o.end=h(d,t,r,l)),o}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return T.clone();const r=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,l=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new u({start:r,end:l})}},u=y,y);i([n({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),i([v("end")],p.prototype,"readEnd",null),i([w("end")],p.prototype,"writeEnd",null),i([n({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),i([n({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),i([n({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),i([v("start")],p.prototype,"readStart",null),i([w("start")],p.prototype,"writeStart",null),p=u=i([D("esri.time.TimeExtent")],p);const T=new p,j=new p({start:void 0,end:void 0});let P=0,s=class extends x.EventedMixin(_.IdentifiableMixin($)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new I(-180,-90,180,90,c.WGS84),this.id=Date.now().toString(16)+"-layer-"+P++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=c.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e;return(await E(async()=>{const{fromUrl:r}=await import("./DmATGlKw.js");return{fromUrl:r}},__vite__mapDeps([28,5,1,2,6,4,7,8,3,9,10,11,12,13,14,15,16,17,18,19,20,22]),import.meta.url)).fromUrl(t)}static fromPortalItem(e){return V(e)}initialize(){this.when().catch((e=>{S(e)||A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return N(this.url)}createLayerView(e,t){return Promise.reject(new f("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await L(e,{query:{f:"json"},responseType:"json"})).data;throw new f("layer:no-attribution-data","Layer does not have attribution data")}};i([n({type:String})],s.prototype,"attributionDataUrl",void 0),i([n({readOnly:!0})],s.prototype,"effectiveVisible",null),i([n({type:I})],s.prototype,"fullExtent",void 0),i([n({readOnly:!0})],s.prototype,"hasAttributionData",null),i([n({type:String,clonable:!1})],s.prototype,"id",void 0),i([n({type:Boolean,nonNullable:!0})],s.prototype,"legendEnabled",void 0),i([n({type:["show","hide","hide-children"]})],s.prototype,"listMode",void 0),i([n({type:Number,range:{min:0,max:1},nonNullable:!0})],s.prototype,"opacity",void 0),i([n({clonable:!1})],s.prototype,"parent",void 0),i([n({readOnly:!0})],s.prototype,"parsedUrl",null),i([n({type:Boolean,readOnly:!0})],s.prototype,"persistenceEnabled",void 0),i([n({type:Boolean})],s.prototype,"popupEnabled",void 0),i([n({type:Boolean})],s.prototype,"attributionVisible",void 0),i([n({type:c})],s.prototype,"spatialReference",void 0),i([n({type:String})],s.prototype,"title",void 0),i([n({readOnly:!0,json:{read:!1}})],s.prototype,"type",void 0),i([n()],s.prototype,"url",void 0),i([n({type:p})],s.prototype,"visibilityTimeExtent",void 0),i([n({type:Boolean,nonNullable:!0})],s.prototype,"visible",void 0),s=i([D("esri.layers.Layer")],s);export{s as h,p as u};
