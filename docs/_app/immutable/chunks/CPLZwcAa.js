import{M}from"./bnayRBMH.js";import{c as k,u as a,E as A,s as v,l as z,d as $,R as x}from"./wFIBN3al.js";import{r as f,n as d}from"./Dwqd1w08.js";import{f as S,p as U}from"./DsdqSOQR.js";import{z as p}from"./8d4XiCAe.js";import{m as R}from"./BJ0i82DL.js";import{b as V}from"./DkGd4JTu.js";function _(r,y){if(!Array.isArray(r)||r.length<y)return!1;for(const u of r)if(typeof u!="number")return!1;return!0}const I=7645211,G={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new R({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new R({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new R({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function q(r){return!(!(r.extensions?.ESRI_crs?.wkid||r.extensions?.ESRI_crs?.latestWkid||r.extensions?.ESRI_crs?.wkt)||!r.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!r.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function T(r,y=!1){let u=new S({wkid:4326,vcsWkid:115700}),s=r.root?.boundingVolume,E=!1,g=r?.root?.transform;if(y&&(r.extensions?.ESRI_crs?.wkid||r.extensions?.ESRI_crs?.latestWkid||r.extensions?.ESRI_crs?.wkt)&&(r.root?.extensions?.ESRI_crs?.boundingVolume?.box||r.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))u=new S(r.extensions?.ESRI_crs),s=r.root?.extensions?.ESRI_crs?.boundingVolume,g=r.root?.transform,E=!0;else if(!s)return new p(-180,-90,180,90,u);if(s.box){const t=s?.box;if(t[3]>I&&t[7]>I&&t[11]>I)return new p({...G,spatialReference:u})}const b=d();if(!E&&s.region&&_(s.region,6)){const t=s.region,m=M(t[0]),i=M(t[1]),n=t[4],o=M(t[2]),e=M(t[3]),h=t[5];return new p({xmin:m,ymin:i,zmin:n,xmax:o,ymax:e,zmax:h,spatialReference:u})}if(s.sphere&&_(s.sphere,4)){const t=s.sphere,m=f(t[0],t[1],t[2]),i=t[3]/Math.sqrt(3),n=d();k(n,m,f(i,i,i));const o=d();if(a(o,m,f(i,i,i)),g&&_(g,16)){const c=g;A(b,n,c),v(n,b),A(b,o,c),v(o,b)}E||(V(n,U,0,n,S.WGS84,0),V(o,U,0,o,S.WGS84,0));const e=d(),h=d();return z(e,n,o),$(h,n,o),new p({xmin:e[0],ymin:e[1],zmin:e[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}if(s.box&&_(s.box,12)){const t=s.box,m=f(t[0],t[1],t[2]),i=f(t[3],t[4],t[5]),n=f(t[6],t[7],t[8]),o=f(t[9],t[10],t[11]),e=[];for(let l=0;l<8;++l)e.push(d());if(a(e[0],m,i),a(e[0],e[0],n),a(e[0],e[0],o),x(e[1],m,i),a(e[1],e[1],n),a(e[1],e[1],o),a(e[2],m,i),x(e[2],e[2],n),a(e[2],e[2],o),x(e[3],m,i),x(e[3],e[3],n),a(e[3],e[3],o),a(e[4],m,i),a(e[4],e[4],n),x(e[4],e[4],o),x(e[5],m,i),a(e[5],e[5],n),x(e[5],e[5],o),a(e[6],m,i),x(e[6],e[6],n),x(e[6],e[6],o),x(e[7],m,i),x(e[7],e[7],n),x(e[7],e[7],o),g&&_(g,16)){const l=g;for(let w=0;w<8;++w)A(e[w],e[w],l)}const h=f(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),c=f(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let l=0;l<8;++l)E||V(e[l],U,0,e[l],S.WGS84,0),z(c,c,e[l]),$(h,h,e[l]);return new p({xmin:c[0],ymin:c[1],zmin:c[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}return new p(-180,-90,180,90,u)}export{T as E,q as R};
