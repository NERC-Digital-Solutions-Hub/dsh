const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BZj-Iag0.js","./k6TpQ-vv.js","./BO0zSyDw.js","./BE-bAAMf.js","./BoGhUpgK.js","./DSPk0Ak5.js","./ju9f9SUf.js","./CzvYEThE.js","./PPVm8Dsz.js","./CWFjSrE_.js","./ByDk2C3L.js","./Cl5lrJ4c.js","./C8BmVxiO.js","./Dqz3n4A5.js","./DHDoEjXB.js","./Bz8ODP7-.js","./BK6oSUtX.js","./B_6CEWka.js","./BTaqRh0J.js","./Cb8Bfq8m.js","./BwHSc-32.js"])))=>i.map(i=>d[i]);
import{b as w,s as p,a as Ee}from"./BO0zSyDw.js";import{_ as M}from"./PPVm8Dsz.js";import{B as _e,Y as A,_ as K,G as oe,K as ae,e as B,z as Y,h as D,F as x,j as z,r as ie,I as E,l as le,S as ue,X as h,V as ce,x as Ue,g as de,m as Pe,A as Ie,Z as fe,N as J,M as W,$ as Ae,v as X,T as Re,P as De,H as R,u as je}from"./CzvYEThE.js";import{s as T,i as Ne}from"./k6TpQ-vv.js";import{am as V,K as Fe,N as G,d as He,n as Me,G as Ke,z as pe}from"./BoGhUpgK.js";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Be="4.33";let f,ze=Be;ze="4.33.13";function kt(e){f=e}function Lt(e){const t=f?.findCredential(e);return t?.token?_e(e,"token",t.token):e}w("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),w("host-webworker");function me(e,t){const r=t?.url?.path;if(e&&r&&(e=K(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=oe(e,t.portalItem.itemUrl);s!=null&&Ve.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=j(e,t?.portal))&&_.test(e)?we(e):e}function he(e,t,r=q.YES){if((e=e&&_.test(e)?ve(e):e)==null)return e;!A(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=K(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const o=j(n,t.portal),a=j(s,t.portal);s=oe(a,o,o),s!=null&&s!==a&&s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=ye(s,t?.portal),A(s)&&(s=ae(s)),t?.resources&&t?.portalItem&&!A(s)&&!B(s)&&r===q.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s),compress:!1}),s}function We(e,t,r){return me(e,r)}function ge(e,t,r,s){const n=he(e,s);n!==void 0&&(t[r]=n)}const _=/\/items\/([^/]+)\/resources\/(.*)/,Ve=/^\.\/resources\//;function Ge(e){return(e?.match(_)??null)?.[1]??null}function Ye(e){const t=e?.match(_)??null;if(t==null)return null;const r=t[2],s=r.lastIndexOf("/");if(s===-1){const{path:a,extension:i}=Y(r);return{prefix:null,filename:a,extension:i}}const{path:n,extension:o}=Y(r.slice(s+1));return{prefix:r.slice(0,s),filename:n,extension:o}}function ye(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?D(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function j(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=z();return x(s,`${s.scheme}://${r}`)?D(e,t.portalHostname,r):D(e,r,t.portalHostname)}function we(e){if(!e)return e||null;let t=e;return t&&f&&!f.findCredential(t)&&(t=ie(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function ve(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&f&&!f.findCredential(t)&&(t=ie(t)),t}var q;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(q||(q={}));const xt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return q},ensureMainOnlineDomain:ye,fromCDNUrl:ve,fromJSON:me,itemIdFromResourceUrl:Ge,prefixAndFilenameFromResourceUrl:Ye,read:We,toCDNUrl:we,toJSON:he,write:ge},Symbol.toStringTag,{value:"Module"})),be={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},$e=Object.values(be),Se=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${$e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Je=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${$e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Xe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function Et(e){return Se.test(e)}function U(e){if(e==null)return null;const t=E(e),r=t?.path.match(Se)||t?.path.match(Je);if(!r)return null;const[,s,n,o,a]=r,i=n.indexOf("/");return{title:qe(i!==-1?n.slice(i+1):n),serverType:be[o.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:s}}}function Qe(e){const t=E(e).path.match(Xe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function qe(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function _t(e,t){const r=[];if(e){const s=U(e);s!=null&&s.title&&r.push(s.title)}if(t){const s=qe(t);r.push(s)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Q(e){let t=h(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function Ut(e,t){return e&&le(ue(e,t))}function Pt(e){let{url:t}=e;if(!t)return{url:t};t=ue(t,e.logger);const r=E(t),s=U(r.path);let n;if(s!=null)s.sublayer!=null&&e.layer.layerId==null&&(n=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const o=Qe(r.path);o!=null&&(t=o.serviceUrl,n=o.sublayerId)}return{url:le(t),layerId:n}}function It(e,t,r,s,n){ge(t,s,"url",n),s.url&&e.layerId!=null&&(s.url=ce(s.url,r,e.layerId.toString()))}function At(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),s=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(s||n||o)}function Rt(e){if(!e)return!1;const t=new Ue(K(e)),r=t.authority?.toLowerCase();return r==="server.arcgisonline.com"||r==="services.arcgisonline.com"}const Ze=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Oe(e){if(!Ce(e))return null;const t=s=>s instanceof RegExp?s.test(e):typeof s=="string"&&e.startsWith(s),r=p.apiKeys;if(Array.isArray(r.scopes)){for(const s of r.scopes)if(Array.isArray(s.urls)){if(s.urls.some(t))return s.token}else if(t(s.urls))return s.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?r.basemapStyles:p.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?p.apiKey:null}function Dt(){return p.apiKey!=null||p.apiKeys.basemapStyles!=null}function jt(e,t){return t?Ce(e):Oe(e)!=null}function Ce(e){const t=h(e,!0);return!!t&&!Ze.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function et(e,t,r=!1,s){return new Promise(((n,o)=>{if(V(s))return void o(Z());let a=()=>{u(),o(new Error(`Unable to load ${t}`))},i=()=>{const l=e;u(),n(l)},d=()=>{if(!e)return;const l=e;u(),l.src="",o(Z())};const u=()=>{w("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",i)),a=null,i=null,e=null,s?.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};s?.addEventListener("abort",d),w("esri-image-decode")?e.decode().then(i,a):(e.addEventListener("error",a),e.addEventListener("load",i))}))}function Z(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Te="Timeout exceeded";function tt(){return new Error(Te)}function Nt(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===Te}function rt(e){p.request.crossOriginNoCorsDomains||(p.request.crossOriginNoCorsDomains={});const t=p.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[h(r)??""]=0:(t[h("http://"+r)??""]=0,t[h("https://"+r)??""]=0)}function st(e){const t=p.request.crossOriginNoCorsDomains;if(t){let r=h(e);if(r)return r=r.toLowerCase(),!x(r,z())&&t[r]<Date.now()-36e5}return!1}async function nt(e){const t=E(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=p.request.crossOriginNoCorsDomains,s=h(e);r&&s&&(r[s.toLowerCase()]=Date.now())}const N=new Map;function ot(e,t){const r=t?.preferredHost;if(!r||x(e,`https://${r}`,!0))return;const s=U(e);if(!s||s.serverType!=="FeatureServer"||de(e))return;const n=s.url.path.toLowerCase();N.has(n)||N.set(n,r)}function ee(e){const t=U(e)?.url.path.toLowerCase();if(!t)return e;const r=N.get(t);return r?Pe(e,r):e}async function y(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=Ie(t.query.toString().replaceAll("+"," ")));const r=B(e),s=fe(e);s||r||(e=ae(e));const n={url:e,requestOptions:{...t}},o=c=>({data:c,getAllHeaders:$,getHeader:$,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),a=J(e,m.internalInterceptors);if(a){const c=await re(a,n);if(c!=null)return o(c)}let i=J(e);if(i){const c=await re(i,n);if(c!=null)return o(c);i.after||i.error||(i=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(w("host-webworker")||w("host-node")))throw g("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw g("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||s)throw g("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await ct(),k)return k.execute(e,t);const d=new AbortController,u=Fe(t,(()=>d.abort())),l={controller:d,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:i,params:n,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=t.useRequestQueue?ht(l):H(l),S=await v.finally((()=>u?.remove()));return i?.after?.(S),S}let k,ke=!1;const m=p.request,Le="FormData"in globalThis,at=new Set([499,498,403,401]),it=new Set(["COM_0056","COM_0057","SB_0008"]),lt=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],$=()=>null,L=Symbol();function ut(e){const t=h(e);t&&!y._corsServers.includes(t)&&y._corsServers.push(t)}function te(e){const t=h(e);return!t||t.endsWith(".arcgis.com")||y._corsServers.includes(t)||W(t)}function g(e,t,r,s){let n;const o={url:r.url,requestOptions:r.requestOptions,getAllHeaders:$,getHeader:$,ssl:!1};if(t instanceof T)return t.details?(t.details=Ee(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const a=s&&(()=>Array.from(s.headers)),i=s&&(l=>s.headers.get(l)),d=s?.status,u=t.message;u&&(n=u),a&&i&&(o.getAllHeaders=a,o.getHeader=i),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||d||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?(o.messages=[t.details],n??=t.details):(o.messages=t.details,n??=o.messages?.[0]),o.raw=L in t?t[L]:t}return n??="Error",He(t)?G():new T(e,n,o)}async function ct(){w("host-webworker")&&(!k&&globalThis.invokeStaticMessage?k=await M(()=>import("./BZj-Iag0.js"),__vite__mapDeps([0,1,2]),import.meta.url):ke=!0)}async function F(){f||await M(()=>import("./BE-bAAMf.js"),__vite__mapDeps([3,4,2,1,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)}async function dt(e){const t=e.params.url,r=e.params.requestOptions,s=e.controller.signal,n=r.body;let o=null,a=null;if(Le&&"HTMLFormElement"in globalThis&&(n instanceof FormData?o=n:n instanceof HTMLFormElement&&(o=new FormData(n))),typeof n=="string"&&(a=n),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:m.priority,redirect:"follow",signal:s},(o||a)&&(e.fetchOptions.body=o||a),(ke||r.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||o?.get("token")),!e.hasToken){const i=Oe(t);i&&(r.query??={},r.query.token=i,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!xe(t)&&!V(s)){let i;r.authMode==="immediate"?(await F(),i=await f.getCredential(t,{signal:s})):r.authMode==="no-prompt"?(await F(),i=await f.getCredential(t,{prompt:!1,signal:s}).catch((()=>{}))):f&&(i=f.findCredential(t)),i&&(e.credential=i,e.credentialToken=i.token,e.useSSL=!!i.ssl)}}function xe(e){return lt.some((t=>t.test(e)))}async function ft(e){let t=e.params.url,r=ee(t);const s=e.params.requestOptions,n=e.fetchOptions??{},o=fe(t)||B(t),a=s.responseType||"json",i=o?0:s.timeout!=null?s.timeout:m.timeout;let d=!1;if(!o){e.useSSL&&(t=Ae(t));let c={...s.query};e.credentialToken&&(c.token=e.credentialToken);let b=X(c);w("esri-url-encodes-apostrophe")&&(b=b.replaceAll("'","%27"));const P=r.length+1+b.length;let I;d=s.method==="delete"||s.method==="post"||s.method==="put"||!!s.body||P>m.maxUrlLength;const O=s.useProxy||!!Re(t);if(O){const C=De(t);I=C.path,!d&&I.length+1+P>m.maxUrlLength&&(d=!0),C.query&&(c={...C.query,...c})}if(n.method==="HEAD"&&(d||O)){if(d)throw P>m.maxUrlLength?g("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):g("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(O)throw g("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}d?(n.method=s.method==="delete"?"DELETE":s.method==="put"?"PUT":"POST",s.body?t=R(t,c):(n.body=X(c),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=R(t,c),O&&(e.useProxy=!0,t=`${I}?${t}`),c.token&&Le&&n.body instanceof FormData&&!de(t)&&n.body.set("token",c.token),s.hasOwnProperty("withCredentials")?e.withCredentials=s.withCredentials:x(t,z())||(W(t)||f&&f.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(n.credentials="include",st(t)&&await nt(d?R(t,c):t)),r=ee(t)}let u,l,v=0,S=!1;i>0&&(v=setTimeout((()=>{S=!0,e.controller.abort()}),i));try{if(s.responseType==="native-request-init")l=n,l.url=r,s.signal?l.signal=s.signal:delete l.signal;else if(s.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||d||pt(s.headers)||!o&&!e.useProxy&&m.proxyUrl&&!te(t)){if(y._beforeFetch&&await y._beforeFetch(t,n),u=await fetch(r,n),y._afterFetch&&await y._afterFetch(u),e.useProxy||ut(t),s.responseType==="native")l=u;else if(n.method!=="HEAD")if(u.ok){switch(a){case"array-buffer":l=await u.arrayBuffer();break;case"blob":case"image":l=await u.blob();break;default:l=await u.text()}if(v&&(clearTimeout(v),v=0),a==="json"||a==="xml"||a==="document")if(l)switch(a){case"json":l=JSON.parse(l);break;case"xml":l=se(l,"application/xml");break;case"document":l=se(l,"text/html")}else l=null;if(l){if(a==="array-buffer"||a==="blob"){const c=u.headers.get("Content-Type");if(c&&/application\/json|text\/plain/i.test(c)&&l[a==="blob"?"size":"byteLength"]<=750)try{const b=await new Response(l).json();b.error&&(l=b)}catch{}}a==="image"&&l instanceof Blob&&(l=await ne(URL.createObjectURL(l),e,!0))}}else{l=await u.text();try{l=JSON.parse(l)}catch{}}}else l=await ne(r,e)}catch(c){if(c.name==="AbortError")throw S?tt():G("Request canceled");if(!(!u&&c instanceof TypeError&&m.proxyUrl)||s.body||s.method==="delete"||s.method==="head"||s.method==="post"||s.method==="put"||e.useProxy||te(t))throw c;e.redoRequest=!0,je({proxyUrl:m.proxyUrl,urlPrefix:h(t)??""})}finally{v&&clearTimeout(v)}return[u,l]}async function re(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,s;try{s=await e.before(t)}catch(n){r=g("request:interceptor",n,t)}if((s instanceof Error||s instanceof T)&&(r=g("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}function pt(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function se(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}y._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],y._beforeFetch=void 0,y._afterFetch=void 0;const mt=new Map;async function ht(e){const t=yt(e.params.url);if(!t)return H(e);const{QueueProcessor:r}=await M(()=>import("./BK6oSUtX.js"),__vite__mapDeps([16,4,2,1,17,18,19,20]),import.meta.url);return Me(mt,t.origin,(()=>{const n=t.isHosted?w("request-queue-concurrency-hosted"):w("request-queue-concurrency-non-hosted");return new r({concurrency:n,process:o=>{if(V(o.params.requestOptions))throw g("",G("Request canceled"),o.params);return H(o)}})})).push(e)}async function H(e){let t,r;await dt(e);try{do[t,r]=await ft(e);while(!await gt(e,t,r))}catch(o){const a=g("request:server",o,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(a),a}const s=e.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(s)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!W(s)){const o=h(s,!0);o&&m.trustedServers.push(o)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&rt(r.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&ot(s,r);const n=e.credential;if(n&&f){let a=f.findServerInfo(n.server)?.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const i=f.findCredential(a,n.userId);i&&f._getIdenticalSvcIdx(a,i)===-1&&i.resources.unshift(a)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):$,getHeader:t?o=>t.headers.get(o):$,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function gt(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||s.responseType==="native"||s.responseType==="native-request-init")return!0;let n,o;if(r&&(r.error&&typeof r.error=="object"?n=r.error:r.status==="error"&&Array.isArray(r.messages)&&(n={...r},n[L]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[L]=r,n;let a,i=null;n&&(o=Number(n.code),i=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a?.toUpperCase());const d=s.authMode;if(o===403&&(i===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||o===498)&&o!==void 0&&at.has(o)&&!xe(e.params.url)&&(o!==403||(!a||!it.has(a))&&(i==null||i===2&&e.credentialToken))){await F();try{const u=await f.getCredential(e.params.url,{error:g("request:server",n,e.params),credential:e.credential,prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=u,e.credentialToken=u.token,e.useSSL=e.useSSL||u.ssl,!1}catch(u){if(d==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=u}}if(n)throw n;return!0}function ne(e,t,r=!1){const s=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=m.priority,n.src=e,et(n,e,r,s)}function yt(e){let t,r;return typeof e=="string"?(t=h(e,!0),r=Q(e)):(t=e.origin,r=Q(e.toString())),t==null?null:{origin:t,isHosted:r}}function Ft(e){if(!p.assetsPath)throw Ne.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new T("assets:path-not-set","config.assetsPath is not set");return ce(p.assetsPath,e)}const wt=Object.prototype.toString;function vt(e){const t="__accessorMetadata__"in e?Ke(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return bt.apply(this,r)}}function bt(e,t,r,s){pe(e,t).cast=s}function $t(e){return(t,r)=>{pe(t,e).cast=t[r]}}function Ht(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&wt.call(e[0])==="[object Function]"?vt(e[0]):e.length===1&&typeof e[0]=="string"?$t(e[0]):void 0}export{ze as A,et as B,It as C,y as H,Rt as I,xt as P,we as R,Pt as S,Ge as U,Ce as a,q as b,Ye as c,Et as d,Ht as e,We as f,Q as g,Qe as h,me as i,ge as j,qe as k,Be as l,he as m,Ft as n,At as o,U as p,kt as q,Oe as r,f as s,Lt as t,Nt as u,jt as v,_t as w,Dt as x,Ut as y,ye as z};
