import{r,m as o,av as S,a as m,p as v,v as z,o as j}from"./iFuBOtDF.js";import{a as d}from"./DHq0rblm.js";import{o as u}from"./aQeO9QTD.js";import"./BfhsIlKo.js";import{r as g}from"./Bvto7RYj.js";import{s as x,e as M,o as b,Y as D,V as k}from"./BgvLO-3W.js";import{aw as f,a9 as T}from"./pCx8oau_.js";import{l as C}from"./gRIb6kZn.js";import{c as N,m as $}from"./CaNAmI22.js";function O(t,e,i){return e.imageData?x({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):w(e.url,i)}function w(t,e){if(!D(t)){const i=A(e);if(i)return k(i,"images",t)}return T(t,e)}function V(t,e,i,s){if(M(t)){const l=b(t);if(!l)return;e.contentType=l.mediaType,e.imageData=l.data,i&&i.imageData===e.imageData&&i.url&&f(i.url,e,"url",s)}else f(t,e,"url",s)}const P={json:{read:{source:["imageData","url"],reader:O},write:{writer(t,e,i,s){V(t,e,this.source,s)}}}},q={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const s={};return e.imageData&&(s.imageData=e.imageData),e.contentType&&(s.contentType=e.contentType),e.url&&(s.url=w(e.url,i)),s}}}};function A(t){if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const s=i?.type;return s==="feature"||s==="stream"?i.parsedUrl?.path:s==="map-image"||s==="tile"?t.url?.path:null}let p=class extends N{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};r([o({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],p.prototype,"angle",void 0),r([o({type:["simple-marker","picture-marker"],readOnly:!0})],p.prototype,"type",void 0),r([o({type:Number,cast:u,json:{write:!0}})],p.prototype,"xoffset",void 0),r([o({type:Number,cast:u,json:{write:!0}})],p.prototype,"yoffset",void 0),r([o({cast:t=>t==="auto"?t:S(u(t)),json:{write:!0}})],p.prototype,"size",void 0),p=r([m("esri.symbols.MarkerSymbol")],p);var y;let a=y=class extends p{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e!=null&&(s.width=u(e)),i!=null&&(s.height=u(i)),s}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new y({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",d(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};r([o({json:{write:!1}})],a.prototype,"color",void 0),r([g({esriPMS:"picture-marker"},{readOnly:!0})],a.prototype,"type",void 0),r([o(P)],a.prototype,"url",void 0),r([o(q)],a.prototype,"source",void 0),r([o({type:Number,cast:u,json:{write:!0}})],a.prototype,"height",void 0),r([v("height",["height","size"])],a.prototype,"readHeight",null),r([o({type:Number,cast:u,json:{write:!0}})],a.prototype,"width",void 0),r([o({json:{write:!1}})],a.prototype,"size",void 0),a=y=r([m("esri.symbols.PictureMarkerSymbol")],a);var c;const h=new z({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let n=c=class extends p{constructor(...t){super(...t),this.color=new C([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new $}normalizeCtorArgs(t,e,i,s){if(t&&typeof t!="string")return t;const l={};return t&&(l.style=t),e!=null&&(l.size=u(e)),i&&(l.outline=i),s&&(l.color=s),l}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new c({angle:this.angle,color:d(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};r([o()],n.prototype,"color",void 0),r([j("color")],n.prototype,"writeColor",null),r([g({esriSMS:"simple-marker"},{readOnly:!0})],n.prototype,"type",void 0),r([o()],n.prototype,"size",void 0),r([o({type:h.apiValues,json:{read:h.read,write:h.write}})],n.prototype,"style",void 0),r([o({type:String,json:{write:!0}})],n.prototype,"path",null),r([o({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$}},json:{default:null,write:!0}})],n.prototype,"outline",void 0),n=c=r([m("esri.symbols.SimpleMarkerSymbol")],n);export{a,q as c,P as m,n as u};
