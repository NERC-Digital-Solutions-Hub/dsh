import{r as s,m as h,a,w as m}from"./DvUDi2Se.js";import l from"./WcbF0m06.js";import"./BYatcg2i.js";import"./CnfuZz2S.js";import{V as o,n as w}from"./InWWYu7p.js";import{t as c,n as y}from"./CLdLWz9D.js";let r=class extends o{constructor(t){super(t),this.addHandles([this.on("before-add",(e=>{e.item==null&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(o.ofType(this.itemType.Type))(t):new o(t)}};function v(t,e){return{type:t,cast:c,set(p){const i=y(p,this._get(e),t);i.owner=this,this._set(e,i)}}}s([h()],r.prototype,"owner",null),r=s([a("esri.core.support.OwningCollection")],r);let n=class extends r{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};s([w({Type:l,ensureType:m(l)})],n.prototype,"itemType",void 0),n=s([a("esri.support.GraphicsCollection")],n);export{n as c,v as l,r as n};
