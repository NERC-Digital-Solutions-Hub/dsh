import{b as _,h as l,c as d,a1 as h,Y as g,ai as m,E as y,e as w,a5 as o,aG as E,i as p,K as q,t as v,aH as R}from"./CV9xP8QE.js";function k(t,r,...n){var e=t,s=o,u;_(()=>{s!==(s=r())&&(u&&(E(u),u=null),u=w(()=>s(e,...n)))},y),l&&(e=p)}function x(t){return(r,...n)=>{var e=t(...n),s;if(l)s=p,d();else{var u=e.render().trim(),f=h(u);s=q(f),r.before(s)}const i=e.setup?.(s);g(s,s),typeof i=="function"&&m(i)}}function S(t,r,n){if(t==null)return r(void 0),o;const e=v(()=>t.subscribe(r,n));return e.unsubscribe?()=>e.unsubscribe():e}const c=[];function z(t,r=o){let n=null;const e=new Set;function s(i){if(R(t,i)&&(t=i,n)){const b=!c.length;for(const a of e)a[1](),c.push(a,t);if(b){for(let a=0;a<c.length;a+=2)c[a][0](c[a+1]);c.length=0}}}function u(i){s(i(t))}function f(i,b=o){const a=[i,b];return e.add(a),e.size===1&&(n=r(s,u)||o),i(t),()=>{e.delete(a),e.size===0&&n&&(n(),n=null)}}return{set:s,update:u,subscribe:f}}function A(t){let r;return S(t,n=>r=n)(),r}export{S as a,x as c,A as g,k as s,z as w};
