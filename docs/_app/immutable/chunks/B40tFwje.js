import{a as R,n as T}from"./B87vTgcy.js";import{h as z,c as s}from"./DUo1nWNq.js";import{N as w,T as $}from"./BUsxo-Ec.js";import{L as I}from"./BYduSOTS.js";import{n as P,_ as k}from"./Cgb6qxNH.js";import{H as C,s as H,o as d}from"./BrT4CCe6.js";import{n as u}from"./PJHcqbvL.js";import{n as p}from"./DFDvrvHK.js";import{N as b,q as L,b as U,j as V}from"./mBElwvU4.js";function _(r,n){if(r==null||n==null)return;const e=v(r,n);return e!=null?s(e,"radians","geographic"):void 0}const v=(()=>{const r=u(),n=u();return(e,t)=>(d(r,e.x,e.y,e.z??0),d(n,t.x,t.y,t.z??0),A(r,n,e.spatialReference,t.spatialReference))})(),A=(()=>{const r=P(),n=u(),e=u();return(t,i,l,f)=>{if(C(t,i))return;const o=b(l),c=b(f);if(o&&c&&$(o,c)&&p(t,l,n,o)&&p(i,f,e,c)){const{azimuth:m}=L(D,n,e,o);return m!=null?w(m,"degrees","radians"):void 0}r[0]=i[0]-t[0],r[1]=i[1]-t[1];let a=I(k,r);return r[0]<0&&(a=E-a),a}})();function Z(r,n,e,t="absolute"){if(n&&e)switch(t){case"absolute":return _(n,e);case"relative":return M(y(r,n,e),"relative");case"relative-bilateral":return M(y(r,n,e),"relative-bilateral")}}function y(r,n,e){if(!r||!n||!e)return;const t=v(r,n),i=v(n,e);return t!=null&&i!=null?s(i-t,"radians","geographic"):void 0}function M(r,n){if(r!=null)switch(n){case"absolute":return B(r);case"relative":{const e=h(r);let t=j.normalize(e,0,!0);return t===-180&&(t=180),s(t,"degrees","geographic")}case"relative-bilateral":{const e=h(r),t=Math.abs(j.normalize(e,0,!0));return s(t,"degrees","geographic")}}}function B(r){const n=h(r),e=F.normalize(n,0,!0);return s(e,"degrees","geographic")}const rr=(()=>{const r=u();return(n,e,t,i,l,f="geodesic")=>{H(r,e);const o=h(l);if(f==="geodesic"){const g=b(t);if(g&&p(r,t,r,g))return V(n,r,o,i,g),n[2]=e[2],!!p(n,g,n,t)}const c=z(o,"geographic","arithmetic"),a=w(c,"degrees","radians"),m=e[0]+i*Math.cos(a),q=e[1]+i*Math.sin(a),N=e[2];return d(n,m,q,N),!0}})();function h(r){if(r!=null)return z(x(r),r.rotationType,"geographic")}function er(r){if(r!=null)return z(x(r),r.rotationType,"arithmetic")}function x(r){return w(r.value,r.unit,"degrees")}const D=new U,E=2*Math.PI,F=R,j=new T(-180,180);export{B as M,h as R,rr as U,_ as j,er as q,M as w,Z as x,A as y};
