const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BvIqEAWZ.js","./DCkdB7M8.js","./DPMX7eij.js","./Dc40Hn7j.js","./CKPuaBYR.js","./w-2V2ENZ.js","./DGjcIG0n.js","./PPVm8Dsz.js","./BBGELVfD.js","./BT7E4tWz.js","./D6KPPgz5.js"])))=>i.map(i=>d[i]);
import{_ as On}from"./PPVm8Dsz.js";import{s as Vn}from"./DGjcIG0n.js";import{s as Qn,T as dn,C as Tn}from"./CKPuaBYR.js";import{s as Jn}from"./D8t6YHTB.js";import{n as yn,P as Xn,y as Yn,m as ne}from"./BT7E4tWz.js";import{a as U,aO as m,V as Nn,t as h,aP as q,aQ as an,Z as ee,aR as Rn,C as Sn,O as Cn,az as te,x as ae,aS as se,G as ie,A as le,am as re,an as ue,D as oe,E as fe,aT as ce,ae as _e,F as Re,f as _n,N as G,al as Ln,_ as Se,z as Ce}from"./Dc40Hn7j.js";import{r as Ee,M as Pe,s as pe,l as he}from"./D6KPPgz5.js";function Ae(e,t,n){if(t==null||n==null||n.vcsWkid||U(t,n)||m(t)||m(n))return null;const a=Nn(t)/Nn(n);if(a===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>Me(i,a);case"polyline":case"esriGeometryPolyline":return i=>de(i,a);case"polygon":case"esriGeometryPolygon":return i=>Oe(i,a);case"multipoint":case"esriGeometryMultipoint":return i=>Ne(i,a);case"extent":case"esriGeometryEnvelope":return i=>Le(i,a);default:return null}}function Me(e,t){e?.z!=null&&(e.z*=t)}function Oe(e,t){if(e)for(const n of e.rings)for(const a of n)a.length>2&&(a[2]*=t)}function de(e,t){if(e)for(const n of e.paths)for(const a of n)a.length>2&&(a[2]*=t)}function Ne(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function Le(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}const ot=Math.PI/180,ft=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,L=h.radius,P=h.eccentricitySquared,Ge={a1:L*P,a2:L*P*L*P,a3:L*P*P/2,a4:L*P*L*P*2.5,a5:L*P+L*P*P/2,a6:1-P},ct={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:h.radius,f:h.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:an.radius,f:an.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:q.radius,f:q.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:q.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(s||(s={}));const me={[s.WGS84]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:y,[s.WGS84]:_,[s.WGS84_ECEF]:j},[s.CGCS2000]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:y,[s.WGS84]:_,[s.WGS84_ECEF]:j},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:_,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:In,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:mn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:Z,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:Z,[s.SPHERICAL_ECEF]:We,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:_,[s.PLATE_CARREE]:Fe,[s.WGS84]:Z,[s.WGS84_ECEF]:ge},[s.WGS84_ECEF]:{[s.CGCS2000]:v,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:v,[s.SPHERICAL_ECEF]:Ue,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:Ke,[s.PLATE_CARREE]:we,[s.WGS84]:v,[s.WGS84_ECEF]:_},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:k,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:k,[s.SPHERICAL_ECEF]:_,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:je,[s.PLATE_CARREE]:Te,[s.WGS84]:k,[s.WGS84_ECEF]:ve},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:gn,[s.GCSMOON2000]:null,[s.LON_LAT]:gn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:_,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:Wn,[s.LON_LAT]:Wn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:_,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:_,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:_,[s.GCSMARS2000]:_,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:In,[s.SPHERICAL_MOON_PCPF]:mn,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:T,[s.PLATE_CARREE]:y,[s.WGS84]:_,[s.WGS84_ECEF]:j},[s.PLATE_CARREE]:{[s.CGCS2000]:H,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:H,[s.SPHERICAL_ECEF]:ye,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:He,[s.PLATE_CARREE]:_,[s.WGS84]:H,[s.WGS84_ECEF]:ke}};function Hn(e,t){return Ie(e,t)?.projector}function Ie(e,t){if(e==null||t==null)return null;if(O.source.spatialReference===e&&O.dest.spatialReference===t)return O;const n=Gn(e,O.source),a=Gn(t,O.dest);return n===s.UNKNOWN&&a===s.UNKNOWN?U(e,t)?O.projector=_:O.projector=null:O.projector=me[n][a],O}function Gn(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=ee(e,1)),Rn(e)?t.spatialReferenceId=s.SPHERICAL_ECEF:Sn(e)?t.spatialReferenceId=s.WGS84:Cn(e)?t.spatialReferenceId=s.WEB_MERCATOR:te(e)?t.spatialReferenceId=s.PLATE_CARREE:e.wkt===ae.wkt?t.spatialReferenceId=s.WGS84_ECEF:e.wkid===se.CGCS2000?t.spatialReferenceId=s.CGCS2000:e.wkt===ie.wkt?t.spatialReferenceId=s.SPHERICAL_MARS_PCPF:e.wkt===le.wkt?t.spatialReferenceId=s.SPHERICAL_MOON_PCPF:re(e)?t.spatialReferenceId=s.GCSMARS2000:ue(e)?t.spatialReferenceId=s.GCSMOON2000:t.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function _(e,t,n,a){e!==n&&(n[a++]=e[t++],n[a++]=e[t++],n[a]=e[t])}function Z(e,t,n,a){n[a]=z*(e[t]/W),n[a+1]=z*(kn-2*Math.atan(Math.exp(-e[t+1]/W))),n[a+2]=e[t+2]}function We(e,t,n,a){const i=e[t]/W,l=kn-2*Math.atan(Math.exp(-e[t+1]/W)),u=W+e[t+2],r=Math.cos(l)*u;n[a]=Math.cos(i)*r,n[a+1]=Math.sin(i)*r,n[a+2]=Math.sin(l)*u}function ge(e,t,n,a){Z(e,t,n,a),j(n,a,n,a)}function $e(e,t,n,a,i){const l=.4999999*Math.PI,u=Ee(K*e[t+1],-l,l),r=Math.sin(u);n[a++]=K*e[t]*i.radius,n[a++]=i.halfSemiMajorAxis*Math.log((1+r)/(1-r)),n[a]=e[t+2]}function T(e,t,n,a){$e(e,t,n,a,h)}function y(e,t,n,a){n[a]=e[t]*$n,n[a+1]=e[t+1]*$n,n[a+2]=e[t+2]}function H(e,t,n,a){n[a]=e[t]*Fn,n[a+1]=e[t+1]*Fn,n[a+2]=e[t+2]}function Fe(e,t,n,a){Z(e,t,n,a),y(n,a,n,a)}function we(e,t,n,a){v(e,t,n,a),y(n,a,n,a)}function Te(e,t,n,a){k(e,t,n,a),y(n,a,n,a)}function ye(e,t,n,a){H(e,t,n,a),b(n,a,n,a)}function He(e,t,n,a){H(e,t,n,a),T(n,a,n,a)}function ke(e,t,n,a){H(e,t,n,a),j(n,a,n,a)}function Pn(e,t,n,a,i){const l=i+e[t+2],u=K*e[t+1],r=K*e[t],o=Math.cos(u)*l;n[a]=Math.cos(r)*o,n[a+1]=Math.sin(r)*o,n[a+2]=Math.sin(u)*l}function mn(e,t,n,a){Pn(e,t,n,a,an.radius)}function In(e,t,n,a){Pn(e,t,n,a,q.radius)}function b(e,t,n,a){Pn(e,t,n,a,h.radius)}function pn(e,t,n,a,i){const l=e[t],u=e[t+1],r=e[t+2],o=Math.sqrt(l*l+u*u+r*r),c=he(r/(o===0?1:o)),f=Math.atan2(u,l);n[a++]=z*f,n[a++]=z*c,n[a]=o-i}function Wn(e,t,n,a){pn(e,t,n,a,an.radius)}function gn(e,t,n,a){pn(e,t,n,a,q.radius)}function k(e,t,n,a){pn(e,t,n,a,h.radius)}function je(e,t,n,a){k(e,t,n,a),T(n,a,n,a)}function ve(e,t,n,a){k(e,t,n,a),j(n,a,n,a)}function xe(e,t,n,a,i){const l=K*e[t],u=K*e[t+1],r=e[t+2],o=Math.sin(u),c=Math.cos(u),f=i.radius/Math.sqrt(1-i.eccentricitySquared*o*o);n[a++]=(f+r)*c*Math.cos(l),n[a++]=(f+r)*c*Math.sin(l),n[a++]=(f*(1-i.eccentricitySquared)+r)*o}function j(e,t,n,a){xe(e,t,n,a,h)}function v(e,t,n,a){const i=Ge,l=e[t],u=e[t+1],r=e[t+2];let o,c,f,S,R,A,M,E,N,B,ln,rn,un,$,F,on,fn,cn,w,An,Mn;o=Math.abs(r),c=l*l+u*u,f=Math.sqrt(c),S=c+r*r,R=Math.sqrt(S),An=Math.atan2(u,l),A=r*r/S,M=c/S,$=i.a2/R,F=i.a3-i.a4/R,M>.3?(E=o/R*(1+M*(i.a1+$+A*F)/R),w=Math.asin(E),B=E*E,N=Math.sqrt(1-B)):(N=f/R*(1-A*(i.a5-$-M*F)/R),w=Math.acos(N),B=1-N*N,E=Math.sqrt(B)),ln=1-h.eccentricitySquared*B,rn=h.radius/Math.sqrt(ln),un=i.a6*rn,$=f-rn*N,F=o-un*E,fn=N*$+E*F,on=N*F-E*$,cn=on/(un/ln+fn),w+=cn,Mn=fn+on*cn/2,r<0&&(w=-w),n[a++]=z*An,n[a++]=z*w,n[a]=Mn}function Ue(e,t,n,a){v(e,t,n,a),b(n,a,n,a)}function Ke(e,t,n,a){v(e,t,n,a),T(n,a,n,a)}const O={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:_},K=pe(1),z=Pe(1),kn=.5*Math.PI,W=h.radius,$n=W*Math.PI/180,Fn=180/(W*Math.PI);function J(e,t,n,a,i,l,u=Math.floor(e.length/3)){const r=Hn(t,i);if(r==null)return!1;if(r===_){if(e===a&&n===l)return!0;const c=n+3*u;for(let f=n,S=l;f<c;f++,S++)a[S]=e[f];return!0}const o=n+3*u;for(let c=n,f=l;c<o;c+=3,f+=3)r(e,c,a,f);return!0}const _t=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:J},Symbol.toStringTag,{value:"Module"}));function wn(e,t,n,a,i,l){return Y[0]=e,Y[1]=t,Y[2]=n,J(Y,a,0,i,l,0)}const Y=yn();let nn=0;class x{static fromGE(t){const n=new x;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}constructor(t){this.uid=nn++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=nn++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=nn++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=nn++}getInverse(){const t=new x;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class d{static cacheKey(t,n){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(t){const n=new d;let a="";for(const i of t.steps){const l=x.fromGE(i);n.steps.push(l),a+=l.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=a,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const n of t.steps)n instanceof x?this.steps.push(n):this.steps.push(new x({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const t=new d;t.steps=[];for(let n=this.steps.length-1;n>=0;n--){const a=this.steps[n];t.steps.push(a.getInverse())}return t}getGTListEntry(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,n,a){this._cachedProjection[d.cacheKey(t,n)]=a}getCachedGeTransformation(t,n){let a="";for(const l of this.steps)a+=l.uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=a);const i=this._cachedProjection[d.cacheKey(t,n)];return i===void 0?null:i}}let p=null,I=null,D=null,en={};const hn=new Jn;function X(){return!!p&&Re()}function jn(){return!!X()||(Tn(hn),V(),!1)}function ze(e,t){return!e||!t||g(e,t)||jn()}function Be(e,t){return!g(e,t)&&!X()}function V(e){return D==null&&(D=Promise.all([oe(),On(()=>import("./BvIqEAWZ.js"),__vite__mapDeps([0,1]),import.meta.url).then((t=>t.g)),On(()=>import("./DPMX7eij.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10]),import.meta.url)])),D.then((([,t,{hydratedAdapter:n}])=>{Qn(e),I=n,p=t.default,p._enableProjection(fe),hn.notify()}))}function vn(e,t,n=null,a=null){return Array.isArray(e)?e.length===0?[]:(ce(e),En(I,e,e[0].spatialReference,t,n,a)):(_e(e),En(I,[e],e.spatialReference,t,n,a)[0])}function En(e,t,n,a,i=null,l=null){if(n==null||a==null)return t;if(g(n,a,i))return t.map((u=>tn(u,n,a)));if(i==null&&Rn(n))return t.map((u=>tn(u,n,_n.WGS84))).map((u=>Q(u,a)));if(i==null&&Rn(a))return t.map((u=>Q(u,_n.WGS84))).map((u=>tn(u,_n.WGS84,a)));if(i==null){const u=d.cacheKey(n,a);en[u]!==void 0?i=en[u]:((i=Un(n,a,void 0))==null&&(i=new d),en[u]=i)}if(p==null||e==null)throw new sn;return l!=null?p._project(e,t,n,a,i,l):p._project(e,t,n,a,i)}function qe(e,t){const n=xn([e],t);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function xn(e,t){if(!X()){for(const n of e)if(n!=null&&!U(n.spatialReference,t)&&G(n.spatialReference)&&G(t)&&!g(n.spatialReference,t))return Tn(hn),{pending:V(),geometries:null}}return{pending:null,geometries:e.map((n=>n==null?null:U(n.spatialReference,t)?n:G(n.spatialReference)&&G(t)?Q(n,t):null))}}function Un(e,t,n=null){if(e==null||t==null)return null;if(p==null||I==null)throw new sn;const a=p._getTransformation(I,e,t,n,n?.spatialReference);return a!==null?d.fromGE(a):null}function Ze(e,t,n=null){if(p==null||I==null)throw new sn;const a=p._getTransformationBySuitability(I,e,t,n,n?.spatialReference);if(a!==null){const i=[];for(const l of a)i.push(d.fromGE(l));return i}return[]}class sn extends Vn{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function be(){p=null,I=null,D=null,en={}}const De={get loadPromise(){return D}};function Q(e,t){try{const n=vn(e,t);if(n==null)return null;"xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax);const a=Ae(n.type,e.spatialReference,t);return a?.(n),n}catch(n){if(!(n instanceof sn))throw n;return null}}async function Ve(e,t,n){const a=e.spatialReference;return a!=null&&t!=null&&await Kn(a,t,null,n),Q(e,t)}function g(e,t,n){return!n&&(!!U(e,t)||G(e)&&G(t)&&!!Hn(e,t))}function Qe(e,t){if(U(e,t))return!0;if(!G(e)||!G(t))return!1;const n=Sn(e)||Cn(e)||Ln(e),a=Sn(t)||Cn(t)||Ln(t);return n&&a}async function Kn(e,t,n,a){if(X())return dn(a);if(Array.isArray(e)){for(const{source:i,dest:l,geographicTransformation:u}of e)if(i&&l&&!g(i,l,u))return V(a)}else if(e&&t&&!g(e,t,n))return V(a);return dn(a)}function tn(e,t,n){return e?"x"in e?zn(e,t,new Se,n,0):"xmin"in e?bn(e,t,new Ce,n,0):"rings"in e?Zn(e,t,new Xn,n,0):"paths"in e?qn(e,t,new Yn,n,0):"points"in e?Bn(e,t,new ne,n,0):null:null}function Je(e,t,n=t.spatialReference,a=0){return n!=null&&e.spatialReference!=null&&zn(e,e.spatialReference,t,n,a)!=null}function zn(e,t,n,a,i){C[0]=e.x,C[1]=e.y;const l=e.z;return C[2]=l!==void 0?l:i,J(C,t,0,C,a,0)?(n.x=C[0],n.y=C[1],n.spatialReference=a,l!==void 0||m(a)?(n.z=C[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),e.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function Xe(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&Bn(e,e.spatialReference,t,n,a)!=null}function Bn(e,t,n,a,i){const{points:l,hasZ:u,hasM:r}=e,o=[],c=l.length,f=[];for(const R of l)f.push(R[0],R[1],u?R[2]:i);if(!J(f,t,0,f,a,0,c))return null;const S=u||m(a);for(let R=0;R<c;++R){const A=3*R,M=f[A],E=f[A+1];S&&r?o.push([M,E,f[A+2],l[R][3]]):S?o.push([M,E,f[A+2]]):r?o.push([M,E,l[R][2]]):o.push([M,E])}return n.points=o,n.spatialReference=a,n.hasZ=u,n.hasM=r,n}function Ye(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&qn(e,e.spatialReference,t,n,a)!=null}function qn(e,t,n,a,i){const{paths:l,hasZ:u,hasM:r}=e,o=[];if(!Dn(l,u??!1,r??!1,t,o,a,i))return null;const c=u||m(a);return n.paths=o,n.spatialReference=a,n.hasZ=c,n.hasM=r,n}function nt(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&Zn(e,e.spatialReference,t,n,a)!=null}function Zn(e,t,n,a,i){const{rings:l,hasZ:u,hasM:r}=e,o=[];if(!Dn(l,u??!1,r??!1,t,o,a,i))return null;const c=u||m(a);return n.rings=o,n.spatialReference=a,n.hasZ=c,n.hasM=r,n}function et(e,t,n=t.spatialReference,a=0){return e.spatialReference!=null&&n!=null&&bn(e,e.spatialReference,t,n,a)!=null}function bn(e,t,n,a,i){const{xmin:l,ymin:u,xmax:r,ymax:o,hasZ:c,hasM:f}=e,S=c?e.zmin:i;if(!wn(l,u,S,t,C,a))return null;const R=c||m(a);n.xmin=C[0],n.ymin=C[1],R&&(n.zmin=C[2]);const A=c?e.zmax:i;return wn(r,o,A,t,C,a)?(n.xmax=C[0],n.ymax=C[1],R&&(n.zmax=C[2]),f&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=a,n):null}function Dn(e,t,n,a,i,l,u=0){const r=new Array;for(const f of e)for(const S of f)r.push(S[0],S[1],t?S[2]:u);if(!J(r,a,0,r,l,0))return!1;let o=0;i.length=0;const c=t||m(l);for(const f of e){const S=new Array;for(const R of f)c&&n?S.push([r[o++],r[o++],r[o++],R[3]]):c?S.push([r[o++],r[o++],r[o++]]):n?(S.push([r[o++],r[o++],R[2]]),o++):(S.push([r[o++],r[o++]]),o++);i.push(S)}return!0}const C=yn(),Rt=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:g,getTransformation:Un,getTransformations:Ze,initializeProjection:Kn,isEqualBaseGCS:Qe,isLoaded:X,isLoadedOrLoad:jn,isLoadedOrLoadFor:ze,load:V,project:vn,projectExtent:et,projectMany:En,projectMultipoint:Xe,projectOrLoad:qe,projectOrLoadMany:xn,projectPoint:Je,projectPolygon:nt,projectPolyline:Ye,projectWithZConversion:Ve,projectWithoutEngine:tn,requiresLoad:Be,test:De,tryProjectWithZConversion:Q,unload:be},Symbol.toStringTag,{value:"Module"}));export{tn as $,Ie as F,Hn as G,Q as I,Ve as J,V as K,g as L,Qe as N,vn as O,Kn as Q,ze as U,En as V,qe as X,xn as Y,J as a,s as b,me as c,ct as d,wn as e,Rt as f,$e as h,ot as i,X as k,Je as n,Ae as o,_t as p,Un as q,nt as s,ft as t,pn as v};
