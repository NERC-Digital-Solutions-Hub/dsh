const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DBpqKOdv.js","./B7zDb3e9.js","./D6wORzA5.js","./D6KPPgz5.js","./oKHlAiyk.js","./BJj2_Vlp.js","./2eEJBHPf.js","./ChyLTfvi.js","./CNUDh-Wk.js","./GwO4izZl.js","./EnYQAt9i.js","./B-7eUg25.js","./BZedbJEu.js","./PPVm8Dsz.js","./BxFa---M.js","./BU-dfLkt.js","./C-4pLmJn.js","./cJTMN21N.js","./BG9QFDG6.js","./InsT2XWv.js","./ClADyDLD.js","./zNZQG8RX.js","./BI9cEHvw.js","./9YvG7tFv.js","./CdVNE2jI.js","./CRMN5UkJ.js","./aQeO9QTD.js","./D2jLiM28.js","./CIlIedjc.js","./CONHDDy1.js","./BsUn6UE9.js","./DhlDKrQU.js","./CnokOXGB.js"])))=>i.map(i=>d[i]);
import{_}from"./PPVm8Dsz.js";import{b as g}from"./BJj2_Vlp.js";import"./BxFa---M.js";import"./EnYQAt9i.js";import"./BU-dfLkt.js";import"./2eEJBHPf.js";import"./oKHlAiyk.js";import{e as A}from"./cJTMN21N.js";import{L as y,M as L,N as O}from"./D8cRbc56.js";import"./B7zDb3e9.js";import"./B8pkxaWa.js";import{z as F}from"./BVp01coW.js";import"./DqiJFq4U.js";import"./CdVNE2jI.js";import"./BZedbJEu.js";import"./BsUn6UE9.js";import"./CRMN5UkJ.js";import"./DhlDKrQU.js";import"./CONHDDy1.js";import"./ARJYo6hL.js";var l;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(l||(l={}));const S=g("android");g("chrome")||S&&S>=4;F();l.size;l.maxSize;l.maxOutlineSize;l.lineWidth;l.tallSymbolWidth;function w(e){return e&&"opacity"in e?e.opacity*w(e.parent):1}async function Y(e,i){if(!e)return;const b=e.sourceLayer,h=(i!=null&&i.useSourceLayer?b:e.layer)??b,n=i?.ignoreOpacity?1:w(h);if(e.symbol!=null&&(i==null||i.ignoreGraphicSymbol!==!0)){const r=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...i,acceptedFormats:i?.webStyleAcceptedFormats,cache:i?.webStyleCache}):e.symbol.clone();return y(r,null,n),r}const o=i?.renderer??W(h);let t=o&&"getSymbolAsync"in o?await o.getSymbolAsync(e,i):null;if(!t)return;if(t=t.type==="web-style"?await t.fetchSymbol({...i,acceptedFormats:i?.webStyleAcceptedFormats,cache:i?.webStyleCache}):t.clone(),!o||!("visualVariables"in o)||!o.visualVariables?.length)return y(t,null,n),t;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&i?.arcade==null){const r={...i};r.arcade=await A(),i=r}const{getColor:z,getOpacity:V,getAllSizes:x,getRotationAngle:v}=await _(()=>import("./DBpqKOdv.js").then(r=>r.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]),import.meta.url),s=[],c=[],m=[],d=[];for(const r of o.visualVariables)switch(r.type){case"color":s.push(r);break;case"opacity":c.push(r);break;case"rotation":d.push(r);break;case"size":r.target||m.push(r)}const f=!!s.length&&s[s.length-1],u=f?z(f,e,i):null,p=!!c.length&&c[c.length-1];let a=p?V(p,e,i):null;if(n!=null&&(a=a!=null?a*n:n),i?.ignoreOpacity&&(a=1),u!=null&&p&&a!=null&&(u.a=1),y(t,u,a),m.length&&i?.ignoreSizeVariables!==!0){const r=x(m,e,i);await L(t,r)}if(i?.ignoreRotationVariables!==!0)for(const r of d)O(t,v(r,e,i),r.axis);return t}function W(e){if(e)return"renderer"in e?e.renderer:void 0}export{Y as x};
