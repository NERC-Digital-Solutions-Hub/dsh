import{l as a,U as d,n as h,o as P,a as j,b as U,c as m,t as b,w as x}from"./BHwe4xe6.js";import{i as E}from"./BHwe4xe6.js";function y(n,e,u={}){return f(n,e,u,v)}function q(n,e,u={}){return f(n,e,u,$)}function f(n,e,u={},o){let r=null;const i=u.once?(t,c)=>{o(t)&&(a(r),e(t,c))}:(t,c)=>{o(t)&&e(t,c)};if(r=d(n,i,u.sync,u.equals),u.initial){const t=n();i(t,t)}return r}function I(n,e,u,o={}){let r=null,i=null,t=null;function c(){r&&i&&(i.remove(),o.onListenerRemove?.(r),r=null,i=null)}function l(s){o.once&&o.once&&a(t),u(s)}const w=y(n,(s,A)=>{c(),h(s)&&(r=s,i=P(s,e,l),o.onListenerAdd?.(s))},{sync:o.sync,initial:!0});return t=j(()=>{w.remove(),c()}),t}function O(n,e){return p(n,null,e)}function R(n,e){return p(n,$,e)}function p(n,e,u){if(U(u))return Promise.reject(m());const o=n();if(e?.(o))return Promise.resolve(o);let r=null;function i(){r=a(r)}return new Promise((t,c)=>{r=b([x(u,()=>{i(),c(m())}),f(n,l=>{i(),t(l)},{sync:!1,once:!0},e??v)])})}function v(n){return!0}function $(n){return!!n}function g(n,e,u={}){let o=!1;const r=y(n,(i,t)=>{o||e(i,t)},u);return{remove(){r.remove()},pause(){o=!0},resume(){o=!1}}}const k={sync:!0},z={initial:!0},B={sync:!0,initial:!0};export{E as autorun,z as initial,I as on,O as once,g as pausable,k as sync,B as syncAndInitial,y as watch,q as when,R as whenOnce};
