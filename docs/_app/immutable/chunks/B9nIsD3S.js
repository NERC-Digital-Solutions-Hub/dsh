import{s as l,t as p,_ as c,a as f}from"./Vj4mvAVU.js";import{O as m}from"./C8hxyIL3.js";import"./C9_KfL0q.js";import"./BzZgUCJc.js";import{P as a}from"./ftSj4mLm.js";import{J as u,o as d}from"./CzWAt4g0.js";var o;let n=o=class extends l(m.ofType(a)){constructor(e){super(e)}clone(){return new o(this.items.map(e=>e.clone()))}write(e,r){return this.toJSON(r)}toJSON(e){const r=e?.layer?.spatialReference;return r?this.toArray().map(t=>{if(!r.equals(t.spatialReference)){if(!u(t.spatialReference,r))return e?.messages?.push(new p("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const i=new a;d(t,i,r),t=i}const s=t.toJSON(e);return delete s.spatialReference,s}).filter(t=>t!=null):this.toArray().map(t=>t.toJSON(e))}static fromJSON(e,r){const t=new o;return e.forEach(s=>t.add(a.fromJSON(s,r))),t}};n=o=c([f("esri.layers.support.PolygonCollection")],n);const N=n;export{N as l};
