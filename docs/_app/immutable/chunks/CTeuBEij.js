import{A as Nt,_ as I,m as z,a as gt}from"./ChMEnlEh.js";import{h as jt,a as j}from"./DUQhet5j.js";import{i as St}from"./BbNfuhIx.js";import{r as K}from"./Ospc2ekY.js";import{G as ve,c as Mt,_ as S,z as yt,at as Pe,y as Ie,au as Re,f as xt}from"./e8yrlcGX.js";import{o as we,e as $t,q as O,E as qt,v as Ne,w as Se,a as qe,i as Ct}from"./HP4IdprE.js";import{m as Ft,A as kt,r as Ae}from"./bnayRBMH.js";function Os(t){const e=[];for(t.reset();t.nextPath();){const r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function ze(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function Zs(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if(t.type==="point")return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(s=>[s]);if(t.type==="extent"){const s=t.clone().normalize();if(!s)return null;let n=!1,a=!1;return s.forEach(i=>{i.hasZ&&(n=!0),i.hasM&&(a=!0)}),s.map(i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(n&&i.hasZ){const u=.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(a&&i.hasM){const u=.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o})}return null}function ut(t,e){const r=e[0]-t[0],s=e[1]-t[1];if(t.length>2&&e.length>2){const n=t[2]-e[2];return Math.sqrt(r*r+s*s+n*n)}return Math.sqrt(r*r+s*s)}function Vt(t,e,r){const s=t[0]+r*(e[0]-t[0]),n=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[s,n,t[2]+r*(e[2]-t[2])]:[s,n]}function Es(t,e,r,s){return _e(t,e,r[s],r[s+1])}function _e(t,e,r,s){const[n,a]=e,[i,o]=r,[u,c]=s,h=u-i,l=c-o,f=h*h+l*l,p=(n-i)*h+(a-o)*l,m=Math.min(1,Math.max(0,p/f));return t[0]=i+h*m,t[1]=o+l*m,t}function Ts(t,e,r,s,n,a){let i=r,o=s,u=n-i,c=a-o;if(u!==0||c!==0){const h=((t-i)*u+(e-o)*c)/(u*u+c*c);h>1?(i=n,o=a):h>0&&(i+=u*h,o+=c*h)}return u=t-i,c=e-o,u*u+c*c}function Gt(t,e){return Vt(t,e,.5)}function js(t){const e=t.length;let r=0;for(let s=0;s<e-1;++s)r+=ut(t[s],t[s+1]);return r}function Cs(t,e){if(e<=0)return t[0];const r=t.length;let s=0;for(let n=0;n<r-1;++n){const a=ut(t[n],t[n+1]);if(e-s<a){const i=(e-s)/a;return Vt(t[n],t[n+1],i)}s+=a}return t[r-1]}function Jt(t,e=0,r=1){let s=0;const n=t.length;let a=t[0];for(let i=1;i<n;i++){const o=t[i];s+=(o[e]-a[e])*(o[r]+a[r]),a=o}if(Yt(t)){const i=t[0];s+=(i[e]-a[e])*(i[r]+a[r])}return s>=0}function Yt(t){const e=t.length;return e>0&&!jt(t[0],t[e-1])}function Fs(t){"rings"in t&&(Oe(t),Ze(t))}function Oe(t){if("rings"in t)for(const e of t.rings)Yt(e)&&e.push(e[0].slice())}function Ze(t){if(!("rings"in t)||t.rings.length===0||Jt(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function ks(t){return t.type!=="polygon"&&t.type!=="polyline"||Ee(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Ee(t,e){const r=ve(e);if(!r)return;const s=r.valid[0],n=r.valid[1],a=n-s;for(const i of t){let o=1/0,u=-1/0;for(const h of i){const l=Te(h[0],s,n);o=Math.min(o,l),u=Math.max(u,l),h[0]=l}const c=u-o;a-c<c&&i.forEach(h=>{h[0]<0&&(h[0]+=a)})}}function Te(t,e,r){const s=r-e;return t<e?r-(e-t)%s:t>r?e+(t-e)%s:t}function Vs(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[r,s]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return r.length===s.length&&r.every((n,a)=>n.length===s[a].length)}function Gs(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function je(t){return Fe(t.rings,t.hasZ??!1)}function Ce(t){const e=je(t);if(!e)return null;const{hasZ:r,spatialReference:s}=t,[n,a,i]=e;return isNaN(n)||isNaN(a)||r&&isNaN(i)?null:{x:n,y:a,z:r?i:void 0,spatialReference:s}}function Fe(t,e){if(!t?.length)return null;const r=[],s=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,i=t.length;a<i;a++){const o=Dt(t[a],e,n);o&&s.push(o)}if(s.sort((a,i)=>{let o=a[2]-i[2];return o===0&&e&&(o=a[4]-i[4]),o}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const a=t[0]&&t[0].length?ke(t[0],e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],e&&a.length>2&&(r[2]=a[2])}return r}function Dt(t,e,r){let s=0,n=0,a=0,i=0,o=0;const u=t.length?t[0][0]:0,c=t.length?t[0][1]:0,h=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const p=t[f],m=t[(f+1)%t.length],[g,M,y]=p,x=g-u,d=M-c,[$,b,v]=m,R=$-u,P=b-c,w=x*P-R*d;if(i+=w,s+=(x+R)*w,n+=(d+P)*w,e&&p.length>2&&m.length>2){const N=y-h,Z=v-h,A=x*Z-R*N;a+=(N+Z)*A,o+=A}g<r[0]&&(r[0]=g),g>r[1]&&(r[1]=g),M<r[2]&&(r[2]=M),M>r[3]&&(r[3]=M),e&&(y<r[4]&&(r[4]=y),y>r[5]&&(r[5]=y))}if(i>0&&(i*=-1),o>0&&(o*=-1),!i)return null;i*=.5,o*=.5;const l=[s/(6*i)+u,n/(6*i)+c,i];return e&&(r[4]===r[5]||o===0?(l[3]=(r[4]+r[5])/2,l[4]=0):(l[3]=a/(6*o)+h,l[4]=o)),l}function Js(t,e){let r=0,s=0,n=0;t.nextPoint();const a=t.pathSize?t.x:0,i=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const u=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const c=[t.x,t.y],[h,l]=u,f=h-a,p=l-i,[m,g]=c,M=m-a,y=g-i,x=f*y-M*p;n+=x,r+=(f+M)*x,s+=(p+y)*x,h<e[0]&&(e[0]=h),h>e[1]&&(e[1]=h),l<e[2]&&(e[2]=l),l>e[3]&&(e[3]=l)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+a,s/(6*n)+i,n]):null}function ke(t,e){const r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let n=0,a=0,i=0,o=0;for(let u=0,c=t.length;u<c-1;u++){const h=t[u],l=t[u+1];if(h&&l){r[0]=h[0],r[1]=h[1],s[0]=l[0],s[1]=l[1],e&&h.length>2&&l.length>2&&(r[2]=h[2],s[2]=l[2]);const f=ut(r,s);if(f){n+=f;const p=Gt(h,l);a+=f*p[0],i+=f*p[1],e&&p.length>2&&(o+=f*p[2])}}}return n>0?e?[a/n,i/n,o/n]:[a/n,i/n]:t.length?t[0]:null}function Ve(t){const{hasZ:e,totalSize:r}=t;if(r===0)return null;const s=[],n=[],a=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const i=Dt(ze(t),t.hasZ,a);i&&n.push(i)}if(n.sort((i,o)=>{let u=i[2]-o[2];return u===0&&e&&(u=i[4]-o[4]),u}),n.length&&(s[0]=n[0][0],s[1]=n[0][1],e&&(s[2]=n[0][3]),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||e&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)),!s.length){t.reset(),t.nextPath();const i=t.pathSize?Ge(t):null;if(!i)return null;s[0]=i[0],s[1]=i[1],e&&i.length>2&&(s[2]=i[2])}return s}function Ge(t){const{hasZ:e}=t,r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let n=0,a=0,i=0,o=0;if(t.nextPoint()){let u=t.x,c=t.y,h=t.z;for(;t.nextPoint();){const l=t.x,f=t.y,p=t.z;r[0]=u,r[1]=c,s[0]=l,s[1]=f,e&&(r[2]=h,s[2]=p);const m=ut(r,s);if(m){n+=m;const g=Gt(r,s);a+=m*g[0],i+=m*g[1],e&&g.length>2&&(o+=m*g[2])}u=l,c=f,h=p}}return n>0?e?[a/n,i/n,o/n]:[a/n,i/n]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const Je=1e-6;function Ys(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<Je){const n=Ve(t);return n?[n[0],n[1]]:null}const r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const s=[t.x,t.y];for(t.reset();t.nextPath();)De(r,s,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=s[0],r[1]+=s[1],r}const Ye=1/3;function De(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();const s=r.x,n=r.y;r.nextPoint();let a,i=r.x-s,o=r.y-n,u=0,c=0;for(;r.nextPoint();)u=r.x-s,c=r.y-n,a=.5*Ye*(u*o-c*i),t[0]+=a*(i+u),t[1]+=a*(o+c),i=u,o=c;const h=r.getCurrentRingArea(),l=[s,n];return l[0]-=e[0],l[1]-=e[1],l[0]*=h,l[1]*=h,t[0]+=l[0],t[1]+=l[1],t}function Le(t,e){return t[0]=e[0],t[1]=e[1],t}function Be(t,e,r){return t[0]=e,t[1]=r,t}function Ue(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Lt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Bt(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Ut(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function We(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function He(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Qe(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Ke(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function Xe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function tr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function er(t,e,r,s){return t[0]=e[0]+r[0]*s,t[1]=e[1]+r[1]*s,t}function Wt(t,e){const r=e[0]-t[0],s=e[1]-t[1];return Math.sqrt(r*r+s*s)}function dt(t,e){const r=e[0]-t[0],s=e[1]-t[1];return r*r+s*s}function Ht(t){const e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function Qt(t){const e=t[0],r=t[1];return e*e+r*r}function rr(t,e){return t[0]=-e[0],t[1]=-e[1],t}function sr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function nr(t,e){const r=e[0],s=e[1];let n=r*r+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function ar(t,e){return t[0]*e[0]+t[1]*e[1]}function ir(t,e,r){const s=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=s,t}function or(t,e,r,s){const n=e[0],a=e[1];return t[0]=n+s*(r[0]-n),t[1]=a+s*(r[1]-a),t}function ur(t,e=1){const r=2*we()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function cr(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[2]*n,t[1]=r[1]*s+r[3]*n,t}function hr(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[2]*n+r[4],t[1]=r[1]*s+r[3]*n+r[5],t}function rt(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[3]*n+r[6],t[1]=r[1]*s+r[4]*n+r[7],t}function lr(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[4]*n+r[12],t[1]=r[1]*s+r[5]*n+r[13],t}function fr(t,e,r,s){const n=e[0]-r[0],a=e[1]-r[1],i=Math.sin(s),o=Math.cos(s);return t[0]=n*o-a*i+r[0],t[1]=n*i+a*o+r[1],t}function pr(t,e){const r=t[0],s=t[1],n=e[0],a=e[1];let i=r*r+s*s;i>0&&(i=1/Math.sqrt(i));let o=n*n+a*a;o>0&&(o=1/Math.sqrt(o));const u=(r*n+s*a)*i*o;return u>1?0:u<-1?Math.PI:Math.acos(u)}function mr(t){return"vec2("+t[0]+", "+t[1]+")"}function gr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mr(t,e){const r=t[0],s=t[1],n=e[0],a=e[1],i=$t();return Math.abs(r-n)<=i*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(s-a)<=i*Math.max(1,Math.abs(s),Math.abs(a))}function yr(t,e,r,s,n){let a=e[0]-r[0],i=e[1]-r[1];const o=(s[0]*a+s[1]*i)*(n-1);return a=s[0]*o,i=s[1]*o,t[0]=e[0]+a,t[1]=e[1]+i,t}const xr=Ht,$r=Lt,dr=Bt,br=Ut,vr=Wt,Pr=dt,Ir=Qt;Object.freeze(Object.defineProperty({__proto__:null,add:Ue,angle:pr,ceil:We,copy:Le,cross:ir,dist:vr,distance:Wt,div:br,divide:Ut,dot:ar,equals:Mr,exactEquals:gr,floor:He,inverse:sr,len:xr,length:Ht,lerp:or,max:Ke,min:Qe,mul:dr,multiply:Bt,negate:rr,normalize:nr,projectAndScale:yr,random:ur,rotate:fr,round:Xe,scale:tr,scaleAndAdd:er,set:Be,sqrDist:Pr,sqrLen:Ir,squaredDistance:dt,squaredLength:Qt,str:mr,sub:$r,subtract:Lt,transformMat2:cr,transformMat2d:hr,transformMat3:rt,transformMat4:lr},Symbol.toStringTag,{value:"Module"}));function F(t,e,r,s){return t[0]=e[0]*(1-s)+r[0]*s,t[1]=e[1]*(1-s)+r[1]*s,t}function q(t,e){return dt(t,e)}function Ds(t,e,r){const s=q(e,r);if(s===0)return q(e,t);const n=(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0]);return n*n/s}function Rr(t,e,r,s,n){const[a,i]=e,[o,u]=r,[c,h]=s,[l,f]=n,p=(a-o)*(h-f)-(i-u)*(c-l);if(p===0)return null;const m=(a*u-i*o)*(c-l)-(a-o)*(c*f-h*l),g=(a*u-i*o)*(h-f)-(i-u)*(c*f-h*l);return t[0]=m/p,t[1]=g/p,t}const T=2*Math.PI;function D(t,e){const r=Math.atan2(t,e);return r<0?r+T:r}function Kt(t){return Math.abs(t)%T}function At(t){const e=Kt(t);return e<Math.PI?e:T-e}function ct(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function Xt(t,e,r,s){if(Ft(Kt(t-e),0))return r?[t,t]:[t,s?t-T:t+T];const[n,a]=s?[t-T,t]:[t,t+T];return[t,tt({min:n,max:a},e)]}function tt({min:t,max:e},r){let s;return s=e-r,s>=T?(s-=s%T,r+s):(s=r-t,s>=T?(s-=s%T,r-s):r)}function wr(t,e){const r=tt(t,e);return r>t.min&&r<t.max?r:At(r-t.min)<At(r-t.max)?t.min:t.max}function te(t,e,r,s=10){return e.map(n=>{let a=n;for(let i=0;i<s;i++){const[o,u,c,h,l,f]=r(a),p=t[0]-o,m=t[1]-u,g=-c,M=-h;a+=-(2*p*g+2*m*M)/(2*g*g+2*p*-l+2*M*M+2*m*-f||1e-6)}return a})}const Nr=[0,0];function ee(t){const e=1-t,r=e*e,s=t*t;return[r*e,3*t*r,3*s*e,s*t]}function ft(t,e,r,s,n){const[a,i,o,u]=ee(n);return[t[0]*a+e[0]*i+r[0]*o+s[0]*u,t[1]*a+e[1]*i+r[1]*o+s[1]*u]}function zt(t,e,r,s,n){const[a,i,o,u]=ee(n);return t*a+e*i+r*o+s*u}function Ls(t,e,r){const s=t,[n,a,i]=e.b;return ft(s,a,i,n,r)}function Sr(t,e,r){const s=t,[n,a,i]=e.b,o=F([0,0],s,a,r),u=F(Nr,a,i,r),c=F([0,0],i,n,r),h=F([0,0],o,u,r),l=F([0,0],u,c,r);return[{b:[F([],h,l,r),o,h]},{b:[[...n],l,c]}]}function Bs(t,e,r){const s=t,[n,a,i]=e.b,o=te(r,[.1,.5,.9],l=>{const f=1-l,[p,m]=ft(s,a,i,n,l);return[p,m,3*f*f*(a[0]-s[0])+6*f*l*(i[0]-a[0])+3*l*l*(n[0]-i[0]),3*f*f*(a[1]-s[1])+6*f*l*(i[1]-a[1])+3*l*l*(n[1]-i[1]),6*f*(i[0]-2*a[0]+s[0])+6*l*(n[0]-2*i[0]+a[0]),6*f*(i[1]-2*a[1]+s[1])+6*l*(n[1]-2*i[1]+a[1])]}).map(l=>Math.min(1,Math.max(0,l)));o.push(0,1);let u=1/0;const c=o.map(l=>{const f=ft(s,a,i,n,l),[p,m]=f,g=r[0]-p,M=r[1]-m,y=Math.sqrt(g*g+M*M);return u=Math.min(y,u),{t:l,curvePoint:f,distance:y}}),h=[];for(const l of c){const{t:f,distance:p}=l;kt(p,u)&&!h.some(({t:m})=>Ft(m,f))&&h.push(l)}return h}function qr(t,e,r){const s=e,[n,a,i]=r.b;if(O(t,s),O(t,n),qt(t,a[0],a[1])&&qt(t,i[0],i[1]))return t;for(const o of _t(s[0],a[0],i[0],n[0]))o>0&&o<1&&Ne(t,zt(s[0],a[0],i[0],n[0],o));for(const o of _t(s[1],a[1],i[1],n[1]))o>0&&o<1&&Se(t,zt(s[1],a[1],i[1],n[1],o));return t}function _t(t,e,r,s){const n=3*(3*(e-r)-t+s),a=6*(t-2*e+r),i=3*(e-t);if(n===0)return a!==0?[-i/a]:[];const o=Math.sqrt(a*a-4*n*i);return[(-a+o)/(2*n),(-a-o)/(2*n)]}function Us(t,e,r){let n=0,a=[e];for(let i=0;i<16;i++){let o=t;const u=[];for(const h of a)u.push(...Sr(o,h,.5)),o=h.b[0];a=u,o=t,n=0;let c=0;for(const h of a){const[l,f,p]=h.b,m=Math.sqrt(q(o,l));n+=(m+(Math.sqrt(q(o,f))+Math.sqrt(q(f,p))+Math.sqrt(q(p,l))))/2,c+=m,o=l}if(n-c<r)return n}return n}function Ar(t,e,r){const[s,n]=t,[a,i]=e,[o,u]=r,[c,h]=[a-s,i-n];let l=c*(o-s)+h*(u-n);l/=c**2+h**2,l=Ae(l,0,1);const f=F([0,0],t,e,l);return{t:l,curvePoint:f,distance:Math.sqrt(q(f,r))}}let re=class{constructor(e,r,s,n,a,i){this.cx=e,this.cy=r,this.radius=s,this.thetaStart=n,this.thetaEnd=a,this.isInvalid=i}get startPoint(){const{cx:e,cy:r,radius:s,thetaStart:n}=this;return[e+s*Math.cos(n),r+s*Math.sin(n)]}get endPoint(){const{cx:e,cy:r,radius:s,thetaEnd:n}=this;return[e+s*Math.cos(n),r+s*Math.sin(n)]}};function it(t,e){const{cx:r,cy:s,radius:n}=t;return[r+n*Math.cos(e),s+n*Math.sin(e)]}function st(t,e){if(t.isInvalid)return F([0,0],t.startPoint,t.endPoint,e);const{thetaStart:r,thetaEnd:s}=t;return it(t,r*(1-e)+s*e)}function Hs(t,e){if(t.isInvalid)return Ar(t.startPoint,t.endPoint,e);const{cx:r,cy:s,thetaStart:n,thetaEnd:a}=t,[i,o]=e,u=wr(ct(n,a),Math.atan2(o-s,i-r)),c=it(t,u);return{t:(u-n)/(a-n),curvePoint:c,distance:Math.sqrt(q(e,c))}}function Ot(t,e){if(e.isInvalid)return O(t,e.startPoint),O(t,e.endPoint),t;const{cx:r,cy:s,radius:n,thetaStart:a,thetaEnd:i}=e;O(t,it(e,a)),O(t,it(e,i));const o=ct(a,i),u=Math.PI/2;let c=0;for(const h of[[r+n,s],[r,s+n],[r-n,s],[r,s-n]])c=tt(o,c),c>o.min&&c<o.max&&O(t,h),c+=u;return t}function Qs(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:r,thetaEnd:s}=t;return e*Math.abs(s-r)}function zr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function _r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Q(t,e,r,s,n,a,i,o,u,c){return t[0]=e,t[1]=r,t[2]=s,t[3]=n,t[4]=a,t[5]=i,t[6]=o,t[7]=u,t[8]=c,t}function Or(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function se(t,e){if(t===e){const r=e[1],s=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=s,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function ne(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8],l=h*i-o*c,f=-h*a+o*u,p=c*a-i*u;let m=r*l+s*f+n*p;return m?(m=1/m,t[0]=l*m,t[1]=(-h*s+n*c)*m,t[2]=(o*s-n*i)*m,t[3]=f*m,t[4]=(h*r-n*u)*m,t[5]=(-o*r+n*a)*m,t[6]=p*m,t[7]=(-c*r+s*u)*m,t[8]=(i*r-s*a)*m,t):null}function Zr(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8];return t[0]=i*h-o*c,t[1]=n*c-s*h,t[2]=s*o-n*i,t[3]=o*u-a*h,t[4]=r*h-n*u,t[5]=n*a-r*o,t[6]=a*c-i*u,t[7]=s*u-r*c,t[8]=r*i-s*a,t}function nt(t){const e=t[0],r=t[1],s=t[2],n=t[3],a=t[4],i=t[5],o=t[6],u=t[7],c=t[8];return e*(c*a-i*u)+r*(-c*n+i*o)+s*(u*n-a*o)}function ot(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=r[0],p=r[1],m=r[2],g=r[3],M=r[4],y=r[5],x=r[6],d=r[7],$=r[8];return t[0]=f*s+p*i+m*c,t[1]=f*n+p*o+m*h,t[2]=f*a+p*u+m*l,t[3]=g*s+M*i+y*c,t[4]=g*n+M*o+y*h,t[5]=g*a+M*u+y*l,t[6]=x*s+d*i+$*c,t[7]=x*n+d*o+$*h,t[8]=x*a+d*u+$*l,t}function Er(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=r[0],p=r[1];return t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=o,t[5]=u,t[6]=f*s+p*i+c,t[7]=f*n+p*o+h,t[8]=f*a+p*u+l,t}function Tr(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(r),p=Math.cos(r);return t[0]=p*s+f*i,t[1]=p*n+f*o,t[2]=p*a+f*u,t[3]=p*i-f*s,t[4]=p*o-f*n,t[5]=p*u-f*a,t[6]=c,t[7]=h,t[8]=l,t}function jr(t,e,r){const s=r[0],n=r[1],a=r[2];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=a*e[6],t[7]=a*e[7],t[8]=a*e[8],t}function Cr(t,e,r){const s=r[0],n=r[1];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t}function Fr(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function kr(t,e){const r=Math.sin(e),s=Math.cos(e);return t[0]=s,t[1]=r,t[2]=0,t[3]=-r,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Vr(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Gr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Jr(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=r+r,o=s+s,u=n+n,c=r*i,h=s*i,l=s*o,f=n*i,p=n*o,m=n*u,g=a*i,M=a*o,y=a*u;return t[0]=1-l-m,t[3]=h-y,t[6]=f+M,t[1]=h+y,t[4]=1-c-m,t[7]=p-g,t[2]=f-M,t[5]=p+g,t[8]=1-c-l,t}function Yr(t,e){const r=e[0],s=e[1],n=e[2],a=e[4],i=e[5],o=e[6],u=e[8],c=e[9],h=e[10],l=h*i-o*c,f=-h*a+o*u,p=c*a-i*u,m=r*l+s*f+n*p;if(!m)return null;const g=1/m;return t[0]=l*g,t[1]=(-h*s+n*c)*g,t[2]=(o*s-n*i)*g,t[3]=f*g,t[4]=(h*r-n*u)*g,t[5]=(-o*r+n*a)*g,t[6]=p*g,t[7]=(-c*r+s*u)*g,t[8]=(i*r-s*a)*g,t}function Dr(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],p=e[11],m=e[12],g=e[13],M=e[14],y=e[15],x=r*o-s*i,d=r*u-n*i,$=r*c-a*i,b=s*u-n*o,v=s*c-a*o,R=n*c-a*u,P=h*g-l*m,w=h*M-f*m,N=h*y-p*m,Z=l*M-f*g,A=l*y-p*g,J=f*y-p*M;let _=x*J-d*A+$*Z+b*N-v*w+R*P;return _?(_=1/_,t[0]=(o*J-u*A+c*Z)*_,t[1]=(u*N-i*J-c*w)*_,t[2]=(i*A-o*N+c*P)*_,t[3]=(n*A-s*J-a*Z)*_,t[4]=(r*J-n*N+a*w)*_,t[5]=(s*N-r*A-a*P)*_,t[6]=(g*R-M*v+y*b)*_,t[7]=(M*$-m*R-y*d)*_,t[8]=(m*v-g*$+y*x)*_,t):null}function Lr(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Br(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Ur(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function Wr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function ae(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Hr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Qr(t,e,r,s){return t[0]=e[0]+r[0]*s,t[1]=e[1]+r[1]*s,t[2]=e[2]+r[2]*s,t[3]=e[3]+r[3]*s,t[4]=e[4]+r[4]*s,t[5]=e[5]+r[5]*s,t[6]=e[6]+r[6]*s,t[7]=e[7]+r[7]*s,t[8]=e[8]+r[8]*s,t}function Kr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Xr(t,e){const r=t[0],s=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],p=e[2],m=e[3],g=e[4],M=e[5],y=e[6],x=e[7],d=e[8],$=$t();return Math.abs(r-l)<=$*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-f)<=$*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(n-p)<=$*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(a-m)<=$*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(i-g)<=$*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-M)<=$*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(u-y)<=$*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-x)<=$*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-d)<=$*Math.max(1,Math.abs(h),Math.abs(d))}function ts(t){const e=$t(),r=t[0],s=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],h=t[8];return Math.abs(1-(r*r+a*a+u*u))<=e&&Math.abs(1-(s*s+i*i+c*c))<=e&&Math.abs(1-(n*n+o*o+h*h))<=e}const es=ot,rs=ae;Object.freeze(Object.defineProperty({__proto__:null,add:Wr,adjoint:Zr,copy:_r,determinant:nt,equals:Xr,exactEquals:Kr,frob:Ur,fromMat2d:Gr,fromMat4:zr,fromQuat:Jr,fromRotation:kr,fromScaling:Vr,fromTranslation:Fr,identity:Or,invert:ne,isOrthoNormal:ts,mul:es,multiply:ot,multiplyScalar:Hr,multiplyScalarAndAdd:Qr,normalFromMat4:Dr,normalFromMat4Legacy:Yr,projection:Lr,rotate:Tr,scale:jr,scaleByVec2:Cr,set:Q,str:Br,sub:rs,subtract:ae,translate:Er,transpose:se},Symbol.toStringTag,{value:"Module"}));function L(){return[1,0,0,0,1,0,0,0,1]}function ss(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function ns(t,e,r,s,n,a,i,o,u){return[t,e,r,s,n,a,i,o,u]}const as=L();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:as,clone:ss,create:L,fromValues:ns},Symbol.toStringTag,{value:"Module"}));const B=L();function is(t,e,r){const[s,n]=t,[a,i]=e,[o,u]=r;Q(B,s,a,o,n,i,u,1,1,1);const c=nt(B),h=4*c/(q(t,e)+q(e,r)+q(r,t));if(!isFinite(h)||Math.abs(h)<1e-8)return null;const l=s**2+n**2,f=a**2+i**2,p=o**2+u**2;Q(B,l,f,p,n,i,u,1,1,1);const m=nt(B);return Q(B,l,f,p,s,a,o,1,1,1),[m/c*.5,nt(B)/c*-.5]}function ie(t,e){const[r,s]=e.c,n=is(t,s,r),a=n==null,i=n??F([],t,r,.5),[o,u]=t,[c,h]=s,[l,f]=r,[p,m]=i,g=o-p,M=u-m,y=Math.sqrt(g*g+M*M),x=D(u-m,o-p),d=D(h-m,c-p);let $=D(f-m,l-p);return(d-x)*($-d)<0&&($+=2*Math.sign(x-$)*Math.PI),new re(p,m,y,x,$,a)}function Ks(t,e,r){const s=st(t,r/2),n=st(t,r),a=st(t,(r+1)/2);return[{c:[n,s]},{c:[[...e.c[0]],a]}]}function Xs(t,e){const[r]=e.c,{cx:s,cy:n,thetaStart:a,thetaEnd:i,radius:o,isInvalid:u}=ie(t,e);return{a:[r,[s,n],Math.abs(i-a)<Math.PI?1:0,a>i?1:0,u?a:0,o,u?0:1]}}function tn(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function en(t){return"curveRings"in t?t.curveRings:t.curvePaths}function bt(t){return"b"in t}function vt(t){return"c"in t}function ht(t){return Array.isArray(t)}function rn(t){return"a"in t}function oe(t){return"a"in t&&t.a.length===4}function os(t){return"a"in t&&t.a.length===7}function lt(t){return ht(t)?t:bt(t)?t.b[0]:vt(t)?t.c[0]:t.a[0]}function us(t){if(bt(t)){const[e,r,s]=t.b;return{b:[[...e],[...r],[...s]]}}if(vt(t)){const[e,r]=t.c;return{c:[[...e],[...r]]}}if(ht(t))return[...t];if(oe(t)){const[e,r,s,n]=t.a;return{a:[[...e],[...r],s,n]}}if(os(t)){const[e,r,s,n,a,i,o]=t.a;return{a:[[...e],[...r],s,n,a,i,o]}}return t}function cs(t,e){const[r,s,n,a]=e.a,[i,o]=t,[u,c]=r,[h,l]=s,f=i-h,p=o-l,m=Math.sqrt(f*f+p*p),g=u-h,M=c-l,y=Math.sqrt(g*g+M*M),x=m===0||y===0||!kt(m,y),d=m,[$,b]=Xt(D(o-l,i-h),Math.atan2(c-l,u-h),n,a);return new re(h,l,d,$,b,x)}function sn(t,e,r){const{cx:s,cy:n,thetaStart:a,thetaEnd:i}=t,[o,u,c,h]=e.a,l=a*(1-r)+i*r;return[{a:[st(t,r),[s,n],Math.abs(l-a)<Math.PI?1:0,h]},{a:[[...o],[s,n],Math.abs(i-l)<Math.PI?1:0,h]}]}class hs{constructor(e,r,s,n,a,i,o,u,c){this.cx=e,this.cy=r,this.a=s,this.b=n,this.cosR=a,this.sinR=i,this.u1=o,this.u2=u,this.isInvalid=c}}function Pt(t,e){const[r,s,n,a,i,o,u]=e.a,[c,h]=t,[l,f]=r,[p,m]=s,g=o*u,M=Math.cos(i),y=Math.sin(i),[x,d]=Xt(D(1/g*(h-m)*M-1/g*(c-p)*y,1/o*(h-m)*y+1/o*(c-p)*M),Math.atan2(1/g*(f-m)*M-1/g*(l-p)*y,1/o*(f-m)*y+1/o*(l-p)*M),n,a);return new hs(p,m,o,g,M,y,x,d,o===0||g===0)}function X(t,e){const{a:r,b:s,cosR:n,sinR:a,cx:i,cy:o}=t,u=Math.cos(e),c=Math.sin(e);return[r*u*n-s*c*a+i,r*u*a+s*c*n+o]}function U(t,e){const{u1:r,u2:s}=t;return X(t,r*(1-e)+s*e)}function nn(t,e,r){if(r<0||r>1)return[];if(r===0||r===1)return[us(e)];const[s,[n,a],i,o,u,c,h]=e.a,{u1:l,u2:f}=t,p=l*(1-r)+f*r;return[{a:[[...U(t,r)],[n,a],Math.abs(p-l)<Math.PI?1:0,o,u,c,h]},{a:[[...s],[n,a],Math.abs(f-p)<Math.PI?1:0,o,u,c,h]}]}function an(t,e){const{a:r,b:s,cosR:n,sinR:a,u1:i,u2:o}=t,u=Math.PI/6,c=te(e,[1*u,2*u,4*u,5*u,7*u,8*u,10*u,11*u],g=>{const M=Math.cos(g),y=Math.sin(g),[x,d]=X(t,g);return[x,d,-r*n*y-s*a*M,-r*a*y+s*n*M,-r*n*M+s*a*y,-r*a*M-s*n*y]}),h=ct(i,o),l=new Set(c.map(g=>tt(h,g)).filter(g=>g>h.min&&g<h.max));l.add(i),l.add(o);let f,p,m=1/0;for(const g of l){const M=X(t,g),[y,x]=M,d=e[0]-y,$=e[1]-x,b=d*d+$*$;b<m&&(f=(g-i)/(o-i),p=M,m=b)}return{t:f,curvePoint:p,distance:Math.sqrt(m)}}function ls(t,e,r){const s=Pt(e,r),{a:n,b:a,u1:i,u2:o,cosR:u,sinR:c,isInvalid:h}=s,l=r.a[0];if(O(t,e),O(t,l),h)return t;const f=Math.atan2(-a*c,n*u),p=f+Math.PI,m=Math.atan2(a*u,n*c),g=m+Math.PI,M=ct(i,o);for(const y of[f,p,m,g].map(x=>tt(M,x)))y>M.min&&y<M.max&&O(t,X(s,y));return t}function on(t,e,r){const[s,n,a,i,o,u,c]=e.a,h=Pt(t,e),{u1:l,u2:f,isInvalid:p}=h,m=f-l;if(p)return Math.sqrt(q(t,s));const g=14,M=[0,0];let y=0,x=[U(h,0),U(h,.25),U(h,.5),U(h,.75),U(h,1)];for(let d=0;d<g;d++){const $=x.length-1,b=m/(2*$),v=[];for(let P=0;P<$;P++)v.push(x[P]),v.push(X(h,l+(2*P+1)*b));v.push(x[x.length-1]),x=v,y=0;let R=0;for(let P=1;P<x.length;P++){const w=x[P-1],N=x[P];if(y+=Math.sqrt(q(w,N)),P>1){const Z=x[P-2],A=Rr(M,Z,w,n,N);R+=A?Math.sqrt(q(w,A)):Math.abs(N[0]-w[0])+Math.abs(N[1]-w[1])}else R+=y}if(R-y<r)return y}return y}const Zt=L(),et=L(),Et=L(),k=L();function un(t,e,r){const[s,n,a,i,o,u,c]=e.a,h=Pt(t,e),{cosR:l,sinR:f,a:p,b:m,cx:g,cy:M}=h,y=rt([0,0],s,r),x=rt([0,0],n,r),d=r[0]*r[4]<0?1-i:i;{const $=p*p*f*f+m*m*l*l,b=2*(m*m-p*p)*f*l,v=p*p*l*l+m*m*f*f,R=-2*$*g-b*M,P=-b*g-2*v*M;Q(Zt,$,b/2,R/2,b/2,v,P/2,R/2,P/2,$*g*g+b*g*M+v*M*M-p*p*m*m)}if(ne(et,r),et==null){const $=rt([0,0],t,r);return{a:[y,x,a,i,D(y[1],y[0]),Math.sqrt(q(y,$))/2,0]}}se(Et,et),ot(k,ot(k,Et,Zt),et);{const $=k[0],b=2*k[1],v=k[4],R=2*k[2],P=2*k[5],w=b*b-4*$*v,N=2*($*P*P+v*R*R-b*R*P+w*k[8]),Z=Math.sqrt(($-v)**2+b*b),A=-Math.sqrt(N*($+v+Z))/w,J=-Math.sqrt(N*($+v-Z))/w;return{a:[y,x,a,d,.5*D(-b,v-$),A,J/A]}}}function fs(t,e,r){if(ht(r))return O(t,e),O(t,r),t;if(bt(r))return qr(t,e,r);if(vt(r)){const s=ie(e,r);return Ot(t,s)}if(oe(r)){const s=cs(e,r);return Ot(t,s)}return ls(t,e,r)}function ue(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function ce(t){return t.points!==void 0}function he(t){return t.x!==void 0&&t.y!==void 0}function le(t){return t.paths!==void 0}function fe(t){return t.rings!==void 0}function pe(t){function e(r,s){return r==null?s:s==null?r:t(r,s)}return e}const V=pe(Math.min),G=pe(Math.max);function cn(t,e){return le(e)?W(t,e.curvePaths??e.paths,!1,!1)??t:fe(e)?W(t,e.curveRings??e.rings,!1,!1)??t:ce(e)?It(t,e.points,!1,!1,!1,!1):ue(e)?me(t,e):(he(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function hn(t){let e,r,s,n;for(t.reset(),e=s=1/0,r=n=-1/0;t.nextPath();){const a=ps(t);e=Math.min(a[0],e),s=Math.min(a[1],s),r=Math.max(a[2],r),n=Math.max(a[3],n)}return Ct([e,s,r,n])}function ps(t){let e,r,s,n;for(e=s=1/0,r=n=-1/0;t.nextPoint();)e=Math.min(t.x,e),s=Math.min(t.y,s),r=Math.max(t.x,r),n=Math.max(t.y,n);return Ct([e,s,r,n])}function ln(t,e){return le(e)?W(t,e.curvePaths??e.paths,!0,!1)??t:fe(e)?W(t,e.curveRings??e.rings,!0,!1)??t:ce(e)?It(t,e.points,!0,!1,!0,!1):ue(e)?me(t,e,!0,!1,!0,!1):(he(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function W(t,e,r,s){const n=r?3:2;if(!e.length||!e[0].length)return null;let a,i,o,u,[c,h]=lt(e[0][0]),l=c,f=h;for(let p=0;p<e.length;p++){const m=e[p];for(let g=0;g<m.length;g++){const M=lt(m[g]),[y,x]=M;if(c=V(c,y),h=V(h,x),l=G(l,y),f=G(f,x),r&&M.length>2){const v=M[2];a=V(a,v),i=G(i,v)}if(s&&M.length>n){const v=M[n];o=V(a,v),u=G(i,v)}const d=m[g];if(ht(d)||g<1)continue;const $=lt(m[g-1]),b=qe(c,h,l,f);[c,h,l,f]=fs(b,$,d)}}return r?s?(t[0]=c,t[1]=h,t[2]=a,t[3]=o,t[4]=l,t[5]=f,t[6]=i,t[7]=u,t.length=8,t):(t[0]=c,t[1]=h,t[2]=a,t[3]=l,t[4]=f,t[5]=i,t.length=6,t):s?(t[0]=c,t[1]=h,t[2]=o,t[3]=l,t[4]=f,t[5]=u,t.length=6,t):(t[0]=c,t[1]=h,t[2]=l,t[3]=f,t.length=4,t)}function me(t,e,r,s,n,a){const i=e.xmin,o=e.xmax,u=e.ymin,c=e.ymax;let h=e.zmin,l=e.zmax,f=e.mmin,p=e.mmax;return n?(h=h||0,l=l||0,a?(f=f||0,p=p||0,t[0]=i,t[1]=u,t[2]=h,t[3]=f,t[4]=o,t[5]=c,t[6]=l,t[7]=p,t):(t[0]=i,t[1]=u,t[2]=h,t[3]=o,t[4]=c,t[5]=l,t)):a?(f=f||0,p=p||0,t[0]=i,t[1]=u,t[2]=f,t[3]=o,t[4]=c,t[5]=p,t):(t[0]=i,t[1]=u,t[2]=o,t[3]=c,t)}function It(t,e,r,s,n,a){const i=r?3:2,o=s&&a,u=r&&n;if(!e.length||!e[0].length)return null;let c,h,l,f,[p,m]=e[0],[g,M]=e[0];for(let y=0;y<e.length;y++){const x=e[y],[d,$]=x;if(p=V(p,d),m=V(m,$),g=G(g,d),M=G(M,$),u&&x.length>2){const b=x[2];c=V(c,b),h=G(h,b)}if(o&&x.length>i){const b=x[i];l=V(c,b),f=G(h,b)}}return n?(c=c||0,h=h||0,a?(l=l||0,f=f||0,t[0]=p,t[1]=m,t[2]=c,t[3]=l,t[4]=g,t[5]=M,t[6]=h,t[7]=f,t):(t[0]=p,t[1]=m,t[2]=c,t[3]=g,t[4]=M,t[5]=h,t)):a?(l=l||0,f=f||0,t[0]=p,t[1]=m,t[2]=l,t[3]=g,t[4]=M,t[5]=f,t):(t[0]=p,t[1]=m,t[2]=g,t[3]=M,t)}function ms(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function gs(t){return t.points!==void 0}function Ms(t){return t.x!==void 0&&t.y!==void 0}function ys(t){return t.paths!==void 0}function xs(t){return t.rings!==void 0}const Rt=[];function ge(t,e,r,s){return{xmin:t,ymin:e,xmax:r,ymax:s}}function Me(t,e,r,s,n,a){return{xmin:t,ymin:e,zmin:r,xmax:s,ymax:n,zmax:a}}function ye(t,e,r,s,n,a){return{xmin:t,ymin:e,mmin:r,xmax:s,ymax:n,mmax:a}}function xe(t,e,r,s,n,a,i,o){return{xmin:t,ymin:e,zmin:r,mmin:s,xmax:n,ymax:a,zmax:i,mmax:o}}function wt(t,e=!1,r=!1){return e?r?xe(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):Me(t[0],t[1],t[2],t[3],t[4],t[5]):r?ye(t[0],t[1],t[2],t[3],t[4],t[5]):ge(t[0],t[1],t[2],t[3])}function fn(t){return t?ms(t)?t:Ms(t)?$s(t):xs(t)?de(t):ys(t)?be(t):gs(t)?$e(t):null:null}function $e(t){const{hasZ:e,hasM:r,points:s}=t,n=It(Rt,s,e??!1,r??!1,e??!1,r??!1);return n?wt(n,e,r):null}function $s(t){const{x:e,y:r,z:s,m:n}=t,a=n!=null;return s!=null?a?xe(e,r,s,n,e,r,s,n):Me(e,r,s,e,r,s):a?ye(e,r,n,e,r,n):ge(e,r,e,r)}function de(t){const{hasZ:e,hasM:r,rings:s,curveRings:n}=t,a=W(Rt,n??s,e??!1,r??!1);return a?wt(a,e,r):null}function be(t){const{hasZ:e,hasM:r,paths:s,curvePaths:n}=t,a=W(Rt,n??s,e??!1,r??!1);return a?wt(a,e,r):null}function H(t,e,r=!1){let{hasM:s,hasZ:n}=t;Array.isArray(e)?e.length!==4||s||n?e.length===3&&r&&!s?(n=!0,s=!1):e.length===3&&s&&n&&(s=!1,n=!1):(s=!0,n=!0):(n=!n&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=s}var at;function Tt(t){return!Array.isArray(t[0])}function ds(t){return typeof t[0]?.[0]=="number"}function bs(t){if(!t)return;let{rings:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],ds(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=xt.WGS84,{...t,hasM:r,hasZ:s,rings:e,spatialReference:n}}let E=at=class extends Mt{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:r}=t;let s=!1,n=!1;for(const i of e)i.hasZ&&(s=!0),i.hasM&&(n=!0);const a={rings:e.map(i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(s&&i.hasZ){const u=i.zmin+.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(n&&i.hasM){const u=i.mmin+.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o}),spatialReference:r};return s&&(a.hasZ=!0),n&&(a.hasM=!0),new at(a)}constructor(t){super(bs(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){Nt(St.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=Ce(this);return t?S.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=j(t)}get extent(){const t=de(this),{spatialReference:e}=this;return t?new yt({...t,spatialReference:e}):null}get isSelfIntersecting(){return Nt(St.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Pe(this.rings)}writeRings(t,e){e.rings=j(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(Tt(t)){const s=[];for(let n=0,a=t.length;n<a;n++)s[n]=t[n].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new at;return t.spatialReference=this.spatialReference,t.rings=j(this.rings),t.curveRings=j(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;const s=([n,a,i,o],[u,c,h,l])=>n===u&&a===c&&(i==null&&h==null||i===h)&&(o==null&&l==null||o===l);for(let n=0;n<this.rings.length;n++){const a=this.rings[n],i=t.rings[n];if(!jt(a,i,s))return!1}return!0}contains(t){if(!t)return!1;const e=Ie(t,this.spatialReference);return Re(this,e??t)}isClockwise(t){const e=Tt(t)?t.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):t;return Jt(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new S(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new S(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new S(r[0],r[1],r[2],r[3],this.spatialReference):new S(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(H(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new S(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map(n=>new S(n,r));return this.notifyChange("rings"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(H(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([z({readOnly:!0})],E.prototype,"cache",null),I([z({readOnly:!0})],E.prototype,"centroid",null),I([z({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],E.prototype,"curveRings",void 0),I([K("curveRings")],E.prototype,"writeCurveRings",null),I([z({readOnly:!0})],E.prototype,"extent",null),I([z({readOnly:!0})],E.prototype,"isSelfIntersecting",null),I([z({type:[[[Number]]],json:{write:{isRequired:!0}}})],E.prototype,"rings",void 0),I([K("rings")],E.prototype,"writeRings",null),E=at=I([gt("esri.geometry.Polygon")],E),E.prototype.toJSON.isDefaultToJSON=!0;var pt;function vs(t){if(!t)return;let{points:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],e?.at(0)?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=xt.WGS84,{...t,hasM:r,hasZ:s,points:e,spatialReference:n}}let Y=pt=class extends Mt{constructor(t){super(vs(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=$e(this);return t?new yt({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=j(this.points)}clone(){const{points:t,spatialReference:e,hasM:r,hasZ:s}=this;return new pt({points:j(t),spatialReference:e.clone(),hasM:r,hasZ:s})}addPoint(t){return H(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=e[2],s=3),this.hasM&&(r.m=e[s]),new S(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new S(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(H(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};I([z({readOnly:!0})],Y.prototype,"cache",null),I([z({readOnly:!0})],Y.prototype,"extent",null),I([z({type:[[Number]],json:{write:{isRequired:!0}}})],Y.prototype,"points",void 0),I([K("points")],Y.prototype,"writePoints",null),Y=pt=I([gt("esri.geometry.Multipoint")],Y),Y.prototype.toJSON.isDefaultToJSON=!0;var mt;function Ps(t){return!Array.isArray(t[0])}function Is(t){return typeof t[0]?.[0]=="number"}function Rs(t){if(!t)return;let{paths:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],Is(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=xt.WGS84,{...t,hasM:r,hasZ:s,paths:e,spatialReference:n}}let C=mt=class extends Mt{constructor(t){super(Rs(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=j(t)}get extent(){const t=be(this),{spatialReference:e}=this;return t?new yt({...t,spatialReference:e}):null}writePaths(t,e){e.paths=j(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(Ps(t)){const s=[];for(let n=0,a=t.length;n<a;n++)s[n]=t[n].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new mt;return t.spatialReference=this.spatialReference,t.paths=j(this.paths),t.curvePaths=j(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new S(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new S(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new S(r[0],r[1],r[2],r[3],this.spatialReference):new S(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(H(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,s=e.map(n=>new S(n,r));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new S(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(H(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([z({readOnly:!0})],C.prototype,"cache",null),I([z({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],C.prototype,"curvePaths",void 0),I([K("curvePaths")],C.prototype,"writeCurvePaths",null),I([z({readOnly:!0})],C.prototype,"extent",null),I([z({type:[[[Number]]],json:{write:{isRequired:!0}}})],C.prototype,"paths",void 0),I([K("paths")],C.prototype,"writePaths",null),C=mt=I([gt("esri.geometry.Polyline")],C),C.prototype.toJSON.isDefaultToJSON=!0;export{Ee as $,un as A,fn as B,Dr as C,zr as D,Os as E,hn as F,ps as G,Js as H,_e as I,Ts as J,Jt as K,pr as L,Ce as M,fr as N,dt as O,E as P,ns as Q,Jr as R,jr as S,Or as T,ot as U,Er as V,Tr as W,Be as X,se as Y,Zr as Z,Q as _,Oe as a,ks as a0,es as a1,Cr as a2,st as a3,Gt as a4,Ls as a5,nn as a6,sn as a7,Ks as a8,Sr as a9,yr as aA,rt as aB,Vs as aC,Qe as aD,Ke as aE,Te as aF,ze as aG,Ve as aH,Ys as aI,kr as aJ,vr as aK,rr as aL,as as aM,Yr as aN,Es as aO,Ar as aP,Bs as aQ,Hs as aR,an as aS,Us as aT,Qs as aU,on as aV,us as aW,cr as aX,rn as aa,os as ab,Fs as ac,D as ad,de as ae,je as af,Gs as ag,Fe as ah,Wt as ai,ar as aj,Qt as ak,er as al,or as am,ne as an,nr as ao,Fr as ap,Cs as aq,js as ar,Le as as,hr as at,$r as au,Ue as av,tr as aw,Ht as ax,gr as ay,Mr as az,lt as b,oe as c,F as d,L as e,cn as f,ft as g,cs as h,ht as i,Ds as j,U as k,ie as l,Y as m,tn as n,q as o,Pt as p,Lt as q,en as r,ir as s,bt as t,vt as u,ln as v,Zs as w,W as x,C as y,Xs as z};
