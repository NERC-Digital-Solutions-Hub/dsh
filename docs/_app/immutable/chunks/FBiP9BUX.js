import{o as d}from"./B8uMhNXG.js";import{a7 as l,a8 as p,u as m,a9 as c,t as h}from"./BjFLI01z.js";import{n as E}from"./O4iNFm3G.js";import{b,g as u}from"./DvmyLIDy.js";import{i as v}from"./Cx_yM8tq.js";class S{eventName;options;constructor(e,o={bubbles:!0,cancelable:!0}){this.eventName=e,this.options=o}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,o){const s=this.createEvent(o);return e.dispatchEvent(s),s}listen(e,o,s){const r=n=>{o(n)};return d(e,this.eventName,r,s)}}const N={afterMs:1e4,onChange:E};function _(t,e){const{afterMs:o,onChange:s,getWindow:r}={...N,...e};let n=null,i=l(p(t));function f(){return r().setTimeout(()=>{c(i,t,!0),s?.(t)},o)}return m(()=>()=>{n&&r().clearTimeout(n)}),b(()=>h(i),a=>{c(i,a,!0),s?.(a),n&&r().clearTimeout(n),n=f()})}function T(t,{select:e=!1}={}){if(!t||!t.focus)return;const o=u(t);if(o.activeElement===t)return;const s=o.activeElement;t.focus({preventScroll:!0}),t!==s&&v(t)&&e&&t.select()}function w(t,{select:e=!1}={},o){const s=o();for(const r of t)if(T(r,{select:e}),o()!==s)return!0}function y(t){const e=[],s=u(t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}export{S as C,_ as b,w as f,y as g};
