const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BCuEZSJJ.js","./DSdBzmdi.js","./BFGjv385.js","./ClQdDAtr.js","./BJhaCM43.js","./PPVm8Dsz.js","./DzPnzJx5.js","./BHwe4xe6.js","./DWuFonT6.js","./Aa_nm3Tf.js","./Drf0nZ94.js","./XqQYA9Kc.js","./BvZ8mO3n.js","./CEYpN6bs.js","./8d4XiCAe.js","./DsdqSOQR.js","./DPysyl42.js","./LLVnLkr1.js","./CEIvA_E-.js","./B1tp3gsa.js","./B2LbUStN.js","./CN9sEZ07.js","./BAwhstd8.js","./CvJVpgMV.js","./BnL9dRiP.js","./PJA-oSZG.js","./D5lfJVJF.js","./XtBlFJXO.js","./CPEQ0D6q.js","./B9XxWJav.js","./DkGd4JTu.js","./Dwqd1w08.js","./bnayRBMH.js","./CttKhsFI.js","./xXdx-Sqs.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./PPVm8Dsz.js";import{n as N,_ as i,m as o,a as _}from"./Aa_nm3Tf.js";import{H as j}from"./BJhaCM43.js";import{i as A,s as w}from"./DSdBzmdi.js";import{e as y,I as S,O as I,D as O,c as U}from"./CvJVpgMV.js";import{s as P}from"./DYspwNLv.js";import{u as V}from"./XqQYA9Kc.js";import{d as z}from"./BHwe4xe6.js";import{I as B}from"./DzPnzJx5.js";import{s as J}from"./BFGjv385.js";import{z as L}from"./8d4XiCAe.js";import{f}from"./DsdqSOQR.js";import{o as g}from"./CEYpN6bs.js";import{r as v}from"./LLVnLkr1.js";async function M(r){const t="portalItem"in r?r:{portalItem:r},{fromItem:e}=await E(async()=>{const{fromItem:n}=await import("./BCuEZSJJ.js");return{fromItem:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]),import.meta.url);try{return await e(t)}catch(n){const s=t?.portalItem,l=s?.id||"unset",u=s?.portal?.url||J.portalUrl;throw A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+l+"')",n),n}}const T={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function h(r,t,e,n=y){const s=new S(I(n)),l=O.fromJSDate(r,{zone:s}),u=e==="decades"||e==="centuries"?"year":$(e);return e==="decades"&&(t*=10),e==="centuries"&&(t*=100),l.plus({[u]:t}).toJSDate()}function nt(r,t,e="milliseconds"){const n=r.getTime(),s=q(t,e,"milliseconds");return new Date(n+s)}function b(r,t,e=y){const n=new S(I(e)),s=O.fromJSDate(r,{zone:n});if(t==="decades"||t==="centuries"){const u=s.startOf("year"),{year:m}=u,x=m-m%(t==="decades"?10:100);return u.set({year:x}).toJSDate()}const l=$(t);return s.startOf(l).toJSDate()}function q(r,t,e){return r===0?0:r*T[t]/T[e]}function st(r,t){return r&&t?r.intersection(t):r||t}function $(r){switch(r){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var d,c;let p=(c=class extends N{static get allTime(){return D}static get empty(){return R}static fromArray(t){return new d({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(d.allTime)}get isEmpty(){return this.equals(d.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new d({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,l=t.end?.getTime()??t.end;return e===s&&n===l}expandTo(t,e=y){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=b(n,t,e));let s=this.end;if(s){const l=b(s,t,e);s=s.getTime()===l.getTime()?l:h(l,1,t,e)}return new d({start:n,end:s})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return d.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,s=t.start?.getTime()??-1/0,l=t.end?.getTime()??1/0;let u,m;return s>=e&&s<=n?u=s:e>=s&&e<=l&&(u=e),n>=s&&n<=l?m=n:l>=e&&l<=n&&(m=l),u==null||m==null||isNaN(u)||isNaN(m)?d.empty:new d({start:u===-1/0?null:new Date(u),end:m===1/0?null:new Date(m)})}offset(t,e,n=y){if(this.isEmpty||this.isAllTime)return this.clone();const s=new d,{start:l,end:u}=this;return l!=null&&(s.start=h(l,t,e,n)),u!=null&&(s.end=h(u,t,e,n)),s}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return D.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new d({start:e,end:n})}},d=c,c);i([o({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),i([g("end")],p.prototype,"readEnd",null),i([v("end")],p.prototype,"writeEnd",null),i([o({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),i([o({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),i([o({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),i([g("start")],p.prototype,"readStart",null),i([v("start")],p.prototype,"writeStart",null),p=d=i([_("esri.time.TimeExtent")],p);const D=new p,R=new p({start:void 0,end:void 0});let k=0,a=class extends U(P(V)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new L(-180,-90,180,90,f.WGS84),this.id=Date.now().toString(16)+"-layer-"+k++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=f.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(r){const t=typeof r=="string"?{url:r}:r;return(await E(async()=>{const{fromUrl:e}=await import("./xXdx-Sqs.js");return{fromUrl:e}},__vite__mapDeps([34,5,1,2,6,4,7,3,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,28]),import.meta.url)).fromUrl(t)}static fromPortalItem(r){return M(r)}initialize(){this.when().catch(r=>{z(r)||A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:r})})}destroy(){const{parent:r}=this;r&&(this.parent=null,r.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:r}=this;r&&(r.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return B(this.url)}createLayerView(r,t){return Promise.reject(new w("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const r=this.attributionDataUrl;if(this.hasAttributionData&&r)return(await j(r,{query:{f:"json"},responseType:"json"})).data;throw new w("layer:no-attribution-data","Layer does not have attribution data")}};i([o({type:String})],a.prototype,"attributionDataUrl",void 0),i([o({readOnly:!0})],a.prototype,"effectiveVisible",null),i([o({type:L})],a.prototype,"fullExtent",void 0),i([o({readOnly:!0})],a.prototype,"hasAttributionData",null),i([o({type:String,clonable:!1})],a.prototype,"id",void 0),i([o({type:Boolean,nonNullable:!0})],a.prototype,"legendEnabled",void 0),i([o({type:["show","hide","hide-children"]})],a.prototype,"listMode",void 0),i([o({type:Number,range:{min:0,max:1},nonNullable:!0})],a.prototype,"opacity",void 0),i([o({clonable:!1})],a.prototype,"parent",void 0),i([o({readOnly:!0})],a.prototype,"parsedUrl",null),i([o({type:Boolean,readOnly:!0})],a.prototype,"persistenceEnabled",void 0),i([o({type:Boolean})],a.prototype,"popupEnabled",void 0),i([o({type:Boolean})],a.prototype,"attributionVisible",void 0),i([o({type:f})],a.prototype,"spatialReference",void 0),i([o({type:String})],a.prototype,"title",void 0),i([o({readOnly:!0,json:{read:!1}})],a.prototype,"type",void 0),i([o()],a.prototype,"url",void 0),i([o({type:p})],a.prototype,"visibilityTimeExtent",void 0),i([o({type:Boolean,nonNullable:!0})],a.prototype,"visible",void 0),a=i([_("esri.layers.Layer")],a);const ot=Object.freeze(Object.defineProperty({__proto__:null,get default(){return a}},Symbol.toStringTag,{value:"Module"}));export{ot as L,q as a,a as b,st as g,nt as i,p as m,h as o,T as r};
