import"./CFx2yfo3.js";import"./BkJTjZ8G.js";import"./CeqJsXbK.js";import"./DV-2e58y.js";import{P as ve,m as _e,l as se}from"./SBtBj7ez.js";import{i as oe,L as ne,B as z,s as x,F as le,x as $,h as xe,a as $e}from"./BlOilgcx.js";import{l as k,j as ke,h as Se,b as ze,f as ce}from"./CYlsogSb.js";import{e as L,s as Me,v as Re,a as Be}from"./uk9lHvW8.js";import{c as G,e as pe,d as de,_ as l,m as d,a as j,Z as Le}from"./DEfw6_ef.js";import{F as N}from"./CxlgmuS0.js";import{O as M,s as Te}from"./H0QphIdm.js";import{p as Ie,a as Ce,u as Ee,m as Ae}from"./DiDKkOPS.js";import{x as Fe,an as Oe,ao as Ge,ap as We,w as Pe,_ as C,a$ as J,am as Z,z as je,d as De,f as K,T as X,ab as ee}from"./CbSHxjnO.js";import{N as qe}from"./BsH20_Vs.js";import{J as Ue,G as Ye,L as Ve}from"./FGXSRGVg.js";import{e as Ne}from"./BQBvadb7.js";import{p as Qe}from"./C0i3V7C8.js";import{d as He,p as Je}from"./DsldGbg1.js";import{s as p,i as Ze}from"./Cg-g7sfq.js";import{J as Ke,j as Xe,u as et,E as tt,h as it}from"./DEofI9xF.js";import{i as D,f as at}from"./v-Ii51UH.js";import{s as E,m as q,A as rt,S as st,q as ot}from"./bnayRBMH.js";import{z as A,l as F}from"./DS9C8gJc.js";import{M as me}from"./BvZUr92_.js";import{c as nt}from"./C86rxpFH.js";/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const f="basemap-gallery",b={base:f,sourceLoading:`${f}--source-loading`,layoutGrid:`${f}--grid`,narrowItems:`${f}--narrow-items`,loader:`${f}__loader`,item:`${f}__item`,itemContainer:`${f}__item-container`,itemContent:`${f}__item-content`,itemTitle:`${f}__item-title`,itemTagsContainer:`${f}__item-tags-container`,itemThumbnail:`${f}__item-thumbnail`,selectedItem:`${f}__item--selected`,itemError:`${f}__item--error`};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */function lt(e){return e.portalItem?.type==="Web Scene"||e.referenceLayers.some(t=>t.type==="scene")}function ct(e){return!!e?.portalItem?.tags?.some(t=>t.toLowerCase()==="beta")}const pt=oe`@keyframes esri-basemap-slide{0%{opacity:0;margin-top:0;margin-left:0}75%{opacity:0;margin-top:0;margin-left:0}to{opacity:1;margin-top:5px;margin-left:5px}}@keyframes esri-docking-animation{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes popup-intro-animation-down{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes popup-intro-animation-up{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@supports (-ms-ime-align: auto){.esri-slider__anchor:focus{outline:1px dotted #000}}@keyframes esri-spinner--start-animation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes esri-spinner--finish-animation{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}@keyframes esri-spinner--rotate-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion){.esri-utility-network-trace__reset-prompt{animation:none!important}}@media (prefers-reduced-motion){.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right,.esri-popup--is-docked{animation:none!important}}@media (prefers-reduced-motion: reduce){.esri-fov-overlay{animation:none!important}}@keyframes esri-fade-in-down{0%{opacity:0;transform:translateY(-5px)}25%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in-up{0%{opacity:0;transform:translateY(5px)}25%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes esri-fade-in-scale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes looping-progresss-bar-ani{0%{width:0;left:0}20%{width:20%;left:0}80%{width:20%;left:80%}to{width:0;left:100%}}@keyframes esri-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes panel-advance{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-advance--rtl{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat--rtl{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}:host{container-type:inline-size}.basemap-gallery__empty-message{padding:12px 15px;animation:.5s ease-in-out esri-fade-in}.basemap-gallery__item{box-sizing:border-box;cursor:pointer;border:1px solid var(--calcite-color-background);flex-direction:row;width:100%;transition:background-color .25s ease-in-out,border-color .25s ease-in-out;animation:.5s ease-in-out esri-fade-in;display:flex;position:relative}.basemap-gallery__item:hover{background-color:var(--calcite-color-foreground-3);border-color:var(--calcite-color-background-inverse)}.basemap-gallery__item:hover .basemap-gallery__item-title{color:var(--calcite-color-text-1)}.basemap-gallery__item:focus{outline:none}.basemap-gallery__item--error{opacity:var(--calcite-opacity-light);background-color:var(--calcite-color-transparent)!important;border-color:var(--calcite-color-transparent)!important;cursor:auto}.basemap-gallery__item-thumbnail{aspect-ratio:1.5;border-inline-end:1px solid var(--calcite-color-border-1);flex-shrink:0;width:120px;min-width:120px;transition:background-color .25s ease-in-out,border-color .25s ease-in-out}.basemap-gallery__item-title{color:var(--calcite-color-text-3);justify-content:flex-start;align-items:center;width:100%;height:100%;font-size:var(--calcite-font-size-sm);transition:color .25s ease-in-out,font-weight .25s ease-in-out;display:flex}.basemap-gallery__item-title span{text-align:start;text-overflow:ellipsis;word-wrap:break-word;word-break:break-word;hyphens:auto;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;width:100%;display:-webkit-box;overflow:hidden}.basemap-gallery__item--selected,.basemap-gallery__item--selected:hover,.basemap-gallery__item--selected:focus{cursor:auto;background-color:color-mix(in srgb,var(--calcite-color-brand-underline),70% transparent);border-color:var(--calcite-color-status-info)!important}.basemap-gallery__item--selected .basemap-gallery__item-title,.basemap-gallery__item.basemap-gallery__item--selected:hover .basemap-gallery__item-title,.basemap-gallery__item.basemap-gallery__item--selected:focus .basemap-gallery__item-title{color:var(--calcite-color-text-1);font-weight:var(--calcite-font-weight-medium)}.basemap-gallery__item-content{flex-direction:column;gap:var(--calcite-spacing-md);min-width:0;padding-block:var(--calcite-spacing-base);padding-inline:var(--calcite-spacing-md);display:flex}.basemap-gallery__item-tags-container{flex-direction:row;gap:var(--calcite-spacing-base);display:flex}.basemap-gallery__item-tags-container calcite-chip{--calcite-font-size--2: var(--calcite-font-size--3);cursor:inherit}@supports (object-fit: cover){.basemap-gallery__item-thumbnail{object-fit:cover}}@container (width>=200px) and (width <= 300px){.basemap-gallery__item{align-items:center}.basemap-gallery__item:not(.basemap-gallery__item--selected,:hover){border-color:var(--calcite-color-transparent)}}@container (width>=200px) and (width <= 278px){.basemap-gallery__item-thumbnail{aspect-ratio:1;width:80px;min-width:80px}}@container (width<200px) or (width>=350px){.basemap-gallery__item{text-align:center;flex-flow:column wrap}.basemap-gallery__item:not(.basemap-gallery .basemap-gallery__item--selected,:hover){border-color:var(--calcite-color-border-1)}.basemap-gallery__item-thumbnail{border-block-end:1px solid var(--calcite-color-border-1);border-inline-end:none;width:100%;min-width:0;height:auto}.basemap-gallery__item-content{height:32px;padding-block:var(--calcite-spacing-xxs);padding-inline:var(--calcite-spacing-xs);position:relative}.basemap-gallery__item-tags-container{position:absolute;inset-block-end:45px;inset-inline-end:5px}}`,W=class W extends ne{constructor(){super(...arguments),this._itemState="loading",this._isActive=!1}loaded(){this.manager.onLifecycle(()=>[k(()=>this.item.state,t=>{this._itemState=t},{sync:!0}),k(()=>this.viewModel.activeBasemap,t=>{this._isActive=this.item.basemap.id===t?.id,this._isActive&&(ve(this)?.focus(),this.el.scrollIntoView({block:"nearest"}))},{initial:!0,sync:!0})])}render(){const{item:t,itemIndex:i,viewModel:a,messages:r}=this;if(!t.basemap)return null;const s=t.basemap.thumbnailUrl||_e("./assets/basemap-gallery/images/basemap-toggle-64.svg"),o=t.basemap.title,n=t.basemap.portalItem?.snippet,m=t.error?.message||n||o,{state:c,activeBasemapIndex:u}=this.viewModel,S=this.disabled||c==="disabled",g=u===i,B=g||u===-1&&i===0?0:-1,we={[b.selectedItem]:g,[b.itemError]:t.state==="error"},H=`basemapgallery-item-${t.uid}`;return $`<div .ariaChecked=${g} .ariaDisabled=${S} aria-labelledby=${H??z} class=${x(le(b.item,we))} role=radio tabindex=${B??z} title=${m??z} @click=${()=>{t.state==="ready"&&(a.activeBasemap=t.basemap)}}><img alt class=${x(b.itemThumbnail)} src=${s??z}><div class=${x(b.itemContent)}><div class=${x(b.itemTitle)}><span id=${H??z}>${o}</span></div>${lt(t.basemap)?dt(t.basemap,r):null}</div>${t.state!=="loading"?null:$`<calcite-scrim><span aria-hidden=true class=${x(L.loaderAnimation)} role=presentation></span></calcite-scrim>`}</div>`}};W.properties={_itemState:16,_isActive:16,disabled:5,item:0,itemIndex:9,viewModel:0,messages:0},W.styles=pt;let U=W;function dt(e,t){return $`<div class=${x(b.itemTagsContainer)}>${mt(t)}${ct(e)?ht(t):null}</div>`}function mt(e){return $`<calcite-chip scale=s .label=${e.tag3D}>${e.tag3D}</calcite-chip>`}function ht(e){return $`<calcite-chip appearance=outline-fill scale=s .label=${e.tagBeta}>${e.tagBeta}</calcite-chip>`}se("arcgis-basemap-gallery-item",U);function te(e){return e===1?"global":"local"}function ut(e){return he(e)||Ge(e)||We(e)}function he(e){return Fe(e)||Oe(e)}const gt=12;var h;let R=(h=class{constructor(t){const i=h.checkUnsupported(t);if(i!=null)throw i;const a=t;this.spatialReference=a.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Pe(this.spatialReference),this.origin=[a.origin.x,a.origin.y],this.pixelSize=a.size[0],this.dpi=a.dpi;const r=a.lods.reduce((c,u)=>(u.level<c.minLod.level&&(c.minLod=u),c.max=Math.max(c.max,u.level),c),{minLod:a.lods[0],max:-1/0}),s=r.minLod,o=2**s.level;let n=s.resolution*o,m=s.scale*o;this.levels=new Array(r.max+1);for(let c=0;c<this.levels.length;c++)this.levels[c]={resolution:n,scale:m,tileSize:[n*a.size[0],n*a.size[1]]},n/=2,m/=2}clone(){return new h(this.toTileInfo())}toTileInfo(){return new A({dpi:this.dpi,origin:new C({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,i)=>new F({level:i,scale:t.scale,resolution:t.resolution}))})}getExtent(t,i,a,r){const s=this.levels[t],o=s.tileSize[0],n=s.tileSize[1];r[0]=this.origin[0]+a*o,r[2]=this.origin[0]+(a+1)*o,r[3]=this.origin[1]-i*n,r[1]=this.origin[1]-(i+1)*n}convertExtentToRadians(t,i){this._isWebMercator?(i[0]=J(t[0]),i[1]=Z(t[1]),i[2]=J(t[2]),i[3]=Z(t[3])):this._isGCS&&(i[0]=E(t[0]),i[1]=E(t[1]),i[2]=E(t[2]),i[3]=E(t[3]))}getExtentGeometry(t,i,a,r=new je){return this.getExtent(t,i,a,w),r.spatialReference=this.spatialReference,r.xmin=w[0],r.ymin=w[1],r.xmax=w[2],r.ymax=w[3],r.zmin=void 0,r.zmax=void 0,r}ensureMaxLod(t){if(t==null)return!1;let i=!1;for(;this.levels.length<=t;){const{resolution:a,scale:r}=this.levels[this.levels.length-1],s=a/2*this.pixelSize;this.levels.push({resolution:a/2,scale:r/2,tileSize:[s,s]}),i=!0}return i}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const i=this.levels[0].scale;return t>=i?0:Math.log(i/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,i=1/0){if(h.checkUnsupported(t))return!1;const a=new h(t);if(!a.spatialReference.equals(this.spatialReference)||a.pixelSize!==this.pixelSize)return!1;const r=Math.min(this.levels.length-1,a.levels.length-1,i),s=this.levels[r].resolution;let o=.5*s;return!q(a.origin[0],this.origin[0],o)||!q(a.origin[1],this.origin[1],o)?!1:(o=.5*s/2**r/this.pixelSize*gt,q(s,a.levels[r].resolution,o))}rootTilesInExtent(t,i=null,a=1/0){const r=new Array,s=this.levels[0].tileSize;if(t==null||s[0]===0||s[1]===0)return r;h.computeRowColExtent(t,s,this.origin,w);let o=w[1],n=w[3],m=w[0],c=w[2];const u=c-m,S=n-o;if(u*S>a){const g=Math.floor(Math.sqrt(a));S>g&&(o=o+Math.floor(.5*S)-Math.floor(.5*g),n=o+g),u>g&&(m=m+Math.floor(.5*u)-Math.floor(.5*g),c=m+g)}for(let g=o;g<n;g++)for(let B=m;B<c;B++)r.push([0,g,B]);return i!=null&&(i[0]=this.origin[0]+m*s[0],i[1]=this.origin[1]-n*s[1],i[2]=this.origin[0]+c*s[0],i[3]=this.origin[1]-o*s[1]),r}static computeRowColExtent(t,i,a,r){const s=.001*(t[2]-t[0]+(t[3]-t[1]));r[0]=Math.max(0,Math.floor((t[0]+s-a[0])/i[0])),r[2]=Math.max(0,Math.ceil((t[2]-s-a[0])/i[0])),r[1]=Math.max(0,Math.floor((a[1]-t[3]+s)/i[1])),r[3]=Math.max(0,Math.ceil((a[1]-t[1]-s)/i[1]))}static isPowerOfTwo(t){const i=t.lods,a=i[0].resolution*2**i[0].level;return!i.some(r=>!rt(r.resolution,a/2**r.level))}static hasGapInLevels(t){const i=t.lods.map(a=>a.level);i.sort((a,r)=>a-r);for(let a=1;a<i.length;a++)if(i[a]!==i[0]+a)return!0;return!1}static tileSizeSupported(t){const i=t.size[1];return i===t.size[0]&&!(i&i-1)&&i>=128&&i<=512}static hasOriginPerLODs(t){const i=t.origin;return t.lods.some(a=>a.origin!=null&&(a.origin[0]!==i.x||a.origin[1]!==i.y))}static getMissingTileInfoError(){return new p("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?Q():t.lods.length<1?new p("tilingscheme:generic","Tiling scheme must have at least one level"):h.isPowerOfTwo(t)?h.hasGapInLevels(t)?new p("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):h.tileSizeSupported(t)?h.hasOriginPerLODs(t)?new p("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new p("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new p("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,i){const a=t[2]-t[0],r=t[3]-t[1],s=De(i),o=1.2*Math.max(a,r),n=256,m=o/n,c=m*s*(96/.0254),u=new h(new A({size:[n,n],origin:new C({x:t[0]-.5*(o-a),y:t[3]+.5*(o-r)}),lods:[new F({level:0,resolution:m,scale:c})],spatialReference:i}));return u.ensureMaxLod(20),u}static makeWebMercatorAuxiliarySphere(t){const i=new h(h.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(t),i}static makeGCSWithTileSize(t,i=256,a=16){const r=256/i,s=new h(new A({size:[i,i],origin:new C({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new F({level:0,resolution:.703125*r,scale:295497598570834e-6*r})]}));return s.ensureMaxLod(a),s}get test(){}},h.WebMercatorAuxiliarySphereTileInfo=new A({size:[256,256],origin:new C({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:K.WebMercator}),spatialReference:K.WebMercator,lods:[new F({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),h.WebMercatorAuxiliarySphere=h.makeWebMercatorAuxiliarySphere(19),h);function Q(){return new p("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}const w=D(),ie=64;st(ot/10);const ft=D();R.WebMercatorAuxiliarySphere.getExtent(0,0,0,ft);D([-180,-90,180,90]);function yt(e,t,i,a){if(e==null)return Q();const r=e.spatialReference;if(r.isGeographic&&!he(r))return new p("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const s=R.checkUnsupported(e);return s??(i==null?new p("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):bt(e,i)||(t==null||r.equals(t)||t.isWGS84&&r.isWebMercator?null:new p("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function bt(e,t){const i=e.lods,a=i[0].resolution*2**i[0].level,r=[a*e.size[0],a*e.size[1]],s=[e.origin.x,e.origin.y],o=at(t),n=D();R.computeRowColExtent(o,r,s,n);const m=(n[2]-n[0])*(n[3]-n[1]);if(m>ie){const c=i[0].scale*2**i[0].level;let u=Math.max((o[3]-o[1])/e.size[1],(o[2]-o[0])/e.size[0])*c/a;const S=Math.floor(Math.log(u)/Math.log(10));return u=Math.ceil(u/10**S)*10**S,new p("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(c).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+u.toLocaleString()+".",{level0Scale:c,suggestedLevel0Scale:u,requiredNumRootTiles:m,allowedNumRootTiles:ie})}return null}const wt=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:yt},Symbol.toStringTag,{value:"Module"}));function vt(e,t,i,a){if(e==null)return Q();const r=e?.lods.length-1,s=e.spatialReference;if(s.isWebMercator){if(!R.makeWebMercatorAuxiliarySphere(r).compatibleWith(e,a))return new p("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!ut(s))return new p("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!R.makeGCSWithTileSize(e.spatialReference,e.size[0],r).compatibleWith(e,a))return e.spatialReference.isWGS84?new p("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new p("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new p("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const _t=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:vt},Symbol.toStringTag,{value:"Module"})),xt={1:_t,2:wt};function Y(e,t,i,a,r){return xt[a].checkIfTileInfoSupportedForViewSR(e,i,t,r)}function $t(e,t,i){const a=Ke(e);if(a!=null){if(!M.isCollection(a))return{tileInfo:a.tileInfo,fullExtent:a.fullExtent};{const r=a.find(s=>Y(s.tileInfo,s.fullExtent,t,i)==null);if(r)return{tileInfo:r.tileInfo,fullExtent:r.fullExtent}}}return{tileInfo:null,fullExtent:null}}function kt(e,t){return e!=null&&(t==null||(t===2?!e.isGeographic||e.isWGS84||e.wkid===4490:e.isWebMercator||e.isWGS84||e.wkid===4490||e.wkid===104971||e.wkid===104905||e.wkid===104903))}async function St(e,t={}){const{basemap:i,view:a}=e;await i.load(t),Mt(i),await Rt(i,a,t),G(t)}async function zt(e,t={}){const{basemap:i,view:a}=e;G(t);const r=i.baseLayers.find(n=>n.type==="unknown")?.loadError;if(r!=null)throw r;if(!a||"spatialReferenceLocked"in a&&!a.spatialReferenceLocked||(await i.load(t),G(t),i.baseLayers.length===0))return;const s=i.baseLayers.at(0);if(!Xe(s))return;if(i.spatialReference){if(a.spatialReference.equals(i.spatialReference))return;ae()}await s.load(t),G(t);const o=(("supportedSpatialReferences"in s?s.supportedSpatialReferences:null)||["tileInfo"in s?s.tileInfo?.spatialReference:null]).filter(qe);o.length!==0&&o.every(n=>!a.spatialReference.equals(n))&&ae()}function ae(){throw new p("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function Mt(e){if(e.baseLayers.length===0&&e.groundLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(i=>!et(i)).map(i=>re(i));if(t.length||e.groundLayers&&e.groundLayers.filter(i=>!tt(i)).map(i=>re(i)).length)throw t[0]}function re(e){return new p("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function Rt(e,t,i){let a=e.baseLayers.at(0);if(e.groundLayers?.length>0)a=e.groundLayers.at(0);else{if(!(e.baseLayers.length>0))return;a=e.baseLayers.at(0)}if(it(a)){try{await a.load(i)}catch(r){const s="basemap-compatibility:unknown-error",o="Unknown basemap compatibility error",{name:n=s,message:m=o,details:c}=r;throw new p(n,m,c)}Bt(a,t)}}function Bt(e,t){const i=t.state.viewingMode;if(!i)return;let a,r;if(e?.type==="wmts"){const n=$t(e,t.spatialReference,i);if(n.tileInfo==null)throw new p("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");a=n.tileInfo,r=n.fullExtent}else a=e.tileInfo,r=e.fullExtent;if(a==null)return;if(!kt(a.spatialReference,i))throw new p(`basemapgalleryitem:spatial-reference-unsupported-${te(i)}`,`Basemap spatial reference is unsupported in ${te(i)} mode`);const s=e?.type==="vector-tile"?a.getCompatibleForVTL(256):null;if(i===1){let n=Y(a,r,null,i);if(n&&e?.type==="vector-tile"&&r!=null&&s&&!Y(s,r,null,i)&&(n=null),n){const m=a.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new p(`basemapgalleryitem:tiling-scheme-unsupported-${m}-global`,"Basemap tiling scheme is unsupported in global mode",{error:n})}}else if(R.checkUnsupported(a))throw new p("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const o=t.basemapTerrain?.tilingScheme;if(o&&!o.compatibleWith(a)&&(e?.type!=="vector-tile"||!s||!o.compatibleWith(s)))throw new p("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let v=class extends Te(pe){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.addHandles([k(()=>this.basemap?.loadStatus,e),k(()=>this.compatibilityFunction,e),k(()=>this.view&&"basemapTerrain"in this.view&&this.view.basemapTerrain?.tilingScheme,e),k(()=>this.view?.ready,e),k(()=>this.view?.spatialReference,e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return He(this.view,this.basemap)}set basemap(e){e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){this._cancelRefresh(),this._set("state","loading");const e=this.basemap?.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const t=new AbortController,{signal:i}=t;this.compatibilityFunction(this,{signal:i}).then(()=>ke(()=>!this._spatialReferenceTask.updating,i)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(a=>{de(a)||(this._set("state","error"),this._set("error",a))}),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};l([d({readOnly:!0})],v.prototype,"_spatialReferenceTask",null),l([d()],v.prototype,"basemap",null),l([d()],v.prototype,"compatibilityFunction",void 0),l([d({readOnly:!0})],v.prototype,"error",void 0),l([d({readOnly:!0})],v.prototype,"spatialReference",null),l([d({readOnly:!0})],v.prototype,"state",void 0),l([d()],v.prototype,"view",void 0),v=l([j("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],v);const ue=v,ge=M.ofType(N);let T=class extends pe{constructor(e){super(e),this.basemaps=new ge}destroy(){this.basemaps.forEach(e=>e.destroy())}get state(){return"ready"}refresh(){}};l([d({type:ge})],T.prototype,"basemaps",void 0),l([d({readOnly:!0})],T.prototype,"state",null),T=l([j("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],T);const fe=T,ye=M.ofType(N);let _=class extends Ie(Ce(fe)){constructor(e){super(e),this._lastPortalBasemapFetchController=null,this.basemaps=new ye,this.filterFunction=null,this.portal=me.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(k(()=>[this.filterFunction,this.loadStatus,this.portal?.basemapGalleryGroupQuery,this.portal?.basemapGalleryGroupQuery3D,this.portal?.user,this.query,this.updateBasemapsCallback],()=>Le(this.refresh()),Se))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(e=>e.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,t=new AbortController;this._lastPortalBasemapFetchController=t,this.notifyChange("state");try{const i=await e.fetchBasemaps(this._toQueryString(this.query),{signal:t.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(i)}catch(i){if(de(i))throw i;Ze.getLogger(this).warn(new p("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:i})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(t=>`${t}:${e[t]}`).join(" AND "):e}async _updateBasemaps(e=[]){let t=await this._filterBasemaps(e);t=this.updateBasemapsCallback?await this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}async _filterBasemaps(e){if(!this.filterFunction)return e;const t=e.map(this.filterFunction),i=await Promise.all(t);return e.filter((a,r)=>i[r])}};l([d({readOnly:!0,type:ye})],_.prototype,"basemaps",void 0),l([d()],_.prototype,"filterFunction",void 0),l([d({type:me})],_.prototype,"portal",void 0),l([d()],_.prototype,"query",void 0),l([d({readOnly:!0})],_.prototype,"state",null),l([d()],_.prototype,"updateBasemapsCallback",void 0),l([d()],_.prototype,"viewType",void 0),_=l([j("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],_);const I=_,be=M.ofType(ue);function Lt(e){return e&&e.declaredClass==="esri.portal.Portal"}function Tt(e){return e&&!(e instanceof I)&&(!!e.portal||!!e.query)}function It(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let y=class extends Ee{constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new be,this.source=new I,this.view=null}initialize(){const e=()=>this._recreateItems();this.addHandles([k(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),ze(()=>this.source?.basemaps,"change",e,{onListenerAdd:e}),ce(()=>this.view,()=>{this.source instanceof I&&(this.source.viewType=this.view?.type)},{once:!0})])}destroy(){const e=this.source.basemaps.find(t=>t===this.activeBasemap);e&&this.source.basemaps.remove(e),this.source?.destroy()}get activeBasemap(){return this.view?.map?.basemap??null}set activeBasemap(e){const t=this.view;if(!t?.map)return;if(!e||!t.ready)return t.map.basemap=e,void this._clearOverride("activeBasemap");const i=e.spatialReference||this.items?.find(a=>this.basemapEquals(e,a.basemap))?.spatialReference;if(i&&"spatialReferenceLocked"in t&&!t.spatialReferenceLocked){const a=t.spatialReference;if(i!=null&&!X(a,i)&&!Ue(t.spatialReference,i)&&!Ye())return this._override("activeBasemap",e),this._loadingProjectionEngine=!0,void Ve().then(()=>{this._get("activeBasemap")===e&&(t.map.basemap=e,t.spatialReference=i,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});t.map.basemap=e,this._clearOverride("activeBasemap"),i==null||X(t.spatialReference,i)||(t.spatialReference=i)}else t.map.basemap=e,this._clearOverride("activeBasemap")}castActiveBasemap(e){return Qe(e)}get activeBasemapIndex(){const{state:e,activeBasemap:t}=this;return e!=="ready"?-1:this._findBasemapIndex(t)}get compatibilityFunction(){return this.view?.type==="3d"?St:zt}set compatibilityFunction(e){this._overrideIfSome("compatibilityFunction",e)}castSource(e){return Array.isArray(e)||M.isCollection(e)?new fe({basemaps:Array.isArray(e)?new M(e):e}):Lt(e)?new I({portal:e}):Tt(e)?new I(e):It(e)?e:null}get state(){return this.view?.ready&&this.source?Ne(this.view)&&!this.view.inGeographicLayout?"unsupported":this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,t){return Je(e,t)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(e){return this.addResolvingPromise(Ae(this.source)?this.source.load(e):null),Promise.resolve(this)}_findBasemapIndex(e){const{items:t}=this,i=t.findIndex(a=>a.basemap===e);return i===-1?t.findIndex(a=>this.basemapEquals(a.basemap,e)):i}_recreateItems(){const e=this.source?.basemaps??[],{view:t,compatibilityFunction:i}=this,a=new Map(this.items.map(s=>[s.basemap,s])),r=e.map(s=>{const o=a.get(s);return o?(a.delete(s),o):new ue({basemap:s,compatibilityFunction:i,view:t})});this.items.removeAll(),this.items.addMany(r),a.forEach(s=>s.destroy())}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};l([d()],y.prototype,"_loadingProjectionEngine",void 0),l([d({type:N})],y.prototype,"activeBasemap",null),l([ee("activeBasemap")],y.prototype,"castActiveBasemap",null),l([d({readOnly:!0})],y.prototype,"activeBasemapIndex",null),l([d()],y.prototype,"compatibilityFunction",null),l([d({readOnly:!0,type:be})],y.prototype,"items",void 0),l([d()],y.prototype,"source",void 0),l([ee("source")],y.prototype,"castSource",null),l([d({readOnly:!0})],y.prototype,"state",null),l([d()],y.prototype,"view",void 0),y=l([j("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],y);const Ct=y;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const Et=oe`@keyframes esri-basemap-slide{0%{opacity:0;margin-top:0;margin-left:0}75%{opacity:0;margin-top:0;margin-left:0}to{opacity:1;margin-top:5px;margin-left:5px}}@keyframes esri-docking-animation{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes popup-intro-animation-down{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes popup-intro-animation-up{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@supports (-ms-ime-align: auto){.esri-slider__anchor:focus{outline:1px dotted #000}}@keyframes esri-spinner--start-animation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes esri-spinner--finish-animation{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}@keyframes esri-spinner--rotate-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion){.esri-utility-network-trace__reset-prompt{animation:none!important}}@media (prefers-reduced-motion){.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right,.esri-popup--is-docked{animation:none!important}}@media (prefers-reduced-motion: reduce){.esri-fov-overlay{animation:none!important}}@keyframes esri-fade-in-down{0%{opacity:0;transform:translateY(-5px)}25%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in-up{0%{opacity:0;transform:translateY(5px)}25%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes esri-fade-in-scale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes looping-progresss-bar-ani{0%{width:0;left:0}20%{width:20%;left:0}80%{width:20%;left:80%}to{width:0;left:100%}}@keyframes esri-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes panel-advance{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-advance--rtl{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat--rtl{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}:host{display:flex;width:var(--arcgis-internal-panel-width, 300px)}:host(:focus-within){z-index:1;outline-offset:var(--calcite-spacing-base);outline:var(--calcite-spacing-base) solid var(--calcite-color-brand)}.basemap-gallery{position:relative;overflow-y:auto;container-type:inline-size;width:100%;min-height:32px;transition:max-height .25s ease-in-out}.basemap-gallery .basemap-gallery__loader:before,.basemap-gallery .basemap-gallery__loader:after{opacity:1;content:"";height:var(--calcite-spacing-px);transition:opacity .5s ease-in-out;position:absolute;top:0}.basemap-gallery .basemap-gallery__loader:before{z-index:0;background-color:var(--calcite-color-foreground-1);width:100%}.basemap-gallery .basemap-gallery__loader:after{z-index:0;background-color:var(--calcite-color-foreground-3);width:20%;animation:1.5s linear infinite looping-progresss-bar-ani}.esri-disabled arcgis-basemap-gallery-item{opacity:var(--calcite-opacity-light);pointer-events:none;animation:none}.basemap-gallery__empty-message{padding:12px 15px;animation:.5s ease-in-out esri-fade-in}.basemap-gallery__loader{width:100%;height:var(--calcite-spacing-base);animation:.5s ease-in-out esri-fade-in;position:absolute;top:0;left:0;right:0}.basemap-gallery__item-container{flex-flow:column;gap:3px;margin:0;padding-block:3px;padding-inline:3px;list-style:none;transition:opacity .25s ease-in-out;display:flex;position:relative}calcite-popover>.basemap-gallery{width:280px;max-height:80vh}.ui-corner calcite-panel>.basemap-gallery.widget.widget--panel{width:unset}.view-width-greater-than-large calcite-popover>.basemap-gallery,.view-width-greater-than-large .ui-corner>.basemap-gallery{width:450px}@container (width<=200px) or (width>=350px){.basemap-gallery .basemap-gallery__item-container{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:var(--calcite-spacing-md) var(--calcite-spacing-lg);padding-block:var(--calcite-spacing-md);padding-inline:var(--calcite-spacing-lg);display:grid}}`,At=Re(Ct),O={small:200,default:280,wide:435},P=class P extends ne{constructor(){super(...arguments),this.messages=Me({}),this.viewModel=At(this),this._width=0,this.view=this.viewModel.view,this.activeBasemap=this.viewModel.activeBasemap,this.autoDestroyDisabled=!1,this.disabled=!1,this.headingLevel=2,this.icon="basemap",this.label="",this.source=this.viewModel.source,this.state=this.viewModel.state,this.arcgisPropertyChange=nt()("activeBasemap","state"),this.arcgisReady=xe()}async destroy(){await this.manager.destroy()}loaded(){this.manager.onLifecycle(()=>[ce(()=>this.source,()=>{this.viewModel.loadSource()},{sync:!0,initial:!0}),(()=>{const t=new ResizeObserver(a=>{for(const r of a)this._width=r.contentRect.width}),i=this.el;return i&&t.observe(i),{remove(){t?.disconnect()}}})()])}_getRoundRobinIndex(t,i){return(t+i)%i}_handleKeyDown(t){const{key:i}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(i))return;t.preventDefault();const{items:a,activeBasemapIndex:r}=this.viewModel,s=i==="ArrowUp"||i==="ArrowLeft"?this._getRoundRobinIndex(Math.max(r-1,-1),a.length):this._getRoundRobinIndex(r+1,a.length),o=a.at(s);o?.state==="ready"&&(this.viewModel.activeBasemap=o.basemap)}render(){const t=this.source.state==="loading",i=this.disabled||this.state==="disabled",a=this.viewModel.items,r={[b.sourceLoading]:t,[L.disabled]:i},s=this._width;r[b.layoutGrid]=s>=O.wide||s<=O.small,r[b.narrowItems]=s<O.default;const o=t?$`<div class=${x(b.loader)}></div>`:null,n=t?null:a.length>0?$`<div aria-disabled=${this.disabled??z} aria-label=${this.label??z} class=${x(b.itemContainer)} @keydown=${this._handleKeyDown} role=radiogroup>${a.map((m,c)=>$`<arcgis-basemap-gallery-item .disabled=${i} .item=${m} .itemIndex=${c} .viewModel=${this.viewModel} .messages=${this.messages}></arcgis-basemap-gallery-item>`)}</div>`:$`<div class=${x(L.empty)}>${Be({level:this.headingLevel,children:this.messages.noBasemaps})}</div>`;return $`<div class=${x(le(b.base,L.widget,L.panel,r))} style=${$e({"--esri-basemap-gallery-small":`${O.small}px`})}>${[o,n]}</div>`}};P.properties={_width:16,view:0,activeBasemap:1,autoDestroyDisabled:5,disabled:7,headingLevel:9,icon:1,label:1,messageOverrides:0,position:1,referenceElement:1,source:0,state:3},P.styles=Et;let V=P;se("arcgis-basemap-gallery",V);export{V as ArcgisBasemapGallery};
