import{r as M}from"./D6KPPgz5.js";import{A as p}from"./6lnTPk9w.js";import"./Dl3KosoA.js";import{f as l}from"./w-2V2ENZ.js";function y(r){return r<=l?new Array(r):new Int16Array(r)}function A(r,a,o,n,t,e=2){const s=1/(Math.abs(o)+Math.abs(n)+Math.abs(t)),u=o*s,f=n*s,b=t<=0?(u>=0?1:-1)*(1-Math.abs(f)):u,m=t<=0?(f>=0?1:-1)*(1-Math.abs(u)):f,c=a*e;r[c]=h(b),r[c+1]=h(m)}function I(r){const a=r.length/3,o=y(2*a);let n=0;for(let t=0;t<a;++t)A(o,t,r[n++],r[n++],r[n++]);return o}function j(r,a,o,n=2){const t=o*n,e=i(a[t]),s=i(a[t+1]),u=1-Math.abs(e)-Math.abs(s);return r[2]=u,u<0?(r[0]=(e>=0?1:-1)*(1-Math.abs(s)),r[1]=(s>=0?1:-1)*(1-Math.abs(e))):(r[0]=e,r[1]=s),p(r,r)}function h(r){return M(Math.round(32767*r),-32767,32767)}function i(r){return M(r/32767,-1,1)}export{I as c,A as e,y as t,j as u};
