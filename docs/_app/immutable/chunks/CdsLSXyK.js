import{d as _,h as l,e as d,a3 as h,_ as g,ag as m,E as w,i as y,a5 as c,aE as E,k as p,M as k,w as q,aF as v}from"./J6Bl3sxN.js";function S(s,r,...n){var e=s,t=c,u;_(()=>{t!==(t=r())&&(u&&(E(u),u=null),u=y(()=>t(e,...n)))},w),l&&(e=p)}function T(s){return(r,...n)=>{var e=s(...n),t;if(l)t=p,d();else{var u=e.render().trim(),f=h(u);t=k(f),r.before(t)}const i=e.setup?.(t);g(t,t),typeof i=="function"&&m(i)}}function F(s,r,n){if(s==null)return r(void 0),c;const e=q(()=>s.subscribe(r,n));return e.unsubscribe?()=>e.unsubscribe():e}const o=[];function x(s,r=c){let n=null;const e=new Set;function t(i){if(v(s,i)&&(s=i,n)){const b=!o.length;for(const a of e)a[1](),o.push(a,s);if(b){for(let a=0;a<o.length;a+=2)o[a][0](o[a+1]);o.length=0}}}function u(i){t(i(s))}function f(i,b=c){const a=[i,b];return e.add(a),e.size===1&&(n=r(t,u)||c),i(s),()=>{e.delete(a),e.size===0&&n&&(n(),n=null)}}return{set:t,update:u,subscribe:f}}function z(s){let r;return F(s,n=>r=n)(),r}export{F as a,T as c,z as g,S as s,x as w};
