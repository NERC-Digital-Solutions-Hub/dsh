const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DIFU3IHd.js","./K0pwTKFC.js","./C6k8CR_f.js","./D3Gr6mVs.js","./zQYKJ5V3.js","./D9Z9MdNV.js","./phGYsQop.js","./Cl5lrJ4c.js","./C8BmVxiO.js","./DVdtG5Br.js","./Ka3tBvbA.js","./C67JD4Fo.js","./DVGi2NY1.js","./BDG9R3u5.js","./BrV-rG8c.js","./C04M3uzL.js","./WWbVrxJF.js","./Dqoom-a0.js","./wImpElUV.js","./CSBy1wSy.js","./BA3LQDSx.js","./8VskVFaF.js","./BBEW7Cm3.js","./CyrTv1RS.js","./Be9yQRy-.js","./QFDC2pK0.js","./DZd6gJy7.js","./DU6wgp8q.js","./D-VqoI4f.js","./BsxeN7wM.js","./KcazVFlU.js","./CYsUaMUi.js","./CBcfwpPJ.js","./DPDwJgBK.js","./ClBvzuMK.js","./C5CzMsLd.js","./B6yXcH6I.js","./BxGktOks.js","./BEVU7IZm.js","./BhOLEX3z.js","./DWQ1wuFA.js","./Cx2s0HfC.js","./D_g9z8Rb.js","./By4FNNzU.js"])))=>i.map(i=>d[i]);
import{_ as V}from"./D9Z9MdNV.js";import{b as D,s as B,a as x,G as No,Q as Ss,w as Co,y as Bs,r as Ls,R as Ro,h as Uo,e as wt,g as Io,C as Do}from"./C6k8CR_f.js";import{O as Go,s as T,Q as qr,_ as cr,G as $s,Y as at,K as Gn,h as pr,F as fr,S as Es,m as jn,U as zs,I as hr,X as K,y as qn,a0 as Bn,V as Ln,x as jo,w as zn,J as qo,A as Bo,Z as Fn,N as Fs,a1 as Os,$ as Lo,v as Ws,T as zo,a2 as Fo,H as Or,a3 as Wo,a as F,a4 as Jo,r as Wn}from"./K0pwTKFC.js";function p(e,t,s,n){var i,o=arguments.length,a=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,s):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,s,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,s,a):i(t,s))||a);return o>3&&a&&Object.defineProperty(t,s,a),a}function Hc(e,t){return function(s,n){t(s,n,e)}}function Vc(e,t,s,n){function i(o){return o instanceof s?o:new s((function(a){a(o)}))}return new(s||(s=Promise))((function(o,a){function u(d){try{f(n.next(d))}catch(y){a(y)}}function c(d){try{f(n.throw(d))}catch(y){a(y)}}function f(d){d.done?o(d.value):i(d.value).then(u,c)}f((n=n.apply(e,[])).next())}))}function Yc(e,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:s})}return t}var Ho=typeof SuppressedError=="function"?SuppressedError:function(e,t,s){var n=new Error(s);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Qc(e){function t(o){e.error=e.hasError?new Ho(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var s,n=0;function i(){for(;s=e.stack.pop();)try{if(!s.async&&n===1)return n=0,e.stack.push(s),Promise.resolve().then(i);if(s.dispose){var o=s.dispose.call(s.value);if(s.async)return n|=2,Promise.resolve(o).then(i,(function(a){return t(a),i()}))}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Vo="4.33";let N,Yo=Vo;Yo="4.33.13";function Kc(e){N=e}function Zc(e){const t=N?.findCredential(e);return t?.token?Go(e,"token",t.token):e}D("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),D("host-webworker");function Xc(e,t){for(const s of e.values())if(t(s))return!0;return!1}function e0(e,t){for(const s of e.values())if(t(s))return s;return null}function Jn(e,t,s){const n=e.get(t);if(n!==void 0)return n;const i=s();return e.set(t,i),i}function t0(e){const t=new Map;return s=>(t.has(s)||t.set(s,e(s)),t.get(s))}const Qo={remove:()=>{}};function j(e){return e?{remove(){e&&(e(),e=void 0)}}:Qo}function Hn(e){e.forEach((t=>t?.remove()))}function r0(e){Hn(e),e.length=0}function Ko(e){return j((()=>Hn(e)))}function s0(e){return j((()=>e()?.remove()))}function n0(e){return j((()=>e?.abort()))}function i0(e){return j(e!=null?()=>e.destroy():void 0)}function Zo(e){return typeof e=="object"&&!!e&&"remove"in e&&typeof e.remove=="function"}function o0(e){Zo(e)&&e.remove()}function a0(e){return{[Symbol.dispose](){e.remove()}}}function Xo(e){return{setTimeout:(t,s)=>{const n=e.setTimeout(t,s);return j((()=>e.clearTimeout(n)))}}}const ea=Xo(globalThis);function Vn(e){return ta(e)||Yn(e)}function ta(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function Yn(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function ra(e,t,s){if(!Vn(e))throw new TypeError("target is not a Evented or EventTarget object");return Yn(e)?sa(e,t,s):e.on(t,s)}function sa(e,t,s,n){if(Array.isArray(t)){const i=t.slice();for(const o of i)e.addEventListener(o,s,n);return j((()=>{for(const o of i)e.removeEventListener(o,s,n)}))}return e.addEventListener(t,s,n),j((()=>e.removeEventListener(t,s,n)))}function Qn(e,t,s){if(!Vn(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,s);const n=ra(e,t,(i=>{n.remove(),s.call(e,i)}));return n}function l0(e,t){if(e==null)throw new Error(t??"value is None")}function Ct(e){return e?.destroy(),null}function u0(e){return e?.dispose(),null}function Kn(e){return e?.remove(),null}function na(e){return e?.abort(),null}function c0(e){return e?.release(),null}function p0(e,t,s){return e!=null&&t!=null?s!=null?s(e,t):e.equals(t):e===t}function f0(e,t){let s;return e.some(((n,i)=>(s=t(n,i),s!=null))),s??void 0}function Z(e="Aborted"){return new T("AbortError",e)}function Ft(e,t="Aborted"){if(Re(e))throw Z(t)}function dr(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Re(e){const t=dr(e);return t!=null&&t.aborted}function ia(e){if(bt(e))throw e}function h0(e){if(!bt(e))throw e}function pt(e,t){const s=dr(e);if(s!=null){if(!s.aborted)return Qn(s,"abort",(()=>t()));t()}}function oa(e,t){const s=dr(e);if(s!=null)return Ft(s),Qn(s,"abort",(()=>t(Z())))}function d0(e,t){return dr(t)==null?e:new Promise(((s,n)=>{let i=pt(t,(()=>n(Z())));const o=()=>{i=Kn(i)};e.then(o,o),e.then(s,n)}))}function bt(e){return e?.name==="AbortError"}async function m0(e){try{return await e}catch(t){if(!bt(t))throw t;return}}async function aa(e){if(!e)return;if(typeof e.forEach!="function"){const s=Object.keys(e),n=s.map((a=>e[a])),i=await aa(n),o={};return s.map(((a,u)=>o[a]=i[u])),o}const t=e;return Promise.allSettled(t).then((s=>Array.from(t,((n,i)=>{const o=s[i];return o.status==="fulfilled"?{promise:n,value:o.value}:{promise:n,error:o.reason}}))))}async function y0(e){return(await Promise.allSettled(e)).filter((t=>t.status==="fulfilled")).map((t=>t.value))}async function g0(e){return(await Promise.allSettled(e)).filter((t=>t.status==="rejected")).map((t=>t.reason))}function la(e,t=void 0,s){const n=new AbortController;return pt(s,(()=>n.abort())),new Promise(((i,o)=>{let a=setTimeout((()=>{a=0,i(t)}),e);pt(n,(()=>{a&&(clearTimeout(a),o(Z()))}))}))}function _0(e,t,s,n){const i=s&&"abort"in s?s:null;n!=null||i||(n=s);let o=setTimeout((()=>{o=0,i?.abort()}),t);const a=()=>n||new T("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((u=>{if(o===0)throw a();return clearTimeout(o),u}),(u=>{throw clearTimeout(o),o===0?a():u}))}function v0(e,t){const s=new AbortController,n=setTimeout((()=>s.abort()),t);return pt(e,(()=>{s.abort(),clearTimeout(n)})),{...e,signal:s.signal}}function ua(e){return e&&typeof e.then=="function"}function Js(e){return ua(e)?e:Promise.resolve(e)}function w0(e,t=-1){let s,n,i,o,a=null;const u=(...c)=>{if(s){n=c,o&&o.reject(Z()),o=ft();const _=o.promise;if(a){const g=a;a=null,g.abort()}return _}if(i=o||ft(),o=null,t>0){const _=new AbortController;s=Js(e(...c,_.signal));const g=s;la(t).then((()=>{s===g&&(o?_.abort():a=_)}))}else s=1,s=Js(e(...c));const f=()=>{const _=n;n=i=s=a=null,_!=null&&u(..._)},d=s,y=i;return d.then(f,f),d.then(y.resolve,y.reject),y.promise};return u}function ft(){let e,t;const s=new Promise(((i,o)=>{e=i,t=o})),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,o)=>ea.setTimeout((()=>n.reject(o)),i),n.promise=s,n}function b0(e,t){t.then(e.resolve,e.reject)}async function P0(e){await Promise.resolve(),Ft(e)}function Zn(e,t){const s=t?.url?.path;if(e&&s&&(e=cr(e,s,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=$s(e,t.portalItem.itemUrl);n!=null&&pa.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=Br(e,t?.portal))&&mr.test(e)?Ts(e):e}function Xn(e,t,s=ht.YES){if((e=e&&mr.test(e)?ri(e):e)==null)return e;!at(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=cr(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const o=Br(i,t.portal),a=Br(n,t.portal);n=$s(a,o,o),n!=null&&n!==a&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=ti(n,t?.portal),at(n)&&(n=Gn(n)),t?.resources&&t?.portalItem&&!at(n)&&!pr(n)&&s===ht.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function ca(e,t,s){return Zn(e,s)}function ei(e,t,s,n){const i=Xn(e,n);i!==void 0&&(t[s]=i)}const mr=/\/items\/([^/]+)\/resources\/(.*)/,pa=/^\.\/resources\//;function fa(e){return(e?.match(mr)??null)?.[1]??null}function ha(e){const t=e?.match(mr)??null;if(t==null)return null;const s=t[2],n=s.lastIndexOf("/");if(n===-1){const{path:a,extension:u}=zs(s);return{prefix:null,filename:a,extension:u}}const{path:i,extension:o}=zs(s.slice(n+1));return{prefix:s.slice(0,n),filename:i,extension:o}}function ti(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?qr(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Br(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const s=`${t.urlKey}.${t.customBaseUrl}`,n=Es();return fr(n,`${n.scheme}://${s}`)?qr(e,t.portalHostname,s):qr(e,s,t.portalHostname)}function Ts(e){if(!e)return e||null;let t=e;return t&&N&&!N.findCredential(t)&&(t=jn(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function ri(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&N&&!N.findCredential(t)&&(t=jn(t)),t}var ht;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(ht||(ht={}));const S0=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return ht},ensureMainOnlineDomain:ti,fromCDNUrl:ri,fromJSON:Zn,itemIdFromResourceUrl:fa,prefixAndFilenameFromResourceUrl:ha,read:ca,toCDNUrl:Ts,toJSON:Xn,write:ei},Symbol.toStringTag,{value:"Module"})),si={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},ni=Object.values(si),ii=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${ni.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),da=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${ni.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ma=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function $0(e){return ii.test(e)}function yr(e){if(e==null)return null;const t=hr(e),s=t?.path.match(ii)||t?.path.match(da);if(!s)return null;const[,n,i,o,a]=s,u=i.indexOf("/");return{title:oi(u!==-1?i.slice(u+1):i),serverType:si[o.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:n}}}function ya(e){const t=hr(e).path.match(ma);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function oi(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function E0(e,t){const s=[];if(e){const n=yr(e);n!=null&&n.title&&s.push(n.title)}if(t){const n=oi(t);s.push(n)}if(s.length===2){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(" - ")}function Hs(e){let t=K(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function O0(e,t){return e&&qn(Bn(e,t))}function T0(e){let{url:t}=e;if(!t)return{url:t};t=Bn(t,e.logger);const s=hr(t),n=yr(s.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const o=ya(s.path);o!=null&&(t=o.serviceUrl,i=o.sublayerId)}return{url:qn(t),layerId:i}}function x0(e,t,s,n,i){ei(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=Ln(n.url,s,e.layerId.toString()))}function A0(e){if(!e)return!1;const t=e.toLowerCase(),s=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return s&&(n||i||o)}function k0(e){if(!e)return!1;const t=new jo(cr(e)),s=t.authority?.toLowerCase();return s==="server.arcgisonline.com"||s==="services.arcgisonline.com"}const ga=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function ai(e){if(!li(e))return null;const t=n=>n instanceof RegExp?n.test(e):typeof n=="string"&&e.startsWith(n),s=B.apiKeys;if(Array.isArray(s.scopes)){for(const n of s.scopes)if(Array.isArray(n.urls)){if(n.urls.some(t))return n.token}else if(t(n.urls))return n.token}return s.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?s.basemapStyles:B.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?B.apiKey:null}function Vs(){return B.apiKey!=null||B.apiKeys.basemapStyles!=null}function _a(e,t){return t?li(e):ai(e)!=null}function li(e){const t=K(e,!0);return!!t&&!ga.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function va(e,t,s=!1,n){return new Promise(((i,o)=>{if(Re(n))return void o(Ys());let a=()=>{f(),o(new Error(`Unable to load ${t}`))},u=()=>{const d=e;f(),i(d)},c=()=>{if(!e)return;const d=e;f(),d.src="",o(Ys())};const f=()=>{D("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",u)),a=null,u=null,e=null,n?.removeEventListener("abort",c),c=null,s&&URL.revokeObjectURL(t)};n?.addEventListener("abort",c),D("esri-image-decode")?e.decode().then(u,a):(e.addEventListener("error",a),e.addEventListener("load",u))}))}function Ys(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const ui="Timeout exceeded";function wa(){return new Error(ui)}function M0(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===ui}function ba(e){B.request.crossOriginNoCorsDomains||(B.request.crossOriginNoCorsDomains={});const t=B.request.crossOriginNoCorsDomains;for(let s of e)s=s.toLowerCase(),/^https?:\/\//.test(s)?t[K(s)??""]=0:(t[K("http://"+s)??""]=0,t[K("https://"+s)??""]=0)}function Pa(e){const t=B.request.crossOriginNoCorsDomains;if(t){let s=K(e);if(s)return s=s.toLowerCase(),!fr(s,Es())&&t[s]<Date.now()-36e5}return!1}async function Sa(e){const t=hr(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const s=B.request.crossOriginNoCorsDomains,n=K(e);s&&n&&(s[n.toLowerCase()]=Date.now())}const Lr=new Map;function $a(e,t){const s=t?.preferredHost;if(!s||fr(e,`https://${s}`,!0))return;const n=yr(e);if(!n||n.serverType!=="FeatureServer"||zn(e))return;const i=n.url.path.toLowerCase();Lr.has(i)||Lr.set(i,s)}function Qs(e){const t=yr(e)?.url.path.toLowerCase();if(!t)return e;const s=Lr.get(t);return s?qo(e,s):e}async function se(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=Bo(t.query.toString().replaceAll("+"," ")));const s=pr(e),n=Fn(e);n||s||(e=Gn(e));const i={url:e,requestOptions:{...t}},o=g=>({data:g,getAllHeaders:Ve,getHeader:Ve,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),a=Fs(e,Q.internalInterceptors);if(a){const g=await Zs(a,i);if(g!=null)return o(g)}let u=Fs(e);if(u){const g=await Zs(u,i);if(g!=null)return o(g);u.after||u.error||(u=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(D("host-webworker")||D("host-node")))throw ie("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw ie("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(s||n)throw ie("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await Aa(),Wt)return Wt.execute(e,t);const c=new AbortController,f=pt(t,(()=>c.abort())),d={controller:c,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:u,params:i,redoRequest:!1,useIdentity:Q.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},y=t.useRequestQueue?Ra(d):Fr(d),_=await y.finally((()=>f?.remove()));return u?.after?.(_),_}let Wt,ci=!1;const Q=B.request,pi="FormData"in globalThis,Ea=new Set([499,498,403,401]),Oa=new Set(["COM_0056","COM_0057","SB_0008"]),Ta=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ve=()=>null,Jt=Symbol();function xa(e){const t=K(e);t&&!se._corsServers.includes(t)&&se._corsServers.push(t)}function Ks(e){const t=K(e);return!t||t.endsWith(".arcgis.com")||se._corsServers.includes(t)||Os(t)}function ie(e,t,s,n){let i;const o={url:s.url,requestOptions:s.requestOptions,getAllHeaders:Ve,getHeader:Ve,ssl:!1};if(t instanceof T)return t.details?(t.details=x(t.details),t.details.url=s.url,t.details.requestOptions=s.requestOptions):t.details=o,t;if(t){const a=n&&(()=>Array.from(n.headers)),u=n&&(d=>n.headers.get(d)),c=n?.status,f=t.message;f&&(i=f),a&&u&&(o.getAllHeaders=a,o.getHeader=u),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||c||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?(o.messages=[t.details],i??=t.details):(o.messages=t.details,i??=o.messages?.[0]),o.raw=Jt in t?t[Jt]:t}return i??="Error",bt(t)?Z():new T(e,i,o)}async function Aa(){D("host-webworker")&&(!Wt&&globalThis.invokeStaticMessage?Wt=await V(()=>import("./DIFU3IHd.js"),__vite__mapDeps([0,1,2]),import.meta.url):ci=!0)}async function zr(){N||await V(()=>import("./D3Gr6mVs.js"),__vite__mapDeps([3,2,1,4,5,6,7,8,9]),import.meta.url)}async function ka(e){const t=e.params.url,s=e.params.requestOptions,n=e.controller.signal,i=s.body;let o=null,a=null;if(pi&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(o=new FormData(i))),typeof i=="string"&&(a=i),e.fetchOptions={cache:s.cacheBust?"no-cache":"default",credentials:"same-origin",headers:s.headers||{},method:s.method==="head"?"HEAD":"GET",mode:"cors",priority:Q.priority,redirect:"follow",signal:n},(o||a)&&(e.fetchOptions.body=o||a),(ci||s.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||s.query?.token||o?.get("token")),!e.hasToken){const u=ai(t);u&&(s.query??={},s.query.token=u,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!fi(t)&&!Re(n)){let u;s.authMode==="immediate"?(await zr(),u=await N.getCredential(t,{signal:n})):s.authMode==="no-prompt"?(await zr(),u=await N.getCredential(t,{prompt:!1,signal:n}).catch((()=>{}))):N&&(u=N.findCredential(t)),u&&(e.credential=u,e.credentialToken=u.token,e.useSSL=!!u.ssl)}}function fi(e){return Ta.some((t=>t.test(e)))}async function Ma(e){let t=e.params.url,s=Qs(t);const n=e.params.requestOptions,i=e.fetchOptions??{},o=Fn(t)||pr(t),a=n.responseType||"json",u=o?0:n.timeout!=null?n.timeout:Q.timeout;let c=!1;if(!o){e.useSSL&&(t=Lo(t));let g={...n.query};e.credentialToken&&(g.token=e.credentialToken);let w=Ws(g);D("esri-url-encodes-apostrophe")&&(w=w.replaceAll("'","%27"));const b=s.length+1+w.length;let S;c=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||b>Q.maxUrlLength;const A=n.useProxy||!!zo(t);if(A){const q=Fo(t);S=q.path,!c&&S.length+1+b>Q.maxUrlLength&&(c=!0),q.query&&(g={...q.query,...g})}if(i.method==="HEAD"&&(c||A)){if(c)throw b>Q.maxUrlLength?ie("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ie("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(A)throw ie("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}c?(i.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=Or(t,g):(i.body=Ws(g),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Or(t,g),A&&(e.useProxy=!0,t=`${S}?${t}`),g.token&&pi&&i.body instanceof FormData&&!zn(t)&&i.body.set("token",g.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:fr(t,Es())||(Os(t)||N&&N.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",Pa(t)&&await Sa(c?Or(t,g):t)),s=Qs(t)}let f,d,y=0,_=!1;u>0&&(y=setTimeout((()=>{_=!0,e.controller.abort()}),u));try{if(n.responseType==="native-request-init")d=i,d.url=s,n.signal?d.signal=n.signal:delete d.signal;else if(n.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||c||Na(n.headers)||!o&&!e.useProxy&&Q.proxyUrl&&!Ks(t)){if(se._beforeFetch&&await se._beforeFetch(t,i),f=await fetch(s,i),se._afterFetch&&await se._afterFetch(f),e.useProxy||xa(t),n.responseType==="native")d=f;else if(i.method!=="HEAD")if(f.ok){switch(a){case"array-buffer":d=await f.arrayBuffer();break;case"blob":case"image":d=await f.blob();break;default:d=await f.text()}if(y&&(clearTimeout(y),y=0),a==="json"||a==="xml"||a==="document")if(d)switch(a){case"json":d=JSON.parse(d);break;case"xml":d=Xs(d,"application/xml");break;case"document":d=Xs(d,"text/html")}else d=null;if(d){if(a==="array-buffer"||a==="blob"){const g=f.headers.get("Content-Type");if(g&&/application\/json|text\/plain/i.test(g)&&d[a==="blob"?"size":"byteLength"]<=750)try{const w=await new Response(d).json();w.error&&(d=w)}catch{}}a==="image"&&d instanceof Blob&&(d=await en(URL.createObjectURL(d),e,!0))}}else{d=await f.text();try{d=JSON.parse(d)}catch{}}}else d=await en(s,e)}catch(g){if(g.name==="AbortError")throw _?wa():Z("Request canceled");if(!(!f&&g instanceof TypeError&&Q.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||Ks(t))throw g;e.redoRequest=!0,Wo({proxyUrl:Q.proxyUrl,urlPrefix:K(t)??""})}finally{y&&clearTimeout(y)}return[f,d]}async function Zs(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let s,n;try{n=await e.before(t)}catch(i){s=ie("request:interceptor",i,t)}if((n instanceof Error||n instanceof T)&&(s=ie("request:interceptor",n,t)),s)throw e.error&&e.error(s),s;return n}}function Na(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Xs(e,t){let s;try{s=new DOMParser().parseFromString(e,t)}catch{}if(!s||s.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return s}se._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],se._beforeFetch=void 0,se._afterFetch=void 0;const Ca=new Map;async function Ra(e){const t=Ia(e.params.url);if(!t)return Fr(e);const{QueueProcessor:s}=await V(()=>import("./Ka3tBvbA.js"),__vite__mapDeps([10,11,12,13,14,2]),import.meta.url);return Jn(Ca,t.origin,(()=>{const i=t.isHosted?D("request-queue-concurrency-hosted"):D("request-queue-concurrency-non-hosted");return new s({concurrency:i,process:o=>{if(Re(o.params.requestOptions))throw ie("",Z("Request canceled"),o.params);return Fr(o)}})})).push(e)}async function Fr(e){let t,s;await ka(e);try{do[t,s]=await Ma(e);while(!await Ua(e,t,s))}catch(o){const a=ie("request:server",o,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(a),a}const n=e.params.url;if(s)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&s.user?.username&&!Os(n)){const o=K(n,!0);o&&Q.trustedServers.push(o)}Array.isArray(s.authorizedCrossOriginNoCorsDomains)&&ba(s.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&$a(n,s);const i=e.credential;if(i&&N){let a=N.findServerInfo(i.server)?.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const u=N.findCredential(a,i.userId);u&&N._getIdenticalSvcIdx(a,u)===-1&&u.resources.unshift(a)}}return{data:s,getAllHeaders:t?()=>Array.from(t.headers):Ve,getHeader:t?o=>t.headers.get(o):Ve,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Ua(e,t,s){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,o;if(s&&(s.error&&typeof s.error=="object"?i=s.error:s.status==="error"&&Array.isArray(s.messages)&&(i={...s},i[Jt]=s,i.details=s.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[Jt]=s,i;let a,u=null;i&&(o=Number(i.code),u=i.hasOwnProperty("subcode")?Number(i.subcode):null,a=i.messageCode,a=a?.toUpperCase());const c=n.authMode;if(o===403&&(u===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(c!=="no-prompt"||o===498)&&o!==void 0&&Ea.has(o)&&!fi(e.params.url)&&(o!==403||(!a||!Oa.has(a))&&(u==null||u===2&&e.credentialToken))){await zr();try{const f=await N.getCredential(e.params.url,{error:ie("request:server",i,e.params),credential:e.credential,prompt:c!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=f,e.credentialToken=f.token,e.useSSL=e.useSSL||f.ssl,!1}catch(f){if(c==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=f}}if(i)throw i;return!0}function en(e,t,s=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Q.priority,i.src=e,va(i,e,s,n)}function Ia(e){let t,s;return typeof e=="string"?(t=K(e,!0),s=Hs(e)):(t=e.origin,s=Hs(e.toString())),t==null?null:{origin:t,isHosted:s}}function Da(e){return e?.release&&typeof e.release=="function"}function Ga(e){return e?.acquire&&typeof e.acquire=="function"}var Se;let xs=(Se=class{constructor(t,s,n,i=1,o=0){this._ctor=t,this._acquireFunction=s,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(o),this._initialSize=o;for(let a=0;a<o;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let s;if(Se.test.disabled)s=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}s=this._pool.pop()}return this._acquireFunction?this._acquireFunction(s,...t):Ga(s)&&s.acquire(...t),s}release(t){t&&!Se.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Da(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let s=t;s<this._pool.length;++s){const n=this._pool[s];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},Se.test={disabled:!1},Se);function ja(e){e.length=0}let hi=class{constructor(t=50,s=50){this._pool=new xs(Array,void 0,ja,s,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Tr.acquire()}static release(t){return Tr.release(t)}static prune(){Tr.prune()}};const Tr=new hi(100),tn=new WeakMap;function qa(e,t,s=!1){const n=`ðŸ›‘ DEPRECATED - ${t}`;if(!s)return void e.warn(n);let i=tn.get(e);i||(i=new Set,tn.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}const Ht="https://www.esriurl.com/";function C0(e,t,s,n={}){D("esri-deprecation-warnings")&&Xe(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${Ht}${s}/`,`Esri's move to web components: ${Ht}components-transition-plan/`],replacement:`<${s}></${s}>`,warnOnce:!0,...n})}function R0(e,t,s,n={}){D("esri-deprecation-warnings")&&Xe(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${Ht}${s}/`,`Esri's move to web components: ${Ht}components-transition-plan/`],replacement:`<${s}></${s}>`,warnOnce:!0,...n})}function U0(e,t,s={}){D("esri-deprecation-warnings")&&Xe(e,`Module: ${t}`,s)}function Ba(e,t,s={}){if(D("esri-deprecation-warnings")){const{moduleName:n}=s;Xe(e,`Function: ${(n?n+"::":"")+t+"()"}`,s)}}function I0(e,t,s={}){if(D("esri-deprecation-warnings")){const{moduleName:n}=s;Xe(e,`Property: ${(n?n+"::":"")+t}`,s)}}function D0(e,t,s={}){D("esri-deprecation-warnings")&&Xe(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...s})}function Xe(e,t,s={}){if(D("esri-deprecation-warnings")){const{replacement:n,version:i,see:o,warnOnce:a}=s;let u=t;if(n&&(u+=`
	ðŸ› ï¸ Replacement: ${n}`),i&&(u+=`
	âš™ï¸ Version: ${i}`),o)if(Array.isArray(o)){u+=`
	ðŸ”— See for more details:`;for(const c of o)u+=`
		${c}`}else u+=`
	ðŸ”— See ${o} for more details.`;qa(e,u,a)}}function G0(e){const t=[];return function*(){yield*t;for(const s of e)t.push(s),yield s}}function j0(e,t){for(const s of e)if(s!=null&&t(s))return s}function rn(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let As=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach((s=>{t+=s.length})),t}add(t,s){if(rn(t)){const n=this._getOrCreateGroup(s);for(const i of t)nn(i)&&n.push(i)}else nn(t)&&this._getOrCreateGroup(s).push(t);return this}forEach(t,s){if(typeof t=="function")this._groups.forEach((n=>n.forEach(t)));else{const n=this._getGroup(t);n&&s&&n.forEach(s)}}has(t){return this._groups.has(Tt(t))}remove(t){if(typeof t!="string"&&rn(t)){for(const s of t)this.remove(s);return this}return this.has(t)?(sn(this._getGroup(t)),this._groups.delete(Tt(t)),this):this}removeAll(){return this._groups.forEach(sn),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const s=[];return this._groups.set(Tt(t),s),s}_getGroup(t){return this._groups.get(Tt(t))}};function Tt(e){return e||"_default_"}function sn(e){for(const t of e)t instanceof As?t.removeAll():t.remove()}function nn(e){return e!=null&&(!!e.remove||e instanceof As)}const di=Symbol("Accessor-beforeDestroy");function et(e){return e.__accessor__??null}function La(e,t){return e?.metadata?.[t]!=null}function Rt(e,t,s){return s?Vt(e,t,{policy:s,path:""}):Vt(e,t,null)}function Vt(e,t,s){return t?Object.keys(t).reduce(((n,i)=>{const o=i;if(o==="__proto__")return n;let a=null,u="merge";if(s&&(a=s.path?`${s.path}.${i}`:i,u=s.policy(a)),u==="replace"||u==="replace-arrays"&&Array.isArray(n[o]))return n[o]=t[o],n;if(n[o]===void 0)return n[o]=x(t[o]),n;let c=n[o],f=t[o];if(c===f)return n;if(Array.isArray(f)||Array.isArray(n))c=c?Array.isArray(c)?n[o]=c.slice():n[o]=[c]:n[o]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach((d=>{c.includes(d)||c.push(d)})));else if(f&&typeof f=="object")if(s){const d=s.path;s.path=a,n[o]=Vt(c,f,s),s.path=d}else n[o]=Vt(c,f,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[o]=f);return n}),e||{}):e}function mi(e){return Array.isArray(e)?e:e.split(".")}function on(e){return e.includes(",")?e.split(",").map((t=>t.trim())):[e.trim()]}function za(e){if(Array.isArray(e)){const t=[];for(const s of e)t.push(...on(s));return t}return on(e)}function yi(e,t,s,n){const i=za(t);if(i.length!==1){const o=i.map((a=>n(e,a,s)));return Ko(o)}return n(e,i[0],s)}function gi(e,t){const s=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(s,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=et(t);return La(n,s)?n.get(s):t[s]}function _i(e,t,s){if(e==null)return e;const n=gi(t[s],e);return!n&&s<t.length-1?void 0:s===t.length-1?n:_i(n,t,s+1)}function Pt(e,t,s=0){return typeof t!="string"||t.includes(".")?_i(e,mi(t),s):gi(t,e)}function Ye(e,t){return Pt(e,t)}function an(e,t){return Pt(t,e)!==void 0}const H={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function St(e){let t=e.constructor.__accessorMetadata__;const s=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!s){t=Object.create(t);for(const n in t)t[n]=x(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function gr(e,t){const s=St(e);let n=s[t];return n||(n=s[t]={}),n}function Fa(e,t){return Rt(e,t,Ja)}const Wa=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Ja(e){return Wa.test(e)?"replace":"merge"}let Ha=class{constructor(t,s){this._observers=t,this._observer=s}remove(){No(this._observers,this._observer)}},Va=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Ya;this._observers==null&&(this._observers=[]);const s=this._observers;let n=!1,i=!1;const o=s.length;for(let a=0;a<o;++a){const u=s[a];if(u.destroyed)i=!0;else if(u===t){n=!0;break}}return n||(s.push(t),i&&this._removeDestroyedObservers()),new Ha(s,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const s=t.length;let n=0;for(let i=0;i<s;++i){for(;i+n<s&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<s))break;t[i]=t[i+n]}}t.length=s-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const s of t)s.onCommitted();this._observers=null}}};const Ya=j();var O;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(O||(O={}));const z0=O.USER+1;function vi(e){switch(e){case"defaults":return O.DEFAULTS;case"service":return O.SERVICE;case"portal-item":return O.PORTAL_ITEM;case"web-scene":return O.WEB_SCENE;case"web-map":return O.WEB_MAP;case"link-chart":return O.LINK_CHART;case"user":return O.USER;default:return null}}function Wr(e){switch(e){case O.DEFAULTS:return"defaults";case O.SERVICE:return"service";case O.PORTAL_ITEM:return"portal-item";case O.WEB_SCENE:return"web-scene";case O.WEB_MAP:return"web-map";case O.LINK_CHART:return"link-chart";case O.USER:return"user"}}function Qa(e){return Wr(e)}const k={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let _r=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach((t=>{this._handles.push(t.observe(this._observer))})),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Yt=new _r,nt=[];let lt=Yt;function vr(e){lt.onAccessed(e)}let Ut=!1,It=!1;function Ee(e,t,s){if(Ut)return ks(e,t,s);let n=null;return wi(e),n=t.call(s),bi(),n}function Ka(e,t){return Ee(Yt,e,t)}function ks(e,t,s){const n=Ut;Ut=!0,wi(e);let i=null;try{i=t.call(s)}catch(o){It&&F.getLogger("esri.core.accessorSupport.tracking").error(o)}return bi(),Ut=n,i}function wi(e){lt=e,nt.push(e)}function bi(){const e=nt.length;if(e>1){const t=nt.pop();lt=nt[e-2],t.onTrackingEnd()}else if(e===1){const t=nt.pop();lt=Yt,t.onTrackingEnd()}else lt=Yt}function Pi(e,t){if(t.flags&k.DepTrackingInitialized)return;t.flags|=k.DepTrackingInitialized;const s=It;It=!1,t.flags&k.AutoTracked?ks(t.trackingTarget,t.metadata.get,e):Si(e,t),It=s}const Za=[];function Si(e,t){t.flags&k.ExplicitlyTracking||(t.flags|=k.ExplicitlyTracking,ks(t.trackingTarget,(()=>{const s=t.metadata.dependsOn||Za;for(const n of s)if(typeof n!="string"||n.includes(".")){const i=mi(n);for(let o=0,a=e;o<i.length&&a!=null&&typeof a=="object";++o)a=ln(a,i[o],o!==i.length-1)}else ln(e,n,!1)})),t.flags&=-129)}function ln(e,t,s){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const i=et(e);if(i){const o=i.propertiesByName.get(n);o&&(vr(o),Pi(e,o))}return s?e[n]:void 0}let un=class extends Va{constructor(t,s){super(),this.propertyName=t,this.metadata=s,this.trackingTarget=new _r(this),this.flags=0,this.flags=k.Dirty|(s.nonNullable?k.NonNullable:0)|(s.hasOwnProperty("value")?k.HasDefaultValue:0)|(s.get===void 0?k.DepTrackingInitialized:0)|(s.dependsOn===void 0?k.AutoTracked:0)}destroy(){this.flags&k.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&vr(this);const s=t.store,n=this.propertyName,i=this.flags,o=s.get(n);if(i&k.Computing||~i&k.Dirty&&s.has(n))return o;this.flags|=k.Computing;const a=t.host;let u;i&k.AutoTracked?u=Ee(this.trackingTarget,this.metadata.get,a):(Si(a,this),u=this.metadata.get.call(a)),this.flags|=k.DepTrackingInitialized,s.set(n,u,O.COMPUTED);const c=s.get(n);return c===o?this.flags&=-2:Ka(this.commit,this),this.flags&=-5,c}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&k.Overridden&&(this.flags|=k.Dirty);const t=this._observers;if(t&&t.length>0)for(const s of t)s.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const s=t.slice();for(const n of s)n.onCommitted()}}},Xa=class $i{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const s=new $i;return this._values.forEach(((n,i)=>{t&&t.has(i)||s.set(i,x(n))})),s}get(t){return this._values.get(t)}originOf(){return O.USER}keys(){return[...this._values.keys()]}set(t,s){this._values.set(t,s)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,s){return this.has(t)}isBelowOrigin(t,s){return!this.has(t)}forEach(t){this._values.forEach(t)}};function Fe(e,t,s){return e!==void 0}function cn(e,t,s,n){return e!==void 0&&(!(s==null&&e.flags&k.NonNullable)||(n.lifecycle,!1))}let el=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=H.INITIALIZING,this.store=new Xa,this.mutable=!0,this._origin=O.USER;const s=this.host.constructor.__accessorMetadata__;for(const n in s){const i=new un(n,s[n]);this.propertiesByName.set(n,i)}this.metadata=s}initialize(){this.lifecycle=H.CONSTRUCTING}constructed(){this.lifecycle=H.CONSTRUCTED}destroy(){this.lifecycle=H.DESTROYED,this.propertiesByName.forEach((t=>t.destroy()))}get initialized(){return this.lifecycle!==H.INITIALIZING}get(t){const s=this.propertiesByName.get(t);if(!Fe(s))return;if(s.metadata.get)return s.getComputed(this);this.mutable&&vr(s);const n=this.store;return n.has(t)?n.get(t):s.metadata.value}originOf(t){const s=this.store.originOf(t);if(s===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&k.HasDefaultValue)return"defaults"}return Wr(s)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const s=this.propertiesByName.get(t);if(Fe(s))return this.store.has(t)?this.store.get(t):s.metadata.value}internalSet(t,s){const n=this.propertiesByName.get(t);Fe(n)&&this._internalSet(n,s)}getDependsInfo(t,s,n){const i=this.propertiesByName.get(s);if(!Fe(i))return"";const o=new _r,a=Ee(o,(()=>i.metadata.get?.call(t)));let u=`${n}${t.declaredClass.split(".").pop()}.${s}: ${a}
`;const c=o.accessed??new Set;if(c.size===0)return u;n+="  ";for(const f of c)f instanceof un&&(u+=`${n}${f.propertyName}: undefined
`);return u}setAtOrigin(t,s,n){const i=this.propertiesByName.get(t);if(Fe(i))return this._setAtOrigin(i,s,n)}isOverridden(t){const s=this.propertiesByName.get(t);return s!==void 0&&!!(s.flags&k.Overridden)}clearOrigin(t,s){const n=this.store,i=this.propertiesByName.get(t);if(!Fe(i))return;const o=n.isAtOrigin(t,s)&&!(i.flags&k.Overridden);n.delete(t,s),o&&i.notifyChange()}clearOverride(t){const s=this.propertiesByName.get(t);s&&s.flags&k.Overridden&&(s.flags&=-3,s.notifyChange())}override(t,s){const n=this.propertiesByName.get(t);if(!cn(n,t,s,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,s),{valid:a,value:u}=o;if(xr.release(o),!a)return;s=u}n.flags|=k.Overridden,this._internalSet(n,s)}set(t,s){const n=this.propertiesByName.get(t);if(!cn(n,t,s,this))return;const i=n.metadata.cast;if(i){const a=this._cast(i,s),{valid:u,value:c}=a;if(xr.release(a),!u)return;s=c}const o=n.metadata.set;o?o.call(this.host,s):this._internalSet(n,s)}setDefaultOrigin(t){this._origin=vi(t)}getDefaultOrigin(){return Wr(this._origin)}notifyChange(t){const s=this.propertiesByName.get(t);s!==void 0&&s.notifyChange()}invalidate(t){const s=this.propertiesByName.get(t);s!==void 0&&s.invalidate()}commit(t){const s=this.propertiesByName.get(t);s!==void 0&&s.commit()}_internalSet(t,s){const n=this.lifecycle!==H.INITIALIZING?this._origin:O.DEFAULTS;this._setAtOrigin(t,s,n)}_setAtOrigin(t,s,n){const i=this.store,o=t.propertyName;if(i.isAtOrigin(o,n)&&Ss(s,i.get(o))&&~t.flags&k.Overridden)return;const a=i.isBelowOrigin(o,n)||i.isAtOrigin(o,n);a&&t.invalidate(),i.set(o,s,n),a&&t.commit(),Pi(this.host,t)}_cast(t,s){const n=xr.acquire();return n.valid=!0,n.value=s,t&&(n.value=t.call(this.host,s,n)),n}},tl=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const xr=new xs(tl);function Qt(e,t,s){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))Qt(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),o=i.splice(-1,1)[0];return void Qt(Ye(e,i),o,s)}const n=e.__accessor__;n!=null&&rl(t,n),e[t]=s}}function rl(e,t){if(D("esri-unknown-property-errors")&&!sl(e,t))throw new T("set:unknown-property",nl(e,t))}function sl(e,t){return t.metadata[e]!=null}function nl(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let il;function ol(){return il}var pn;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(pn||(pn={}));let al=class extends xs{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const s=super.acquire(...t);return this._set.delete(s),s}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const xt=[];function Ei(e){xt.push(e),xt.length===1&&queueMicrotask((()=>{const t=xt.slice();xt.length=0;for(const s of t)s()}))}let Oi=class{constructor(t,s=30){this.name=t,this._counter=0,this._samples=new Array(s)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort(((t,s)=>t-s))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((t,s)=>t+s),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var Jr;(function(e){const t=(o,a,u,c)=>{let f=a,d=a;const y=u>>>1,_=o[f-1];for(;d<=y;){d=f<<1,d<u&&c(o[d-1],o[d])<0&&++d;const g=o[d-1];if(c(g,_)<=0)break;o[f-1]=g,f=d}o[f-1]=_},s=(o,a)=>o<a?-1:o>a?1:0;function n(o,a,u,c){a===void 0&&(a=0),u===void 0&&(u=o.length),c===void 0&&(c=s);for(let d=u>>>1;d>a;d--)t(o,d,u,c);const f=a+1;for(let d=u-1;d>a;d--){const y=o[a];o[a]=o[d],o[d]=y,t(o,f,d,c)}}function*i(o,a,u,c){a===void 0&&(a=0),u===void 0&&(u=o.length),c===void 0&&(c=s);for(let d=u>>>1;d>a;d--)t(o,d,u,c),yield;const f=a+1;for(let d=u-1;d>a;d--){const y=o[a];o[a]=o[d],o[d]=y,t(o,f,d,c),yield}}e.sort=n,e.iterableSort=i})(Jr||(Jr={}));const fn=Jr,ll=1.5,ul=1.1;let Ti=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Co,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>hn(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const s=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&s.push(i)}return s}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,s){const n=this.data.indexOf(t,s);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let s=t;s<this._length;++s)this.data[s]=this._deallocator(this.data[s]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,s=t.length){for(let n=0;n<s;n++)this.data[this._length++]=t[n]}fill(t,s){for(let n=0;n<s;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,hn(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const s=Bs(this.data,Ls(t),this.length,this._hint);if(s!==-1)return this.data.splice(s,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(Bs(this.data,Ls(t),this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,s=t.length,n){this.length=Ro(this.data,t,this.length,s,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,s){if(t>=this.length||s>=this.length||t===s)return;const n=this.data[t];this.data[t]=this.data[s],this.data[s]=n}sort(t){fn.sort(this.data,0,this.length,t)}iterableSort(t){return fn.iterableSort(this.data,0,this.length,t)}some(t,s){for(let n=0;n<this.length;++n)if(t.call(s,this.data[n],n,this.data))return!0;return!1}find(t,s){const{data:n,length:i}=this;for(let o=0;o<i;++o)if(t.call(s,n[o]))return n[o]}filterInPlace(t,s){let n=0;for(let i=0;i<this._length;++i){const o=this.data[i];t.call(s,o,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=o,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,s){const{data:n,length:i}=this;for(let o=0;o<i;++o)t.call(s,n[o],o,n)}forEach(t,s){this.data.slice(0,this.length).forEach(t,s)}map(t,s){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(s,this.data[i],i,this.data);return n}reduce(t,s){let n=s;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const s=this.length,n=this.data;for(let i=0;i<s;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function hn(e){e.data.length>ll*e.length&&(e.data.length=Math.floor(e.length*ul))}function K0(e){return e}function Z0(e){return 1e3*e}function X0(e){return e}function ep(e){return .001*e}let cl=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},pl=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Hr=0;const rt={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Vr=["prepare","preRender","render","postRender","update","finish"],Yr=[],Ue=new Ti;let fl=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,xi()}};function hl(){Me!=null&&(cancelAnimationFrame(Me),Me=requestAnimationFrame(Ms))}function xi(){Me==null&&(Hr=performance.now(),Me=requestAnimationFrame(Ms))}const Kt={frameTasks:Ue,willDispatch:!1,clearFrameTasks:ml,dispatch:ki,executeFrameTasks:yl,reschedule:hl};function dl(e){const t=new pl(e);return Yr.push(t),Kt.willDispatch||(Kt.willDispatch=!0,Ei(ki)),t}function np(e){const t=new cl(e);return Ue.push(t),xi(),new fl(t)}let Me=null;function ml(e=!1){Ue.forAll((t=>{t.removed=!0})),e&&Ai()}function Ms(){const e=performance.now();Me=null,Me=Ue.some((s=>!s.paused&&!s.removed))?requestAnimationFrame(Ms):null,Kt.executeFrameTasks(e)}function yl(e){const t=e-Hr;Hr=e;const s=1e3/60,n=Math.max(0,t-s);rt.time=e,rt.frameDuration=s-n;for(let i=0;i<Vr.length;i++){const o=performance.now(),a=Vr[i];Ue.forAll((u=>{u.paused||u.removed||(i===0&&u.ticks++,u.phases[a]&&(rt.elapsedFrameTime=performance.now()-e,rt.deltaTime=u.ticks===0?0:t,u.phases[a]?.call(u,rt)))})),vl[i].push(performance.now()-o)}Ai(),wl.push(performance.now()-e)}const At=new Ti;function Ai(){Ue.forAll((e=>{e.removed&&At.push(e)})),Ue.removeUnorderedMany(At.data,At.length),At.clear()}function ki(){for(;Yr.length;){const e=Yr.shift();e.isActive&&e.callback()}Kt.willDispatch=!1}function gl(e=1,t){const s=ft(),n=()=>{Re(t)?s.reject(Z()):e===0?s():(--e,Ei((()=>n())))};return n(),s.promise}function _l(e){return gl(1,e)}async function ip(e){await _l(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))}const vl=Vr.map((e=>new Oi(e))),wl=new Oi("total");function bl(e,t){for(const s of e.values())if(t(s))return!0;return!1}function dn(e,t){if(!t)return e;for(const s of t)s!=null&&e.add(s);return e}function op(e,t){return t!=null&&e.add(t),e}function Pl(e,t){const s=new Set;return dn(s,e),dn(s,t),s}function Sl(e,t){const s=new Set;for(const n of t)e.has(n)&&s.add(n);return s}function ap(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const s of e)if(!t.has(s))return!1;return!0}function lp(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}function $l(e,t){const s=new Set(e);for(const n of t)s.delete(n);return s}function up(e,t){return $l(Pl(e,t),Sl(e,t))}let El=0;function Ar(){return++El}let Ns=class extends _r{constructor(t){super(new Ol(t)),this._observer&&mn.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&mn.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Ol=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Tl}};const mn=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function Tl(){}let He=!1;const Zt=[];function Mi(e,t){let s=new Ns(o),n=null,i=!1;function o(){if(!s||i)return;if(He)return void Ci(o);const u=n;s.clear(),He=!0,i=!0,n=Ee(s,e),i=!1,He=!1,t(n,u),Ri()}function a(){s&&(s.destroy(),s=null,n=null)}return i=!0,n=Ee(s,e),i=!1,j(a)}function Ni(e,t){let s=new Ns(i),n=null;function i(){t(n,a)}function o(){s&&(s.destroy(),s=null),n=null}function a(){return s?(s.clear(),n=Ee(s,e),n):null}return a(),j(o)}function fp(e,t){let s=!1,n=!1;const i=!!t?.sync;let o=new Ns((()=>{s||n||(n=!0,i?a():queueMicrotask(a))}));function a(){n=!1,o&&!s&&(He?Ci(a):(o.clear(),He=!0,s=!0,Ee(o,e),s=!1,He=!1,Ri()))}function u(){o&&(o.destroy(),o=null)}return s=!0,Ee(o,e),s=!1,j(u)}function Ci(e){Zt.includes(e)||Zt.unshift(e)}function Ri(){for(;Zt.length;)Zt.pop()()}var ut;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(ut||(ut={}));var Ce;let Cs=(Ce=class{constructor(){this.uid=Ar(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,s,n,i,o){return this.pool.acquire(ut.Untracked,t,s,n,i,o,Ss)}static acquireTracked(t,s,n,i){return this.pool.acquire(ut.Tracked,t,s,n,null,null,i)}notify(t,s){this.type===ut.Untracked?this.callback.call(this.target,t,s,this.path,this.target):this.callback.call(null,t,s,void 0,void 0)}acquire(t,s,n,i,o,a,u){this.uid=Ar(),this.removed=!1,this.type=t,this.oldValue=s,this.callback=n,this.getValue=i,this.target=o,this.path=a,this.equals=u}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ar(),this.removed=!0}},Ce.pool=new al(Ce),Ce);const Dt=new hi,ge=new Set;let Xt;function er(e){ge.delete(e),ge.add(e),Xt||(Xt=dl(kl))}function xl(e){if(e.removed)return;const t=e.oldValue,s=e.getValue();e.equals(t,s)||(e.oldValue=s,e.notify(s,t))}function Al(e){for(const t of ge.values())t.target===e&&(t.removed=!0)}function kl(){let e=10;for(;Xt&&e--;){Xt=null;const t=Ml(),s=Dt.acquire();for(const n of t){const i=n.uid;xl(n),i===n.uid&&n.removed&&s.push(n)}for(const n of ge)n.removed&&(s.push(n),ge.delete(n));for(const n of s)Cs.pool.release(n);Dt.release(s),Dt.release(t),Qr.forEach((n=>n()))}}function Ml(){const e=Dt.acquire();e.length=ge.size;let t=0;for(const s of ge)e[t]=s,++t;return ge.clear(),e}const Qr=new Set;function hp(e){return Qr.add(e),j((()=>Qr.delete(e)))}function Nl(e,t,s){let n=yi(e,t,s,((i,o,a)=>{let u,c,f=Ni((()=>Pt(i,o)),((d,y)=>{i.__accessor__?.lifecycle===H.DESTROYED||u&&u.uid!==c?n.remove():(u||(u=Cs.acquireUntracked(d,a,y,i,o),c=u.uid),er(u))}));return j((()=>{f.remove(),u&&(u.uid!==c||u.removed||(u.removed=!0,er(u)),u=null),n=f=null}))}));return n}function Cl(e,t,s){const n=yi(e,t,s,((i,o,a)=>{let u=!1;return Mi((()=>Pt(i,o)),((c,f)=>{i.__accessor__.lifecycle!==H.DESTROYED?u||(u=!0,Ss(f,c)||a.call(i,c,f,o,i),u=!1):n.remove()}))}));return n}function Rl(e,t,s,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==H.DESTROYED?n?Cl(e,t,s):Nl(e,t,s):j()}function Ul(e,t,s){let n,i,o=Ni(e,((a,u)=>{n&&n.uid!==i?o.remove():(n||(n=Cs.acquireTracked(a,t,u,s),i=n.uid),er(n))}));return j((()=>{o.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,er(n)),n=null),o=null}))}function Il(e,t,s){let n=!1;return Mi(e,((i,o)=>{n||(n=!0,s(o,i)||t(i,o),n=!1)}))}function dp(e,t,s=!1,n=Uo){return s?Il(e,t,n):Ul(e,t,n)}function mp(e){return bl(ge,(t=>t.oldValue===e))}const Ne=()=>F.getLogger("esri.core.accessorSupport.ensureTypes");function Dl(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(Ne().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function Gl(e){return e==null?e:!!e}function jl(e){return e==null?e:e.toString()}function Ui(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function ql(e){return e==null?e:Math.round(parseFloat(e))}function Bl(e){return null}function Ll(e,t){return s=>{let n=e(s);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function Ii(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function tr(e,t){return t!=null&&e&&!(t instanceof e)}function Di(e){return e&&"isCollection"in e}function yn(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function zl(e,t){if(!t?.constructor||!Di(t.constructor))return Kr(e,t)?t:new e(t);const s=yn(e.prototype.itemType),n=yn(t.constructor.prototype.itemType);return s?n?s===n?t:s.prototype.isPrototypeOf(n.prototype)?new e(t):(Kr(e,t),t):new e(t):t}function Kr(e,t){return!!Ii(t)&&(Ne().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+wr(e)+"'"),!0)}function Gi(e,t){return t==null?t:Di(e)?zl(e,t):tr(e,t)?Kr(e,t)?t:new e(t):t}function wr(e){return e?.prototype?.declaredClass||"unknown"}const Fl=new WeakMap;function Wl(e){switch(e){case Number:return t=>Ui(t);case Ae:return ql;case Boolean:return Gl;case String:return jl;case Date:return Dl;case Rs:return Bl;default:return Jn(Fl,e,(()=>Gi.bind(null,e)))}}function pe(e,t){const s=Wl(e);return arguments.length===1?s:s(t)}function dt(e,t,s){return arguments.length===1?dt.bind(null,e):t&&(Array.isArray(t)?t.map((n=>e(n,s))):[e(t,s)])}function Jl(e,t){return arguments.length===1?dt((s=>pe(e,s))):dt((s=>pe(e,s)),t)}function ji(e,t,s){return t!==0&&Array.isArray(s)?s.map((n=>ji(e,t-1,n))):e(s)}function rr(e,t,s){if(arguments.length===2)return o=>rr(e,t,o);if(!s)return s;s=ji(e,t,s);let n=t,i=s;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let o=0;o<n;o++)s=[s];return s}function Hl(e,t,s){return arguments.length===2?rr((n=>pe(e,n)),t):rr((n=>pe(e,n)),t,s)}function qi(e){return!!Array.isArray(e)&&!e.some((t=>{const s=typeof t;return!(s==="string"||s==="number"||s==="function"&&e.length>1)}))}function Zr(e,t){if(arguments.length===2)return Zr(e).call(null,t);const s=new Set,n=e.filter((u=>typeof u!="function")),i=e.filter((u=>typeof u=="function"));for(const u of e)typeof u!="string"&&typeof u!="number"||s.add(u);let o=null,a=null;return(u,c)=>{if(u==null)return u;const f=typeof u,d=f==="string"||f==="number";return d&&(s.has(u)||i.some((y=>f==="string"&&y===String||f==="number"&&y===Number)))||f==="object"&&i.some((y=>!tr(u,y)))?u:(d&&n.length?(o||(o=n.map((y=>typeof y=="string"?`'${y}'`:`${y}`)).join(", ")),Ne().error("Accessor#set",`'${u}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof u=="object"&&i.length?(a||(a=i.map((y=>wr(y))).join(", ")),Ne().error("Accessor#set",`'${u}' is not a valid value for this property, value must be one of ${a}`)):Ne().error("Accessor#set",`'${u}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Xr(e,t){if(arguments.length===2)return Xr(e).call(null,t);const s={},n=[],i=[];for(const c in e.typeMap){const f=e.typeMap[c];s[c]=pe(f),n.push(wr(f)),i.push(c)}const o=()=>`'${n.join("', '")}'`,a=()=>`'${i.join("', '")}'`,u=typeof e.key=="string"?c=>c[e.key]:e.key;return c=>{if(e.base&&!tr(e.base,c)||c==null)return c;const f=u(c)||e.defaultKeyValue,d=s[f];if(!d)return Ne().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!tr(e.typeMap[f],c))return c;if(typeof e.key=="string"&&!Ii(c)){const y={};for(const _ in c)_!==e.key&&(y[_]=c[_]);return d(y)}return d(c)}}let Ae=class{},Rs=class{};const _p={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Vl(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Bi(e){switch(e.type){case"native":return pe(e.value);case"array":return dt(Bi(e.value));case"one-of":return Yl(e);default:return null}}function Yl(e){let t=null;return(s,n)=>ts(s,e)?s:(t==null&&(t=es(e)),Ne().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function es(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ae:return"integer";case Date:return"date";case Rs:return"null";default:return wr(e.value)}case"array":return`array of ${es(e.value)}`;case"one-of":{const t=e.values.map((s=>es(s)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function ts(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Ae:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Rs:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((s=>!ts(s,t.value)));case"one-of":return t.values.some((s=>ts(e,s)))}}function h(e={}){return(t,s)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${s}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,s),i=gr(t,s);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&F.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const o=e.aliasOf;if(o){const c=typeof o=="string"?o:o.source,f=typeof o=="string"?null:o.overridable===!0;let d;i.dependsOn=[c],i.get=function(){let y=Ye(this,c);if(typeof y=="function"){d||(d=c.split(".").slice(0,-1).join("."));const _=Ye(this,d);_&&(y=y.bind(_))}return y},i.readOnly||(i.set=f?function(y){this._override(s,y)}:function(y){Qt(this,c,y)})}const a=e.type,u=e.types;if(!i.cast){let c;a?c=Ql(a):u&&(c=Array.isArray(u)?dt(Xr(u[0])):Xr(u)),e.cast=Kl(e.cast,c)}Fa(i,e),e.range&&(i.cast=Ll(i.cast,e.range))}}function Li(e,t,s){const n=gr(e,s);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function Ql(e){let t=0,s=e;if(Vl(e))return Bi(e);for(;Array.isArray(s)&&s.length===1&&typeof s[0]!="string"&&typeof s[0]!="number";)s=s[0],t++;const n=s;if(qi(n))return t===0?Zr(n):rr(Zr(n),t);if(t===1)return Jl(n);if(t>1)return Hl(n,t);const i=e;return i.from?i.from:pe(i)}function Kl(e,t){if(e||t)return e?t?(s,n)=>t(e(s,n),n):e:t}function Zl(e){if(e.json&&e.json.origins){const t=e.json.origins,s={"web-document":["web-scene","web-map"]};for(const n in s)if(t[n]){const i=t[n];s[n].forEach((o=>{t[o]=i})),delete t[n]}}}let Us=class extends Jo{constructor(t,s,n){super(t,s,n)}};Us.prototype.type="warning";function zi(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const rs=()=>F.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function gn(e,t,s){e&&(!s&&!t.read||t.read?.reader||t.read?.enabled===!1||ru(e)&&wt("read.reader",Xl(e),t))}function Xl(e){const t=e.ndimArray??0;if(t>1)return tu(e);if(t===1)return _n(e);if("type"in e&&Wi(e.type)){const s=e.type.prototype?.itemType?.Type,n=_n(typeof s=="function"?{type:s}:{types:s});return(i,o,a)=>{const u=n(i,o,a);return u&&new e.type(u)}}return Is(e)}function Is(e){return"type"in e?eu(e.type):su(e.types)}function eu(e){return e.prototype.read?(t,s,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void rs().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,n),o}:e.fromJSON}function Fi(e,t,s,n){return n!==0&&Array.isArray(t)?t.map((i=>Fi(e,i,s,n-1))):e(t,void 0,s)}function tu(e){const t=Is(e),s=Fi.bind(null,t),n=e.ndimArray??0;return(i,o,a)=>{if(i==null)return i;i=s(i,a,n);let u=n,c=i;for(;u>0&&Array.isArray(c);)u--,c=c[0];if(c!==void 0)for(let f=0;f<u;f++)i=[i];return i}}function _n(e){const t=Is(e);return(s,n,i)=>{if(s==null)return s;if(Array.isArray(s)){const a=[];for(const u of s){const c=t(u,void 0,i);c!==void 0&&a.push(c)}return a}const o=t(s,void 0,i);return o!==void 0?[o]:void 0}}function Wi(e){if(!zi(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?Ds(t.Type):Ji(t.Type))}function ru(e){return"types"in e?Ji(e.types):Ds(e.type)}function Ds(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Wi(e))}function Ji(e){for(const t in e.typeMap)if(!Ds(e.typeMap[t]))return!1;return!0}function su(e){let t=null;const s=e.errorContext??"type",n=e.validate;return(i,o,a)=>{if(i==null)return i;const u=typeof i;if(u!=="object")return void rs().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=nu(e));const c=e.key;if(typeof c!="string")return;const f=i[c],d=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const _=`Type '${f||"unknown"}' is not supported`;return a?.messages&&i&&a.messages.push(new Us(`${s}:unsupported`,_,{definition:i,context:a})),void rs().error(_)}const y=new d;return y.read(i,a),n?n(y):y}}function nu(e){const t={};for(const s in e.typeMap){const n=e.typeMap[s],i=St(n.prototype);if(typeof e.key=="function")continue;const o=i[e.key];if(!o)continue;if(o.json?.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"){t[o.json.type[0]]=n;continue}const a=o.json?.write;if(!a?.writer){t[s]=n;continue}const u=a.target,c=typeof u=="string"?u:e.key,f={};a.writer(s,f,c),f[c]&&(t[f[c]]=n)}return t}function iu(e){if(e.json||(e.json={}),wn(e.json),bn(e.json),vn(e.json),e.json.origins)for(const t in e.json.origins)wn(e.json.origins[t]),bn(e.json.origins[t]),vn(e.json.origins[t]);return!0}function vn(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function wn(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function bn(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function Pn(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const s=e?.ndimArray??0;e&&(s===1||"type"in e&&zi(e.type))?t.write.writer=uu:s>1?t.write.writer=cu(s):t.types?Array.isArray(t.types)?t.write.writer=au(t.types[0]):t.write.writer=ou(t.types):t.write.writer=mt}function ou(e){return(t,s,n,i)=>t?Hi(t,e,i)?mt(t,s,n,i):void 0:mt(t,s,n,i)}function Hi(e,t,s){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(s?.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;s&&s.messages&&e&&s.messages.push(new T(`${n}:unsupported`,i,{definition:e,context:s})),F.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function au(e){return(t,s,n,i)=>!t||!Array.isArray(t)?mt(t,s,n,i):mt(t.filter((o=>Hi(o,e,i))),s,n,i)}function mt(e,t,s,n){wt(s,sr(e,n),t)}function sr(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?lu(e):e}function lu(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function uu(e,t,s,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map((o=>sr(o,n))),typeof i.toArray=="function"&&(i=i.toArray())):i=[sr(e,n)],wt(s,i,t)}function Vi(e,t,s){return s!==0&&Array.isArray(e)?e.map((n=>Vi(n,t,s-1))):sr(e,t)}function cu(e){return(t,s,n,i)=>{let o;if(t===null)o=null;else{o=Vi(t,i,e);let a=e,u=o;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(u!==void 0)for(let c=0;c<a;c++)o=[o]}wt(n,o,s)}}function pu(e,t){return Gs(e,"any",t?.origin)}function ss(e,t){return Gs(e,"read",t?.origin)}function Yi(e,t){return Gs(e,"write",t?.origin)}function Gs(e,t,s){let n=e?.json;if(n?.origins&&s){let i;i=s==="link-chart"?n.origins[s]&&(t==="any"||t in n.origins[s])?n.origins[s]:n.origins["web-map"]:n.origins[s],i&&(t==="any"||t in i)&&(n=i)}return n}function fu(e){const t=hu(e);if(e.json.origins)for(const s in e.json.origins){const n=e.json.origins[s],i=n.types?du(n):t;gn(i,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),Pn(i,n)}gn(t,e.json,!0),Pn(t,e.json)}function hu(e){return e.json.types?ns(e.json):e.type?Qi(e):ns(e)}function du(e){return e.type?Qi(e):ns(e)}function Qi(e){if(!e.type)return;let t=0,s=e.type;for(;Array.isArray(s)&&!qi(s);)s=s[0],t++;return{type:s,ndimArray:t}}function ns(e){if(!e.types)return;let t=0,s=e.types;for(;Array.isArray(s);)s=s[0],t++;return{types:s,ndimArray:t}}function mu(e){iu(e)&&(Zl(e),fu(e))}const kr=new Set,Mr=new Set;function I(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,gu(t);const s=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!kr.has(i.initialize)&&(kr.add(i.initialize),s.push(i.initialize)),i.hasOwnProperty("destroy")&&!Mr.has(i.destroy)&&(Mr.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);kr.clear(),Mr.clear();const o=class extends t{constructor(...u){if(super(...u),this.constructor===o&&typeof this.postscript=="function"){if(s.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=s.length-1;c>=0;c--)s[c].call(this)}}),n.length){let c=!1;const f=this[di];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){this.__accessor__.lifecycle=H.DESTROYING,c=!0,f.call(this);for(let d=0;d<n.length;d++)n[d].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};o.__accessorMetadata__=St(t.prototype),o.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:a,configurable:!0}),o}}function yu(e,t){return t.get==null?function(){const s=this.__accessor__,n=s.propertiesByName.get(e);if(n===void 0)return;s.mutable&&vr(n);const i=s.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const s=this.__accessor__,n=s.propertiesByName.get(e);if(n!==void 0)return n.getComputed(s)}}function gu(e){const t=e.prototype,s=St(t),n={};for(const i of Object.getOwnPropertyNames(s)){const o=s[i];mu(o),n[i]={enumerable:!0,configurable:!0,get:yu(i,o),set(a){const u=this.__accessor__;if(u!==void 0){if(u.mutable)return u.initialized&&o.readOnly?Sn("read-only",i):u.lifecycle===H.CONSTRUCTED&&o.constructOnly?Sn("construct-only",i):void u.set(i,a)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,n)}const Sn=(e,t)=>{F.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var $n,En;function _u(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const _e=Symbol("Accessor-Handles"),Nr=Symbol("Accessor-Initialized");var $e;let ne=($e=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:s,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class a extends o{constructor(...c){super(...c),this.inherited=null,i&&i.apply(this,c)}}St(a.prototype);for(const u in t){const c=t[u];a.prototype[u]=typeof c=="function"?function(...f){const d=this.inherited;let y;this.inherited=function(..._){if(o.prototype[u])return o.prototype[u].apply(this,_)};try{y=c.apply(this,f)}catch(_){throw this.inherited=d,_}return this.inherited=d,y}:t[u]}for(const u in s){const c=_u(s[u]);h(c)(a.prototype,u)}return I(n)(a)}static freeze(t){return t instanceof $e?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof $e?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[$n]=null,this[En]=!1,this.constructor===$e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const s=new el(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:s}),t.length>0&&(s.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,s=t.ctorArgs;t.initialize(),s&&(this.set(s),t.ctorArgs=null),t.constructed(),this.initialize(),this[Nr]=!0}initialize(){}[di](){this[_e]=Ct(this[_e])}destroy(){this.destroyed||(Al(this),this.__accessor__.destroy(),ol()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Nr]}get destroyed(){return this.__accessor__?.lifecycle===H.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===H.DESTROYING||!1}commitProperty(t){Ye(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,s){return Qt(this,t,s),this}watch(t,s,n){return Ba(F.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Rl(this,t,s,n)}addHandles(t,s){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[_e]??=new As).add(t,s)}removeHandles(t){this[_e]?.remove(t)}removeAllHandles(){this[_e]?.removeAll()}removeHandlesReference(t){this[_e]?.removeReference(t)}hasHandles(t){return this[_e]?.has(t)===!0}_override(t,s){s===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,s)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,s){s==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,s)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,s){return this.__accessor__.internalSet(t,s),this}},$n=_e,En=Nr,$e),vu=class Ki{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const s=new Ki;return this._values.forEach(((n,i)=>{t&&t.has(i)||s.set(i,x(n.value),n.origin)})),s}get(t,s){s=this._normalizeOrigin(s);const n=this._values.get(t);return s==null||n?.origin===s?n?.value:void 0}originOf(t){return this._values.get(t)?.origin??O.USER}keys(t){t=this._normalizeOrigin(t);const s=[...this._values.keys()];return t==null?s:s.filter((n=>this._values.get(n)?.origin===t))}set(t,s,n){if((n=this._normalizeOrigin(n))===O.DEFAULTS){const i=this._values.get(t);if(i?.origin!=null&&i.origin>n)return}this._values.set(t,new wu(s,n))}delete(t,s){(s=this._normalizeOrigin(s))!=null&&this._values.get(t)?.origin!==s||this._values.delete(t)}has(t,s){return(s=this._normalizeOrigin(s))!=null?this._values.get(t)?.origin===s:this._values.has(t)}isAtOrigin(t,s){return s=this._normalizeOrigin(s),this.has(t,s)&&this.originOf(t)===s}isBelowOrigin(t,s){return s=this._normalizeOrigin(s),!this.has(t)||this.originOf(t)<s}forEach(t){this._values.forEach((({value:s},n)=>t(s,n)))}_normalizeOrigin(t){if(t!=null)return t===O.DEFAULTS?t:O.USER}},wu=class{constructor(t,s){this.value=t,this.origin=s}};function bu(e,t,s){t.keys().forEach((i=>{s.set(i,t.get(i),O.DEFAULTS)}));const n=e.metadata;Object.keys(n).forEach((i=>{e.internalGet(i)&&s.set(i,e.internalGet(i),O.DEFAULTS)}))}function Pu(e,t,s){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&an(n,s))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&an(i,s))return!0;return!1}function Su(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function $u(e,t,s,n,i){let o=ss(t[s],i);Su(o)&&(e[s]=!0);for(const a of Object.getOwnPropertyNames(t))o=ss(t[a],i),Pu(o,s,n)&&(e[a]=!0)}function Eu(e,t,s,n){const i=s.metadata,o=pu(i[t],n),a=o?.default;if(a===void 0)return;const u=typeof a=="function"?a.call(e,t,n):a;u!==void 0&&s.set(t,u)}const Zi={origin:"service"};function Ou(e,t,s=Zi){if(!t||typeof t!="object")return;const n=et(e),i=n.metadata,o={};for(const a of Object.getOwnPropertyNames(t))$u(o,i,a,t,s);n.setDefaultOrigin(s.origin);for(const a of Object.getOwnPropertyNames(o)){const u=ss(i[a],s).read,c=u?.source;let f;f=c&&typeof c=="string"?Pt(t,c):t[a],u?.reader&&(f=u.reader.call(e,f,t,s)),f!==void 0&&n.set(a,f)}if(!s||!s.ignoreDefaults){n.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(i))o[a]||Eu(e,a,n,s)}n.setDefaultOrigin("user")}function bp(e,t,s,n=Zi){const i={...n,messages:[]};s(i),i.messages?.forEach((o=>{o.type!=="warning"||e.loaded?n?.messages&&n.messages.push(o):e.loadWarnings.push(o)}))}function Tu(e,t,s,n,i){const o={};return t.write?.writer?.call(e,n,o,s,i),o}function Xi(e,t,s,n,i,o){if(!n?.write)return!1;const a=Ye(e,s);if(!i&&n.write.overridePolicy){const u=n.write.overridePolicy.call(e,a,s,o??void 0);u!==void 0&&(i=u)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&o?.layerContainerType&&!i.layerContainerTypes.includes(o.layerContainerType))return!1;if((a===null&&!i.allowNull&&!i.writerEnsuresNonNull||a===void 0)&&i.isRequired){const u=new T("web-document-write:property-required",`Missing value for required property '${s}' on '${e.declaredClass}'`,{propertyName:s,target:e});return u&&o?.messages?o.messages.push(u):u&&!o&&F.getLogger("esri.core.accessorSupport.write").error(u.name,u.message),!1}return!(a===void 0||a===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(s)===O.DEFAULTS)&&xu(e,s,o,n,a)||!i.ignoreOrigin&&o?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(s)<vi(o.origin))}function xu(e,t,s,n,i){const o=n.default;if(o===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof o=="function"){if(Array.isArray(i)){const a=o.call(e,t,s??void 0);return Io(a,i)}return!1}return o===i}function Pp(e,t,s,n){const i=et(e),o=i.metadata,a=Yi(o[t],n);return!!a&&Xi(e,i,t,a,s,n)}function Au(e,t,s){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Rt(t,e.toJSON(s));const n=et(e),i=n.metadata;for(const o in i){const a=Yi(i[o],s);if(!Xi(e,n,o,a,void 0,s))continue;const u=Ye(e,o),c=Tu(e,a,a.write&&typeof a.write.target=="string"?a.write.target:o,u,s);Object.keys(c).length>0&&(t=Rt(t,c),s?.resources?.pendingOperations?.length&&s.resources.pendingOperations.push(Promise.all(s.resources.pendingOperations).then((()=>Rt(t,c,(()=>"replace-arrays"))))),s?.writtenProperties&&s.writtenProperties.push({target:e,propName:o,oldOrigin:Qa(n.store.originOf(o)),newOrigin:s.origin}))}return t}const eo=e=>{let t=class extends e{constructor(...s){super(...s);const n=et(this),i=n.store,o=new vu;n.store=o,bu(n,i,o)}read(s,n){Ou(this,s,n)}write(s,n){return Au(this,s??{},n)}toJSON(s){return this.write({},s)}static fromJSON(s,n){return ku.call(this,s,n)}};return t=p([I("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function ku(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const s=new this;return s.read(e,t),s}let it=class extends eo(ne){};it=p([I("esri.core.JSONSupport")],it),(function(e){e.JSONSupportMixin=eo})(it||(it={}));const Le=it;var be;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(be||(be={}));let Mu=class{constructor(){this._resolver=ft(),this._status=be.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=be.RESOLVED,this._cleanUp()}),(()=>{this._status=be.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===be.RESOLVED}isRejected(){return this._status===be.REJECTED}isFulfilled(){return this._status!==be.PENDING}abort(){this._resolver.reject(Z())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=ft(),s=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(s);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()}),(i=>{this.isFulfilled()||this._allPromise!==n||bt(i)||this._resolver.reject(i)})),t.resolve()}};const to=e=>{let t=class extends e{constructor(...s){super(...s),this._promiseProps=new Mu,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,n){return this._promiseProps.promise.then((()=>this)).then(s,n)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in s?s.when():s)}};return t=p([I("esri.core.Promise")],t),t};let ot=class extends to(ne){};ot=p([I("esri.core.Promise")],ot),(function(e){e.EsriPromiseMixin=to})(ot||(ot={}));const Nu="not-loaded",Cu="loading",Ru="failed",On="loaded",ro=e=>{let t=class extends e{constructor(...s){super(...s),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((n=>{const i=this.load.bind(this);this.load=o=>{const a=new Promise(((u,c)=>{const f=oa(o,c);this.destroyed&&c(new T("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(u,c).finally((()=>{f&&f.remove()}))}));if(this.loadStatus===Nu){this._set("loadStatus",Cu);const u=this._loadController=new AbortController;i({signal:u.signal})}return n(),a}}))),this.when((()=>{this._set("loadStatus",On),this._loadController=null}),(n=>{this._set("loadStatus",Ru),this._set("loadError",n),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=na(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===On}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new T("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return p([h({readOnly:!0})],t.prototype,"loaded",null),p([h({readOnly:!0})],t.prototype,"loadError",void 0),p([h({clonable:!1})],t.prototype,"loadStatus",void 0),p([h({type:[Us],readOnly:!0})],t.prototype,"loadWarnings",null),t=p([I("esri.core.Loadable")],t),t};let We=class extends ro(ot){};We=p([I("esri.core.Loadable")],We),(function(e){function t(s){return!(!s||!s.load)}e.LoadableMixin=ro,e.isLoadable=t})(We||(We={}));function is(e,t,s){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],s=t):(i=t,n=Array.isArray(e)?e:[e]),(o,a)=>{const u=o.constructor.prototype;for(const c of n){const f=Li(o,c,i);f.write&&typeof f.write=="object"||(f.write={}),s&&(f.write.target=s),f.write.writer=u[a]}}}let so=class{constructor(t,s={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=s,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Uu(t),this.apiValues=Tn(this._apiToJSON),this.jsonValues=Tn(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,o)=>{const a=this.toJSON(n);a!==void 0&&wt(o,a,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const s=this._apiToJSON[t];return this._options.useNumericKeys?+s:s}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Uu(e){const t={};for(const s in e)t[e[s]]=s;return t}function Tn(e){const t=[];for(const s in e)t.push(s);return t.sort(),t}function br(){return function(e,t){return new so(e,{ignoreUnknown:!0,...t})}}let js=class{constructor(t,s,n,i,o,a){this.semiMajorAxis=t,this.flattening=s,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=o;const u=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*u,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const oe=new js(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),yt=new js(3396190,1/169.8944472236118,23e4,6e4,.111),Pr=new js(1737400,0,0,0,0);function no(e){if(!B.assetsPath)throw F.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new T("assets:path-not-set","config.assetsPath is not set");return Ln(B.assetsPath,e)}let Cr,m=null;function Iu(){return!!m}function Du(){return!!D("esri-wasm")}function Gu(){return Cr||(Cr=V(()=>import("./DzdsRf4N.js"),[],import.meta.url).then((({default:e})=>e({locateFile:t=>no(`esri/geometry/support/${t}`)}))).then((e=>{ao(e)})),Cr)}var os,M;(function(e){function t(o,a,u){m.ensureCache.prepare();const c=xe(u),f=u===c,d=m.ensureFloat64(c),y=m._pe_geog_to_proj(m.getPointer(o),a,d);return y&&Pe(u,a,d,f),y}function s(o,a,u,c){switch(c){case M.PE_TRANSFORM_P_TO_G:return n(o,a,u);case M.PE_TRANSFORM_G_TO_P:return t(o,a,u)}return 0}function n(o,a,u){return i(o,a,u,0)}function i(o,a,u,c){m.ensureCache.prepare();const f=xe(u),d=u===f,y=m.ensureFloat64(f),_=m._pe_proj_to_geog_center(m.getPointer(o),a,y,c);return _&&Pe(u,a,y,d),_}e.geogToProj=t,e.projGeog=s,e.projToGeog=n,e.projToGeogCenter=i})(os||(os={})),(function(e){function t(){e.PE_BUFFER_MAX=m.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=m.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=m.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=m.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=m.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=m.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=m.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=m.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=m.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=m.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=m.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=m.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=m.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=m.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=m.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=m.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=m.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=m.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=m.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=m.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=m.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=m.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=m.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=m.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=m.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=m.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=m.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=m.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=m.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=m.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=m.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=m.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t})(M||(M={}));let io=null;var as;(function(e){const t={},s={},n=g=>{const w=g.getType();switch(w){case M.PE_TYPE_GEOGCS:g=m.castObject(g,m.PeGeogcs);break;case M.PE_TYPE_PROJCS:g=m.castObject(g,m.PeProjcs);break;case M.PE_TYPE_GEOGTRAN:g=m.castObject(g,m.PeGeogtran);break;default:w&M.PE_TYPE_UNIT&&(g=m.castObject(g,m.PeUnit))}return g};function i(){m.PeFactory.prototype.initialize(null)}function o(g){return a(M.PE_TYPE_COORDSYS,g)}function a(g,w){let b=null,S=t[g];if(S||(S={},t[g]=S),S.hasOwnProperty(String(w))&&(b=S[w],m.compare(b,m.NULL)&&(b=null)),!b){const A=m.PeFactory.prototype.factoryByType(g,w);m.compare(A,m.NULL)||(b=n(A),S[w]=b)}return b}function u(g,w){let b=null,S=s[g];if(S||(S={},s[g]=S),S.hasOwnProperty(w)&&(b=S[w],m.compare(b,m.NULL)&&(b=null)),!b){const A=m.PeFactory.prototype.fromString(g,w);m.compare(A,m.NULL)||(b=n(A),S[w]=b)}return b}function c(g){return a(M.PE_TYPE_GEOGCS,g)}function f(g){return a(M.PE_TYPE_GEOGTRAN,g)}function d(g){return m.PeFactory.prototype.getCode(g)}function y(g){return a(M.PE_TYPE_PROJCS,g)}function _(g){return a(M.PE_TYPE_UNIT,g)}e.initialize=i,e.coordsys=o,e.factoryByType=a,e.fromString=u,e.geogcs=c,e.geogtran=f,e.getCode=d,e.projcs=y,e.unit=_})(as||(as={}));let oo=null;var nr,ls,us,cs,ps,fs,ir,hs,or,ar,ds;function ao(e){function t(o,a,u){o[a]=u(o[a])}m=e,M.init(),nr.init(),ir.init(),or.init(),ar.init(),io=class extends m.PeDouble{constructor(o=NaN){super(o)}destroy(){m.destroy(this)}[Symbol.dispose](){this.destroy()}},oo=class extends m.PeGCSExtent{destroy(){m.destroy(this)}[Symbol.dispose](){this.destroy()}};const s=[m.PeAngunit,m.PeDatum,m.PeGeogcs,m.PeGeogtran,m.PeObject,m.PeParameter,m.PePrimem,m.PeProjcs,m.PeSpheroid,m.PeUnit];for(const o of s)t(o.prototype,"getName",(a=>function(){return a.call(this,new Array(M.PE_NAME_MAX))}));for(const o of[m.PeGeogtran,m.PeProjcs])t(o.prototype,"getParameters",(a=>function(){const u=new Array(M.PE_PARM_MAX);let c=a.call(this);for(let f=0;f<u.length;f++){const d=m.getValue(c,"*");u[f]=d?m.wrapPointer(d,m.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return u}));t(m.PeHorizon.prototype,"getCoord",(o=>function(a=!1){const u=this.getSize();if(!u)return null;const c=[];return Pe(c,u,o.call(this),a),c})),t(m.PeGTlistExtendedEntry.prototype,"getEntries",(o=>{const a=m._pe_getPeGTlistExtendedGTsSize();return function(){let u=null;const c=o.call(this);if(!m.compare(c,m.NULL)){u=[c];const f=this.getSteps();if(f>1){const d=m.getPointer(c);for(let y=1;y<f;y++)u.push(m.wrapPointer(d+a*y,m.PeGTlistExtendedGTs))}}return u}}));const n=m._pe_getPeHorizonSize(),i=o=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(o))return a.get(o);let u=null;const c=o.call(this);if(!m.compare(c,m.NULL)){u=[c];const f=c.getNump();if(f>1){const d=m.getPointer(c);for(let y=1;y<f;y++)u.push(m.wrapPointer(d+n*y,m.PeHorizon))}}return a.set(o,u),u};t(m.PeProjcs.prototype,"horizonGcsGenerate",i),t(m.PeProjcs.prototype,"horizonPcsGenerate",i),m.PeObject.prototype.toString=function(o=M.PE_STR_OPTS_NONE){m.ensureCache.prepare();const a=m.getPointer(this),u=m.ensureInt8(new Array(M.PE_BUFFER_MAX));return m.UTF8ToString(m._pe_object_to_string_ext(a,o,u))},m.PeGeogcs.prototype.destroy=function(){this.Delete(),te(this),this.ptr=0},m.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},m.PeProjcs.prototype.destroy=function(){this.Delete(),te(this),this.ptr=0},m.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function te(e){if(!e)return;const t=m.getClass(e);if(!t)return;const s=m.getCache(t);if(!s)return;const n=m.getPointer(e);n&&delete s[n]}function kt(e,t){const s=[],n=new Array(t);for(let i=0;i<e;i++)s.push(m.ensureInt8(n));return s}function xe(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Pe(e,t,s,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=m.getValue(s+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let o=0;o<t;o++)i&&(e[o]=new Array(2)),e[o][0]=m.getValue(s,"double"),e[o][1]=m.getValue(s+Float64Array.BYTES_PER_ELEMENT,"double"),s+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function s(){e.PE_GTLIST_OPTS_COMMON=m.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=m._pe_getPeGTlistExtendedEntrySize()}function n(i,o,a,u,c,f){let d=null;const y=new m.PeInteger(f);try{const _=m.PeGTlistExtended.prototype.getGTlist(i,o,a,u,c,y);if((f=y.val)&&(d=[_],f>1)){const g=m.getPointer(_);for(let w=1;w<f;w++)d.push(m.wrapPointer(g+t*w,m.PeGTlistExtendedEntry))}}finally{m.destroy(y)}return d}e.init=s,e.getGTlist=n})(nr||(nr={})),(function(e){function t(s){if(s?.length){for(const n of s)te(n),n.getEntries().forEach((i=>{te(i);const o=i.getGeogtran();te(o),o.getParameters().forEach(te),[o.getGeogcs1(),o.getGeogcs2()].forEach((a=>{te(a);const u=a.getDatum();te(u),te(u.getSpheroid()),te(a.getPrimem()),te(a.getUnit())}))}));m.PeGTlistExtendedEntry.prototype.Delete(s[0])}}e.destroy=t})(ls||(ls={})),(function(e){function t(s,n,i,o,a){m.ensureCache.prepare();const u=xe(i),c=i===u,f=m.ensureFloat64(u);let d=0;o&&(d=m.ensureFloat64(o));const y=m._pe_geog_to_geog(m.getPointer(s),n,f,d,a);return y&&Pe(i,n,f,c),y}e.geogToGeog=t})(us||(us={})),(function(e){function t(o,a,u,c,f,d,y,_){m.PeLineType.prototype.geodesic_coordinate(o,a,u,c,f,d,y,_)}function s(o,a,u,c,f,d,y,_,g){m.PeLineType.prototype.geodetic_coordinate(o,a,u,c,f,d,y,_,g)}function n(o,a,u,c,f,d,y,_,g,w){m.PeLineType.prototype.geodetic_distance(o,a,u,c,f,d,y,_,g,w)}function i(o,a,u,c,f,d,y,_,g){m.PeLineType.prototype.great_elliptic_distance(o,a,u,c,f,d,y,_,g)}e.geodesicCoordinate=t,e.geodeticCoordinate=s,e.geodeticDistance=n,e.greatEllipticDistance=i})(cs||(cs={})),(function(e){function t(a,u){return m.PeMath.prototype.phi_to_eta(a,u)}function s(a,u){return m.PeMath.prototype.eta_to_phi(a,u)}function n(a,u){return m.PeMath.prototype.phi_to_phig(a,u)}function i(a,u,c){return m.PeMath.prototype.q(a,u,c)}function o(a,u){return m.PeMath.prototype.q90(a,u)}e.phiToEta=t,e.etaToPhi=s,e.phiToPhig=n,e.q=i,e.q90=o})(ps||(ps={})),(function(e){const t=(f,d,y,_,g,w)=>{let b,S;switch(m.ensureCache.prepare(),f){case"dd":b=m._pe_geog_to_dd,S=M.PE_DD_MAX;break;case"ddm":b=m._pe_geog_to_ddm,S=M.PE_DDM_MAX;break;case"dms":b=m._pe_geog_to_dms,S=M.PE_DMS_MAX}let A=0;d&&(A=m.getPointer(d));const q=xe(_),Y=m.ensureFloat64(q),W=kt(y,S),fe=b(A,y,Y,g,m.ensureInt32(W));if(fe)for(let he=0;he<y;he++)w[he]=m.UTF8ToString(W[he]);return fe},s=(f,d,y,_,g)=>{let w;switch(m.ensureCache.prepare(),f){case"dd":w=m._pe_dd_to_geog;break;case"ddm":w=m._pe_ddm_to_geog;break;case"dms":w=m._pe_dms_to_geog}let b=0;d&&(b=m.getPointer(d));const S=_.map((W=>m.ensureString(W))),A=m.ensureInt32(S),q=m.ensureFloat64(new Array(2*y)),Y=w(b,y,A,q);return Y&&Pe(g,y,q),Y};function n(f,d,y,_,g){return t("dms",f,d,y,_,g)}function i(f,d,y,_){return s("dms",f,d,y,_)}function o(f,d,y,_,g){return t("ddm",f,d,y,_,g)}function a(f,d,y,_){return s("ddm",f,d,y,_)}function u(f,d,y,_,g){return t("dd",f,d,y,_,g)}function c(f,d,y,_){return s("dd",f,d,y,_)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=o,e.ddmToGeog=a,e.geogToDd=u,e.ddToGeog=c})(fs||(fs={})),(function(e){function t(){e.PE_MGRS_STYLE_NEW=m.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=m.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=m.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=m.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=m.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function s(i,o,a,u,c,f,d){m.ensureCache.prepare();let y=0;i&&(y=m.getPointer(i));const _=xe(a),g=m.ensureFloat64(_),w=kt(o,M.PE_MGRS_MAX),b=m.ensureInt32(w),S=m._pe_geog_to_mgrs_extended(y,o,g,u,c,f,b);if(S)for(let A=0;A<o;A++)d[A]=m.UTF8ToString(w[A]);return S}function n(i,o,a,u,c){m.ensureCache.prepare();let f=0;i&&(f=m.getPointer(i));const d=a.map((w=>m.ensureString(w))),y=m.ensureInt32(d),_=m.ensureFloat64(new Array(2*o)),g=m._pe_mgrs_to_geog_extended(f,o,y,u,_);return g&&Pe(c,o,_),g}e.init=t,e.geogToMgrsExtended=s,e.mgrsToGeogExtended=n})(ir||(ir={})),(function(e){function t(n,i,o,a,u,c,f){m.ensureCache.prepare();let d=0;n&&(d=m.getPointer(n));const y=xe(o),_=m.ensureFloat64(y),g=kt(i,M.PE_MGRS_MAX),w=m.ensureInt32(g),b=m._pe_geog_to_usng(d,i,_,a,u,c,w);if(b)for(let S=0;S<i;S++)f[S]=m.UTF8ToString(g[S]);return b}function s(n,i,o,a){m.ensureCache.prepare();let u=0;n&&(u=m.getPointer(n));const c=o.map((_=>m.ensureString(_))),f=m.ensureInt32(c),d=m.ensureFloat64(new Array(2*i)),y=m._pe_usng_to_geog(u,i,f,d);return y&&Pe(a,i,d),y}e.geogToUsng=t,e.usngToGeog=s})(hs||(hs={})),(function(e){function t(){e.PE_UTM_OPTS_NONE=m.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=m.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=m.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function s(i,o,a,u,c){m.ensureCache.prepare();let f=0;i&&(f=m.getPointer(i));const d=xe(a),y=m.ensureFloat64(d),_=kt(o,M.PE_UTM_MAX),g=m.ensureInt32(_),w=m._pe_geog_to_utm(f,o,y,u,g);if(w)for(let b=0;b<o;b++)c[b]=m.UTF8ToString(_[b]);return w}function n(i,o,a,u,c){m.ensureCache.prepare();let f=0;i&&(f=m.getPointer(i));const d=a.map((w=>m.ensureString(w))),y=m.ensureInt32(d),_=m.ensureFloat64(new Array(2*o)),g=m._pe_utm_to_geog(f,o,y,u,_);return g&&Pe(c,o,_),g}e.init=t,e.geogToUtm=s,e.utmToGeog=n})(or||(or={})),(function(e){const t=new Map;function s(){e.PE_PCSINFO_OPTION_NONE=m.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=m.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=m.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=m.PePCSInfo.prototype.PE_POLE_POINT}function n(i,o=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,u=null;return t.has(i)&&(u=t.get(i),u[o]&&(a=u[o])),a||(a=m.PePCSInfo.prototype.generate(i,o),u||(u=[],t.set(i,u)),u[o]=a),a}e.init=s,e.generate=n})(ar||(ar={})),(function(e){function t(){return m.PeVersion.prototype.version_string()}e.versionString=t})(ds||(ds={}));const Ap=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return os},get PeDefs(){return M},get PeDouble(){return io},get PeFactory(){return as},get PeGCSExtent(){return oo},get PeGTTransformations(){return us},get PeGTlistExtended(){return nr},get PeGTlistExtendedEntry(){return ls},get PeLineType(){return cs},get PeMath(){return ps},get PeNotationDms(){return fs},get PeNotationMgrs(){return ir},get PeNotationUsng(){return hs},get PeNotationUtm(){return or},get PePCSInfo(){return ar},get PeVersion(){return ds},_init:ao,get _pe(){return m},isLoaded:Iu,isSupported:Du,load:Gu},Symbol.toStringTag,{value:"Module"}));var Qe;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Qe||(Qe={}));let r;const l={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(r=2e3;r<=2045;r++)l[r]=0;for(r=2056;r<=2065;r++)l[r]=0;for(r=2067;r<=2135;r++)l[r]=0;for(r=2137;r<=2154;r++)l[r]=0;for(r=2161;r<=2170;r++)l[r]=0;for(r=2172;r<=2193;r++)l[r]=0;for(r=2195;r<=2198;r++)l[r]=0;for(r=2200;r<=2203;r++)l[r]=0;for(r=2205;r<=2217;r++)l[r]=0;for(r=2222;r<=2224;r++)l[r]=1;for(r=2225;r<=2250;r++)l[r]=2;for(r=2251;r<=2253;r++)l[r]=1;for(r=2257;r<=2264;r++)l[r]=2;for(r=2274;r<=2279;r++)l[r]=2;for(r=2280;r<=2282;r++)l[r]=1;for(r=2283;r<=2289;r++)l[r]=2;for(r=2290;r<=2292;r++)l[r]=0;for(r=2308;r<=2313;r++)l[r]=0;for(r=2315;r<=2491;r++)l[r]=0;for(r=2494;r<=2866;r++)l[r]=0;for(r=2867;r<=2869;r++)l[r]=1;for(r=2870;r<=2888;r++)l[r]=2;for(r=2891;r<=2895;r++)l[r]=2;for(r=2896;r<=2898;r++)l[r]=1;for(r=2902;r<=2908;r++)l[r]=2;for(r=2915;r<=2920;r++)l[r]=2;for(r=2921;r<=2923;r++)l[r]=1;for(r=2924;r<=2930;r++)l[r]=2;for(r=2931;r<=2962;r++)l[r]=0;for(r=2964;r<=2968;r++)l[r]=2;for(r=2969;r<=2973;r++)l[r]=0;for(r=2975;r<=2991;r++)l[r]=0;for(r=2995;r<=3051;r++)l[r]=0;for(r=3054;r<=3079;r++)l[r]=0;for(r=3081;r<=3088;r++)l[r]=0;for(r=3092;r<=3101;r++)l[r]=0;for(r=3106;r<=3138;r++)l[r]=0;for(r=3146;r<=3151;r++)l[r]=0;for(r=3153;r<=3166;r++)l[r]=0;for(r=3168;r<=3172;r++)l[r]=0;for(r=3174;r<=3203;r++)l[r]=0;for(r=3294;r<=3358;r++)l[r]=0;for(r=3367;r<=3403;r++)l[r]=0;for(r=3408;r<=3416;r++)l[r]=0;for(r=3417;r<=3438;r++)l[r]=2;for(r=3441;r<=3446;r++)l[r]=2;for(r=3447;r<=3450;r++)l[r]=0;for(r=3451;r<=3459;r++)l[r]=2;for(r=3460;r<=3478;r++)l[r]=0;for(r=3554;r<=3559;r++)l[r]=0;for(r=3560;r<=3570;r++)l[r]=2;for(r=3571;r<=3581;r++)l[r]=0;for(r=3594;r<=3597;r++)l[r]=0;for(r=3601;r<=3604;r++)l[r]=0;for(r=3637;r<=3639;r++)l[r]=0;for(r=3665;r<=3667;r++)l[r]=0;for(r=3693;r<=3695;r++)l[r]=0;for(r=3701;r<=3727;r++)l[r]=0;for(r=3728;r<=3739;r++)l[r]=2;for(r=3740;r<=3751;r++)l[r]=0;for(r=3753;r<=3760;r++)l[r]=2;for(r=3761;r<=3773;r++)l[r]=0;for(r=3775;r<=3777;r++)l[r]=0;for(r=3779;r<=3781;r++)l[r]=0;for(r=3783;r<=3785;r++)l[r]=0;for(r=3788;r<=3791;r++)l[r]=0;for(r=3797;r<=3802;r++)l[r]=0;for(r=3814;r<=3816;r++)l[r]=0;for(r=3825;r<=3829;r++)l[r]=0;for(r=3832;r<=3841;r++)l[r]=0;for(r=3844;r<=3852;r++)l[r]=0;for(r=3873;r<=3885;r++)l[r]=0;for(r=3890;r<=3893;r++)l[r]=0;for(r=3907;r<=3912;r++)l[r]=0;for(r=3942;r<=3950;r++)l[r]=0;for(r=3968;r<=3970;r++)l[r]=0;for(r=3973;r<=3976;r++)l[r]=0;for(r=3986;r<=3989;r++)l[r]=0;for(r=3994;r<=3997;r++)l[r]=0;for(r=4048;r<=4051;r++)l[r]=0;for(r=4056;r<=4063;r++)l[r]=0;for(r=4093;r<=4096;r++)l[r]=0;for(r=4390;r<=4398;r++)l[r]=0;for(r=4399;r<=4413;r++)l[r]=2;for(r=4418;r<=4433;r++)l[r]=2;for(r=4455;r<=4457;r++)l[r]=2;for(r=4484;r<=4489;r++)l[r]=0;for(r=4491;r<=4554;r++)l[r]=0;for(r=4568;r<=4589;r++)l[r]=0;for(r=4652;r<=4656;r++)l[r]=0;for(r=4766;r<=4800;r++)l[r]=0;for(r=5014;r<=5016;r++)l[r]=0;for(r=5069;r<=5072;r++)l[r]=0;for(r=5105;r<=5130;r++)l[r]=0;for(r=5167;r<=5188;r++)l[r]=0;for(r=5253;r<=5259;r++)l[r]=0;for(r=5269;r<=5275;r++)l[r]=0;for(r=5292;r<=5311;r++)l[r]=0;for(r=5329;r<=5331;r++)l[r]=0;for(r=5343;r<=5349;r++)l[r]=0;for(r=5355;r<=5357;r++)l[r]=0;for(r=5387;r<=5389;r++)l[r]=0;for(r=5459;r<=5463;r++)l[r]=0;for(r=5479;r<=5482;r++)l[r]=0;for(r=5518;r<=5520;r++)l[r]=0;for(r=5530;r<=5539;r++)l[r]=0;for(r=5550;r<=5552;r++)l[r]=0;for(r=5562;r<=5583;r++)l[r]=0;for(r=5623;r<=5625;r++)l[r]=2;for(r=5631;r<=5639;r++)l[r]=0;for(r=5649;r<=5653;r++)l[r]=0;for(r=5663;r<=5680;r++)l[r]=0;for(r=5682;r<=5685;r++)l[r]=0;for(r=5875;r<=5877;r++)l[r]=0;for(r=5896;r<=5899;r++)l[r]=0;for(r=5921;r<=5940;r++)l[r]=0;for(r=6050;r<=6125;r++)l[r]=0;for(r=6244;r<=6275;r++)l[r]=0;for(r=6328;r<=6348;r++)l[r]=0;for(r=6350;r<=6356;r++)l[r]=0;for(r=6366;r<=6372;r++)l[r]=0;for(r=6381;r<=6387;r++)l[r]=0;for(r=6393;r<=6404;r++)l[r]=0;for(r=6480;r<=6483;r++)l[r]=0;for(r=6511;r<=6514;r++)l[r]=0;for(r=6579;r<=6581;r++)l[r]=0;for(r=6619;r<=6624;r++)l[r]=0;for(r=6625;r<=6627;r++)l[r]=2;for(r=6628;r<=6632;r++)l[r]=0;for(r=6634;r<=6637;r++)l[r]=0;for(r=6669;r<=6692;r++)l[r]=0;for(r=6707;r<=6709;r++)l[r]=0;for(r=6720;r<=6723;r++)l[r]=0;for(r=6732;r<=6738;r++)l[r]=0;for(r=6931;r<=6933;r++)l[r]=0;for(r=6956;r<=6959;r++)l[r]=0;for(r=7005;r<=7007;r++)l[r]=0;for(r=7057;r<=7070;r++)l[r]=2;for(r=7074;r<=7082;r++)l[r]=0;for(r=7109;r<=7118;r++)l[r]=0;for(r=7119;r<=7127;r++)l[r]=1;for(r=7374;r<=7376;r++)l[r]=0;for(r=7528;r<=7586;r++)l[r]=0;for(r=7587;r<=7645;r++)l[r]=2;for(r=7692;r<=7696;r++)l[r]=0;for(r=7755;r<=7787;r++)l[r]=0;for(r=7791;r<=7795;r++)l[r]=0;for(r=7799;r<=7801;r++)l[r]=0;for(r=7803;r<=7805;r++)l[r]=0;for(r=7825;r<=7831;r++)l[r]=0;for(r=7845;r<=7859;r++)l[r]=0;for(r=8013;r<=8032;r++)l[r]=0;for(r=8065;r<=8068;r++)l[r]=1;for(r=8518;r<=8529;r++)l[r]=2;for(r=8533;r<=8536;r++)l[r]=2;for(r=8538;r<=8540;r++)l[r]=2;for(r=8677;r<=8679;r++)l[r]=0;for(r=8836;r<=8840;r++)l[r]=0;for(r=8857;r<=8859;r++)l[r]=0;for(r=8908;r<=8910;r++)l[r]=0;for(r=9154;r<=9159;r++)l[r]=0;for(r=9205;r<=9218;r++)l[r]=0;for(r=9271;r<=9273;r++)l[r]=0;for(r=9295;r<=9297;r++)l[r]=0;for(r=9356;r<=9360;r++)l[r]=0;for(r=9404;r<=9407;r++)l[r]=0;for(r=9476;r<=9482;r++)l[r]=0;for(r=9487;r<=9494;r++)l[r]=0;for(r=9697;r<=9699;r++)l[r]=0;for(r=9821;r<=9865;r++)l[r]=0;for(r=10285;r<=10291;r++)l[r]=0;for(r=10314;r<=10317;r++)l[r]=0;for(r=10448;r<=10465;r++)l[r]=0;for(r=10726;r<=10729;r++)l[r]=0;for(r=10731;r<=10733;r++)l[r]=0;for(r=11114;r<=11118;r++)l[r]=0;for(r=20004;r<=20032;r++)l[r]=0;for(r=20047;r<=20049;r++)l[r]=0;for(r=20062;r<=20092;r++)l[r]=0;for(r=20135;r<=20138;r++)l[r]=0;for(r=20248;r<=20258;r++)l[r]=0;for(r=20348;r<=20358;r++)l[r]=0;for(r=20436;r<=20440;r++)l[r]=0;for(r=20822;r<=20824;r++)l[r]=0;for(r=20904;r<=20932;r++)l[r]=0;for(r=20934;r<=20936;r++)l[r]=0;for(r=21004;r<=21032;r++)l[r]=0;for(r=21035;r<=21037;r++)l[r]=0;for(r=21095;r<=21097;r++)l[r]=0;for(r=21148;r<=21150;r++)l[r]=0;for(r=21207;r<=21264;r++)l[r]=0;for(r=21307;r<=21364;r++)l[r]=0;for(r=21413;r<=21423;r++)l[r]=0;for(r=21453;r<=21463;r++)l[r]=0;for(r=21473;r<=21483;r++)l[r]=0;for(r=21780;r<=21782;r++)l[r]=0;for(r=21891;r<=21894;r++)l[r]=0;for(r=21896;r<=21899;r++)l[r]=0;for(r=22171;r<=22177;r++)l[r]=0;for(r=22181;r<=22187;r++)l[r]=0;for(r=22191;r<=22197;r++)l[r]=0;for(r=22207;r<=22222;r++)l[r]=0;for(r=22229;r<=22232;r++)l[r]=0;for(r=22234;r<=22236;r++)l[r]=0;for(r=22243;r<=22250;r++)l[r]=0;for(r=22262;r<=22265;r++)l[r]=0;for(r=22307;r<=22322;r++)l[r]=0;for(r=22348;r<=22357;r++)l[r]=0;for(r=22407;r<=22422;r++)l[r]=0;for(r=22462;r<=22465;r++)l[r]=0;for(r=22521;r<=22525;r++)l[r]=0;for(r=22607;r<=22622;r++)l[r]=0;for(r=22641;r<=22646;r++)l[r]=0;for(r=22648;r<=22657;r++)l[r]=0;for(r=22707;r<=22722;r++)l[r]=0;for(r=22762;r<=22765;r++)l[r]=0;for(r=22807;r<=22822;r++)l[r]=0;for(r=22991;r<=22994;r++)l[r]=0;for(r=23028;r<=23038;r++)l[r]=0;for(r=23301;r<=23333;r++)l[r]=2;for(r=23830;r<=23853;r++)l[r]=0;for(r=23866;r<=23872;r++)l[r]=0;for(r=23877;r<=23884;r++)l[r]=0;for(r=23886;r<=23894;r++)l[r]=0;for(r=23946;r<=23948;r++)l[r]=0;for(r=24311;r<=24313;r++)l[r]=0;for(r=24342;r<=24347;r++)l[r]=0;for(r=24370;r<=24374;r++)l[r]=10;for(r=24375;r<=24381;r++)l[r]=0;for(r=24718;r<=24721;r++)l[r]=0;for(r=24817;r<=24821;r++)l[r]=0;for(r=24877;r<=24882;r++)l[r]=0;for(r=24891;r<=24893;r++)l[r]=0;for(r=25391;r<=25395;r++)l[r]=0;for(r=25828;r<=25838;r++)l[r]=0;for(r=26191;r<=26195;r++)l[r]=0;for(r=26391;r<=26393;r++)l[r]=0;for(r=26701;r<=26722;r++)l[r]=0;for(r=26729;r<=26799;r++)l[r]=2;for(r=26801;r<=26803;r++)l[r]=2;for(r=26811;r<=26813;r++)l[r]=2;for(r=26847;r<=26870;r++)l[r]=2;for(r=26891;r<=26899;r++)l[r]=0;for(r=26901;r<=26923;r++)l[r]=0;for(r=26929;r<=26946;r++)l[r]=0;for(r=26948;r<=26998;r++)l[r]=0;for(r=27037;r<=27040;r++)l[r]=0;for(r=27205;r<=27232;r++)l[r]=0;for(r=27258;r<=27260;r++)l[r]=0;for(r=27391;r<=27398;r++)l[r]=0;for(r=27561;r<=27564;r++)l[r]=0;for(r=27571;r<=27574;r++)l[r]=0;for(r=27581;r<=27584;r++)l[r]=0;for(r=27591;r<=27594;r++)l[r]=0;for(r=27700;r<=27707;r++)l[r]=0;for(r=28191;r<=28193;r++)l[r]=0;for(r=28348;r<=28358;r++)l[r]=0;for(r=28402;r<=28432;r++)l[r]=0;for(r=28462;r<=28492;r++)l[r]=0;for(r=29118;r<=29122;r++)l[r]=0;for(r=29168;r<=29172;r++)l[r]=0;for(r=29177;r<=29185;r++)l[r]=0;for(r=29187;r<=29195;r++)l[r]=0;for(r=29900;r<=29903;r++)l[r]=0;for(r=30161;r<=30179;r++)l[r]=0;for(r=30491;r<=30494;r++)l[r]=0;for(r=30729;r<=30732;r++)l[r]=0;for(r=31251;r<=31259;r++)l[r]=0;for(r=31265;r<=31268;r++)l[r]=0;for(r=31275;r<=31279;r++)l[r]=0;for(r=31281;r<=31297;r++)l[r]=0;for(r=31461;r<=31469;r++)l[r]=0;for(r=31491;r<=31495;r++)l[r]=0;for(r=31917;r<=31922;r++)l[r]=0;for(r=31965;r<=32e3;r++)l[r]=0;for(r=32001;r<=32003;r++)l[r]=2;for(r=32005;r<=32031;r++)l[r]=2;for(r=32033;r<=32060;r++)l[r]=2;for(r=32064;r<=32067;r++)l[r]=2;for(r=32074;r<=32077;r++)l[r]=2;for(r=32081;r<=32086;r++)l[r]=0;for(r=32107;r<=32130;r++)l[r]=0;for(r=32133;r<=32159;r++)l[r]=0;for(r=32164;r<=32167;r++)l[r]=2;for(r=32180;r<=32199;r++)l[r]=0;for(r=32201;r<=32260;r++)l[r]=0;for(r=32301;r<=32360;r++)l[r]=0;for(r=32401;r<=32460;r++)l[r]=0;for(r=32501;r<=32560;r++)l[r]=0;for(r=32601;r<=32662;r++)l[r]=0;for(r=32664;r<=32667;r++)l[r]=2;for(r=32701;r<=32761;r++)l[r]=0;for(r=53001;r<=53004;r++)l[r]=0;for(r=53008;r<=53019;r++)l[r]=0;for(r=53021;r<=53032;r++)l[r]=0;for(r=53034;r<=53037;r++)l[r]=0;for(r=53042;r<=53046;r++)l[r]=0;for(r=53074;r<=53080;r++)l[r]=0;for(r=54001;r<=54004;r++)l[r]=0;for(r=54008;r<=54019;r++)l[r]=0;for(r=54021;r<=54032;r++)l[r]=0;for(r=54034;r<=54037;r++)l[r]=0;for(r=54042;r<=54046;r++)l[r]=0;for(r=54048;r<=54053;r++)l[r]=0;for(r=54074;r<=54080;r++)l[r]=0;for(r=54090;r<=54096;r++)l[r]=0;for(r=54098;r<=54101;r++)l[r]=0;for(r=65161;r<=65163;r++)l[r]=0;for(r=102001;r<=102040;r++)l[r]=0;for(r=102042;r<=102063;r++)l[r]=0;for(r=102065;r<=102067;r++)l[r]=0;for(r=102070;r<=102117;r++)l[r]=0;for(r=102122;r<=102216;r++)l[r]=0;for(r=102221;r<=102377;r++)l[r]=0;for(r=102382;r<=102388;r++)l[r]=0;for(r=102389;r<=102398;r++)l[r]=2;for(r=102399;r<=102444;r++)l[r]=0;for(r=102445;r<=102447;r++)l[r]=2;for(r=102448;r<=102458;r++)l[r]=0;for(r=102459;r<=102468;r++)l[r]=2;for(r=102469;r<=102499;r++)l[r]=0;for(r=102500;r<=102519;r++)l[r]=1;for(r=102520;r<=102524;r++)l[r]=0;for(r=102525;r<=102529;r++)l[r]=2;for(r=102530;r<=102588;r++)l[r]=0;for(r=102590;r<=102598;r++)l[r]=0;for(r=102601;r<=102603;r++)l[r]=0;for(r=102605;r<=102628;r++)l[r]=0;for(r=102629;r<=102646;r++)l[r]=2;for(r=102648;r<=102700;r++)l[r]=2;for(r=102701;r<=102703;r++)l[r]=0;for(r=102707;r<=102730;r++)l[r]=2;for(r=102733;r<=102758;r++)l[r]=2;for(r=102767;r<=102900;r++)l[r]=0;for(r=102901;r<=102933;r++)l[r]=2;for(r=102934;r<=102950;r++)l[r]=13;for(r=102951;r<=102963;r++)l[r]=0;for(r=102965;r<=102969;r++)l[r]=0;for(r=102971;r<=102973;r++)l[r]=0;for(r=102975;r<=102989;r++)l[r]=0;for(r=102990;r<=102992;r++)l[r]=1;for(r=102997;r<=103002;r++)l[r]=0;for(r=103003;r<=103008;r++)l[r]=2;for(r=103009;r<=103011;r++)l[r]=0;for(r=103012;r<=103014;r++)l[r]=2;for(r=103019;r<=103021;r++)l[r]=0;for(r=103022;r<=103024;r++)l[r]=2;for(r=103029;r<=103031;r++)l[r]=0;for(r=103032;r<=103034;r++)l[r]=2;for(r=103065;r<=103068;r++)l[r]=0;for(r=103074;r<=103076;r++)l[r]=0;for(r=103077;r<=103079;r++)l[r]=1;for(r=103080;r<=103082;r++)l[r]=0;for(r=103083;r<=103085;r++)l[r]=2;for(r=103090;r<=103093;r++)l[r]=0;for(r=103097;r<=103099;r++)l[r]=0;for(r=103100;r<=103102;r++)l[r]=2;for(r=103107;r<=103109;r++)l[r]=0;for(r=103110;r<=103112;r++)l[r]=2;for(r=103113;r<=103116;r++)l[r]=0;for(r=103117;r<=103120;r++)l[r]=2;for(r=103153;r<=103157;r++)l[r]=0;for(r=103158;r<=103162;r++)l[r]=2;for(r=103163;r<=103165;r++)l[r]=0;for(r=103166;r<=103168;r++)l[r]=1;for(r=103169;r<=103171;r++)l[r]=2;for(r=103186;r<=103188;r++)l[r]=0;for(r=103189;r<=103191;r++)l[r]=2;for(r=103192;r<=103195;r++)l[r]=0;for(r=103196;r<=103199;r++)l[r]=2;for(r=103200;r<=103224;r++)l[r]=0;for(r=103225;r<=103227;r++)l[r]=1;for(r=103232;r<=103237;r++)l[r]=0;for(r=103238;r<=103243;r++)l[r]=2;for(r=103244;r<=103246;r++)l[r]=0;for(r=103247;r<=103249;r++)l[r]=2;for(r=103254;r<=103256;r++)l[r]=0;for(r=103257;r<=103259;r++)l[r]=2;for(r=103264;r<=103266;r++)l[r]=0;for(r=103267;r<=103269;r++)l[r]=2;for(r=103300;r<=103375;r++)l[r]=0;for(r=103381;r<=103383;r++)l[r]=0;for(r=103384;r<=103386;r++)l[r]=1;for(r=103387;r<=103389;r++)l[r]=0;for(r=103390;r<=103392;r++)l[r]=2;for(r=103397;r<=103399;r++)l[r]=0;for(r=103400;r<=103471;r++)l[r]=2;for(r=103476;r<=103478;r++)l[r]=0;for(r=103479;r<=103481;r++)l[r]=2;for(r=103486;r<=103488;r++)l[r]=0;for(r=103489;r<=103491;r++)l[r]=2;for(r=103492;r<=103495;r++)l[r]=0;for(r=103496;r<=103499;r++)l[r]=2;for(r=103528;r<=103543;r++)l[r]=0;for(r=103544;r<=103548;r++)l[r]=2;for(r=103549;r<=103551;r++)l[r]=0;for(r=103552;r<=103554;r++)l[r]=1;for(r=103555;r<=103557;r++)l[r]=2;for(r=103558;r<=103560;r++)l[r]=0;for(r=103571;r<=103573;r++)l[r]=0;for(r=103574;r<=103576;r++)l[r]=2;for(r=103577;r<=103580;r++)l[r]=0;for(r=103581;r<=103583;r++)l[r]=2;for(r=103595;r<=103694;r++)l[r]=0;for(r=103696;r<=103699;r++)l[r]=0;for(r=103700;r<=103793;r++)l[r]=2;for(r=103794;r<=103890;r++)l[r]=0;for(r=103891;r<=103896;r++)l[r]=2;for(r=103900;r<=103971;r++)l[r]=2;for(r=103972;r<=103977;r++)l[r]=0;for(r=112e3;r<=112101;r++)l[r]=0;const lo=[102100,102113,3857,3785,900913],ju=[104905,104971],qu=[4326,...lo,...ju],gt=[-20037508342788905e-9,20037508342788905e-9],ms=[-20037508342787e-6,20037508342787e-6],Rr={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:gt,origin:ms,dx:1e-5},uo={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:gt,origin:ms,dx:1e-5},102100:Rr,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:gt,origin:ms,dx:1e-5},3857:Rr,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:Rr};function Ie(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const s=e.wkid,n=t.wkid;if(s!=null||n!=null){if(s===n||De(e)&&De(t))return!0;const a=e.latestWkid;if(a!=null&&n===a)return!0;const u=t.latestWkid;return u!=null&&s===u}let i,o;return e.wkt2&&t.wkt2?(i=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,o=t.wkt),!(!i||!o)&&i.toUpperCase()===o.toUpperCase()}function Gt(e){const t=e?.wkid;return t!=null&&t>=2e3&&uo[t]||null}function kp(e){if(!e)return;const{wkid:t,vcsWkid:s}=e;if(t)return s?JSON.stringify({wkid:t,vcsWkid:s}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?s?{wkt:n,vcsWkid:s}:{wkt:n}:{})}function $t(e){if(!co(e))return!1;const{wkid:t}=e;if(t)return l[t]==null;const s=e.wkt2||e.wkt;return!!s&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(s)}function Bu(e){return!(Lu(e)||zu(e))}function lr(e){return e?.wkid===4326}function Mp(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function Np(e){return e?.wkid===Qe.CGCS2000}function De(e){const t=e?.wkid;return t!=null&&t>=2e3&&lo.includes(t)}function Cp(e){return e?.wkid===32662}function Sr(e){return e===Qe.GCSMARS2000||e===Qe.GCSMARS2000_SPHERE}function Lu(e){return Sr(e?.wkid)}function $r(e){return e===Qe.GCSMOON2000}function zu(e){return $r(e?.wkid)}function Fu(e){const t=e?.wkid;return t!=null&&t>=2e3&&qu.includes(t)}function co(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const po={wkid:4326,wkt:Wn(uo[4326].wkTemplate,{Central_Meridian:"0.0"})},fo={wkid:102100,latestWkid:3857},Wu={wkid:32662};function qs(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Ju=qs(oe),ho=qs(yt),mo=qs(Pr),Rp={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${oe.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Hu=ho.wkt.toUpperCase(),Vu=mo.wkt.toUpperCase();function Yu(e){if(e!=null&&co(e)){const t=e.wkid,s=e.wkt2??e.wkt;if(Sr(t))return yt;const n=s?.toUpperCase();if(s&&n===Hu)return yt;if($r(t)||n&&n===Vu)return Pr}return oe}function Up(e){return Sr(e)?yt:$r(e)?Pr:oe}function Qu(e){return Ie(e,Ju)}function Ip(e){return Qu(e)||Ie(e,ho)||Ie(e,mo)}const Dp=39.37,Ku=oe.radius*Math.PI/200,yo=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Ke=l,go=/UNIT\[([^\]]+)]/i,Zu=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Xu=br()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),X=e=>e*e,ve=e=>e*e*e,_t={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:X(.001)},"square-centimeters":{inBaseUnits:X(.01)},"square-decimeters":{inBaseUnits:X(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:X(1e3)},"square-inches":{inBaseUnits:X(.0254)},"square-feet":{inBaseUnits:X(.3048)},"square-yards":{inBaseUnits:X(.9144)},"square-miles":{inBaseUnits:X(1609.344)},"square-nautical-miles":{inBaseUnits:X(1852)},"square-us-feet":{inBaseUnits:X(1200/3937)},acres:{inBaseUnits:.0015625*X(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*ve(.001)},"cubic-centimeters":{inBaseUnits:1e3*ve(.01)},"cubic-decimeters":{inBaseUnits:1e3*ve(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*ve(1e3)},"cubic-inches":{inBaseUnits:1e3*ve(.0254)},"cubic-feet":{inBaseUnits:1e3*ve(.3048)},"cubic-yards":{inBaseUnits:1e3*ve(.9144)},"cubic-miles":{inBaseUnits:1e3*ve(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},ec=(()=>{const e={};for(const t in _t)for(const s in _t[t].units)e[s]=t;return e})();function tc(e,t,s){return e*_t[s].units[t].inBaseUnits}function rc(e,t,s){return e/_t[s].units[t].inBaseUnits}const sc=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],nc=["metric","imperial"],_o=[...nc,...sc],ic=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function ys(e){const t=ec[e];if(!t)throw new Error("unknown type");return t}function xn(e,t=null){return t=t||ys(e),_t[t].baseUnit===e}function ae(e,t,s){if(t===s)return e;const n=ys(t);if(n!==ys(s))throw new Error("incompatible units");const i=xn(t,n)?e:tc(e,t,n);return xn(s,n)?i:rc(i,s,n)}function Gp(e,t,s,n=!1){if(!n&&$t(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=ze(t);return i!==s&&(e=i?ae(e,i,s):ae(e*=tt(t),"meters",s)),e}function jp(e,t,s,n=!1){if(!n&&$t(s))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=ze(s);return t!==i&&(e=i?ae(e,t,i):ae(e,t,"meters")/tt(s)),e}function oc(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function qp(e){return oc(e)}function Bp(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Lp(e,t){const s=ae(e,t,"meters");return Math.abs(s)<3e3?"meters":"kilometers"}function zp(e,t){const s=ae(e,t,"meters");return Math.abs(s)<1e5?"meters":"kilometers"}function Fp(e,t){const s=ae(e,t,"feet");return Math.abs(s)<1e3?"feet":"miles"}function Wp(e,t){const s=ae(e,t,"feet");return Math.abs(s)<1e5?"feet":"miles"}function Jp(e,t){const s=ae(e,t,"square-meters");return Math.abs(s)<3e6?"square-meters":"square-kilometers"}function Hp(e,t){const s=ae(e,t,"square-feet");return Math.abs(s)<1e6?"square-feet":"square-miles"}function Vp(e,t,s){return ae(e,t,"meters")/(s*Math.PI/180)}function vo(e){return Xu.fromJSON(e.toLowerCase())||null}function Yp(e){if(e!=null&&!Bu(e))return 1;const t=tt(e);return t>1e5?1:t}function ac(e){return tt(e)>=Yu(e).metersPerDegree?"meters":ze(e)}function tt(e,t=oe.metersPerDegree){return lc(e,!0)??t}function lc(e,t=!1){const s=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let i=null;if(s){if(Sr(s))return yt.metersPerDegree;if($r(s))return Pr.metersPerDegree;i=Ke.values[Ke[s]],!i&&t&&Zu.has(s)&&(i=Ku)}else n&&(Po(n)?i=An(yo.exec(n),i):bo(n)&&(i=An(go.exec(n),i)));return i}function Qp(e){return $t(e)?1:tt(e)}function An(e,t){return e?.[1]?wo(e[1]):t}function wo(e){return parseFloat(e.split(",")[1])}function ze(e){const t=e?.wkid??null,s=e?.wkt2??e?.wkt??null;let n=null;if(t)n=Ke.units[Ke[t]];else if(s){const i=Po(s)?yo:bo(s)?go:null;if(i){const o=i.exec(s);o?.[1]&&(n=cc(o[1]))}}return n!=null?vo(n):null}function Kp(e){const t=ze(e);return t!=null&&_o.includes(t)?t:null}function Zp(e){const t=ac(e);return t!=null&&_o.includes(t)?t:null}function Xp(e){const t=ze(e);return t==null?null:ic.get(t)}function bo(e){return/^GEOCCS/i.test(e)}function Po(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const uc=1e-7;function cc(e){let s=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!s||!vo(s)){const n=wo(e);s=null;const i=Ke.values;for(let o=0;o<i.length;++o)if(Math.abs(n-i[o])<uc){s=Ke.units[o];break}}return s}function ef(e){const t=ze(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const pc={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},fc={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},hc={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},tf=br()(pc),rf=br()(fc),sf=br()(hc);var le,ue;let $=(ue=class extends Le{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return le.WebMercator;if(t?.wkid===4326)return le.WGS84;const s=new le;return s.read(t),s}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return lr(this)}get isWebMercator(){return De(this)}get isGeographic(){return $t(this)}get isWrappable(){return Fu(this)}get metersPerUnit(){return tt(this)}get unit(){return ze(this)||(this.isGeographic?"degrees":null)}writeWkt(t,s){this.wkid||(s.wkt=t)}clone(){if(this===le.WGS84)return new le(po);if(this===le.WebMercator)return new le(fo);const t=new le;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=x(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:s,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,o=this.imageCoordinateSystem;return s==null||i?JSON.stringify(o)===JSON.stringify(t.imageCoordinateSystem):n?o.id===s&&o.referenceServiceName===n:o.id===s}return Ie(this,t)}toJSON(t){return this.write(void 0,t)}},le=ue,ue.GCS_NAD_1927=null,ue.WGS84=null,ue.WebMercator=null,ue.PlateCarree=null,ue);p([h({readOnly:!0})],$.prototype,"isWGS84",null),p([h({readOnly:!0})],$.prototype,"isWebMercator",null),p([h({readOnly:!0})],$.prototype,"isGeographic",null),p([h({readOnly:!0})],$.prototype,"isWrappable",null),p([h({type:Ae,json:{write:!0}})],$.prototype,"latestWkid",void 0),p([h({readOnly:!0})],$.prototype,"metersPerUnit",null),p([h({readOnly:!0})],$.prototype,"unit",null),p([h({type:Ae,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],$.prototype,"wkid",void 0),p([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],$.prototype,"wkt",void 0),p([is("wkt"),is("web-scene","wkt")],$.prototype,"writeWkt",null),p([h({type:String,json:{write:!1}})],$.prototype,"wkt2",void 0),p([h({type:Ae,json:{write:!0}})],$.prototype,"vcsWkid",void 0),p([h({type:Ae,json:{write:!0}})],$.prototype,"latestVcsWkid",void 0),p([h()],$.prototype,"imageCoordinateSystem",void 0),$=le=p([I("esri.geometry.SpatialReference")],$),$.prototype.toJSON.isDefaultToJSON=!0,$.GCS_NAD_1927=ne.freeze(new $({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),$.WGS84=ne.freeze(new $(po)),$.WebMercator=ne.freeze(new $(fo)),$.PlateCarree=ne.freeze(new $(Wu));function ye(e,t,s){let n,i;return t===void 0||Array.isArray(t)?(i=e,s=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(o,a)=>{const u=o.constructor.prototype;n.forEach((c=>{const f=Li(o,c,i);f.read&&typeof f.read=="object"||(f.read={}),f.read.reader=u[a],s&&(f.read.source=(f.read.source||[]).concat(s))}))}}let re=class extends Le{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=$.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,s){if(t instanceof $)return t;if(t!=null){const n=new $;return n.read(t,s),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,s){this.cache[t]=s}};p([h()],re.prototype,"type",void 0),p([h({readOnly:!0})],re.prototype,"cache",null),p([h({readOnly:!0})],re.prototype,"extent",null),p([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],re.prototype,"hasM",void 0),p([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],re.prototype,"hasZ",void 0),p([h({type:$,json:{write:!0},value:$.WGS84})],re.prototype,"spatialReference",void 0),p([ye("spatialReference")],re.prototype,"readSpatialReference",null),re=p([I("esri.geometry.Geometry")],re);const dc=Object.prototype.toString;function mc(e){const t="__accessorMetadata__"in e?pe(e):e;return function(...s){if(s.push(t),typeof s[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return yc.apply(this,s)}}function yc(e,t,s,n){gr(e,t).cast=n}function gc(e){return(t,s)=>{gr(t,e).cast=t[s]}}function So(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&dc.call(e[0])==="[object Function]"?mc(e[0]):e.length===1&&typeof e[0]=="string"?gc(e[0]):void 0}function vt(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new T("internal:mesh","Mesh geometries are not supported for this operation")}function of(e){e.forEach(vt)}const _c=57.29577951308232,vc=.017453292519943;function kn(e){return e*_c}function Mn(e){return e*vc}function af(e){return Math.PI/2-2*Math.atan(Math.exp(-e/oe.radius))}function gs(e){return e.wkid!=null||e.wkt!=null}const Ur=[0,0];function ur(e,t,s,n,i){const o=e,a=i;if(a.spatialReference=s,"x"in o&&"x"in a)[a.x,a.y]=t(o.x,o.y,Ur,n);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=t(o.xmin,o.ymin,Ur,n),[a.xmax,a.ymax]=t(o.xmax,o.ymax,Ur,n);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){const u="paths"in o?o.paths:o.rings,c=[];let f;for(let d=0;d<u.length;d++){const y=u[d];f=[],c.push(f);for(let _=0;_<y.length;_++)f.push(t(y[_][0],y[_][1],[0,0],n)),y[_].length>2&&f[_].push(y[_][2]),y[_].length>3&&f[_].push(y[_][3])}"paths"in a?a.paths=c:a.rings=c}else if("points"in o&&"points"in a){const u=o.points,c=[];for(let f=0;f<u.length;f++)c[f]=t(u[f][0],u[f][1],[0,0],n),u[f].length>2&&c[f].push(u[f][2]),u[f].length>3&&c[f].push(u[f][3]);a.points=c}return i}function jt(e,t){const s=e&&(gs(e)?e:e.spatialReference),n=t&&(gs(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!s||!n)&&(!!Ie(n,s)||De(n)&&lr(s)||De(s)&&lr(n))}function wc(e,t){if(e==null)return null;const s=e.spatialReference,n=t&&(gs(t)?t:t.spatialReference);return jt(s,n)?Ie(s,n)?x(e):De(n)?ur(e,Je,$.WebMercator,!1,x(e)):lr(n)?ur(e,Er,$.WGS84,!1,x(e)):null:null}function Je(e,t,s=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=Mn(t);return s[0]=Mn(e)*oe.radius,s[1]=oe.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),s}function Er(e,t,s=[0,0],n=!1){if(e===gt[0])s[0]=-180;else if(e===gt[1])s[0]=180;else{const i=kn(e/oe.radius);s[0]=n?i:i-360*Math.floor((i+180)/360)}return s[1]=kn(Math.PI/2-2*Math.atan(Math.exp(-t/oe.radius))),s}function Ir(e,t=!1,s=x(e)){return vt(e),vt(s),ur(e,Je,$.WebMercator,t,s)}function Mt(e,t=!1,s=x(e)){return vt(e),vt(s),ur(e,Er,$.WGS84,t,s)}function bc(e,t){const s=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(s*s+n*n+i*i)}function Pc(e){return $o(e,Eo)?.[0]??null}function Sc(e){return $o(e,Eo)?.[1]??null}function $o({x:e,y:t,spatialReference:s},n=[0,0]){if(s){if(De(s))return Er(e,t,n);if($t(s))return n[0]=e,n[1]=t,n}return null}const Eo=[0,0];var qt;const Dr=[0,0];function Nn(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let L=qt=class extends re{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const s=e._get("spatialReference");t._set("spatialReference",ne.isFrozen(s)?s:s.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,s,n,i){let o;if(Array.isArray(e))o=e,i=t,e=o[0],t=o[1],s=o[2],n=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,s=o.z,n=o.m,(i=o.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new $(i)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)F.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)F.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i?.isWebMercator){const u=Je(o.longitude,o.latitude,Dr);e=u[0],t=u[1]}}}else Nn(s)?(i=s,s=null):Nn(n)&&(i=n,n=null);const a={x:e,y:t};return a.x==null&&a.y!=null?F.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&F.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(a.spatialReference=i),s!=null&&(a.z=s),n!=null&&(a.m=n),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Sc(this)}set latitude(e){const{spatialReference:t,x:s}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Je(s,e,Dr)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Pc(this)}set longitude(e){const{y:t,spatialReference:s}=this;e!=null&&s&&(s.isWebMercator?this._set("x",Je(e,t,Dr)[0]):s.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,s){t[s]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new qt;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return qt.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:s,z:n,m:i,spatialReference:o}=this,{z:a,m:u}=e;let{x:c,y:f,spatialReference:d}=e;if(!o.equals(d))if(o.isWebMercator&&d.isWGS84)[c,f]=Je(c,f),d=o;else{if(!o.isWGS84||!d.isWebMercator)return!1;[c,f]=Er(c,f),d=o}return t===c&&s===f&&n===a&&i===u&&o.wkid===d.wkid}offset(e,t,s){return this.x+=e,this.y+=t,s!=null&&(this.z=(this.z??0)+s),this}normalize(){if(!this.spatialReference)return this;const e=Gt(this.spatialReference);if(!e)return this;let t=this.x;const[s,n]=e.valid,i=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/i),t-=o*i):t<s&&(o=Math.ceil(Math.abs(t-s)/i),t+=o*i),this._set("x",t),this}distance(e){return bc(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};p([h({readOnly:!0})],L.prototype,"cache",null),p([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],L.prototype,"hasM",null),p([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],L.prototype,"hasZ",null),p([h({type:Number})],L.prototype,"latitude",null),p([h({type:Number})],L.prototype,"longitude",null),p([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),So((e=>isNaN(e)?e:Ui(e)))],L.prototype,"x",void 0),p([is("x")],L.prototype,"writeX",null),p([ye("x")],L.prototype,"readX",null),p([h({type:Number,json:{write:!0}})],L.prototype,"y",void 0),p([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],L.prototype,"z",void 0),p([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],L.prototype,"m",void 0),L=qt=p([I("esri.geometry.Point")],L),L.prototype.toJSON.isDefaultToJSON=!0;const Gr=[0,0];function Oo(e,t){return t!=null&&z(e,t.x,t.y,t.z)}function lf(e,t){if(!t.points?.length)return!1;for(const s of t.points)if(!Ze(e,s))return!1;return!0}function $c(e,t){const{xmin:s,ymin:n,zmin:i,xmax:o,ymax:a,zmax:u}=t;return e.hasZ&&t.hasZ?z(e,s,n,i)&&z(e,s,a,i)&&z(e,o,a,i)&&z(e,o,n,i)&&z(e,s,n,u)&&z(e,s,a,u)&&z(e,o,a,u)&&z(e,o,n,u):z(e,s,n)&&z(e,s,a)&&z(e,o,a)&&z(e,o,n)}function Ze(e,t){return z(e,t[0],t[1])}function Ec(e,t){return z(e,t[0],t[1],t[2])}function z(e,t,s,n){return t>=e.xmin&&t<=e.xmax&&s>=e.ymin&&s<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function uf(e,t){return Gr[1]=t.y,Gr[0]=t.x,Oc(e,Gr)}function Oc(e,t){return To(e.rings,t)}function To(e,t){if(!e)return!1;if(Tc(e))return Cn(!1,e,t);let s=!1;for(let n=0,i=e.length;n<i;n++)s=Cn(s,e[n],t);return s}function Tc(e){return!Array.isArray(e[0][0])}function Cn(e,t,s){const[n,i]=s;let o=e,a=0;for(let u=0,c=t.length;u<c;u++){a++,a===c&&(a=0);const[f,d]=t[u],[y,_]=t[a];(d<i&&_>=i||_<i&&d>=i)&&f+(i-d)/(_-d)*(y-f)<n&&(o=!o)}return o}function xc(e,t){return Oo(e,t)}function Ac(e,t){const s=e.hasZ&&t.hasZ;let n,i,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(s&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function kc(e,t){const{points:s,hasZ:n}=t,i=n?Ec:Ze;for(const o of s)if(i(e,o))return!0;return!1}const Ge=[0,0],je=[0,0],qe=[0,0],Be=[0,0],Mc=[Ge,je,qe,Be],xo=[[qe,Ge],[Ge,je],[je,Be],[Be,qe]];function Nc(e,t){return Cc(e,t.rings)}function Cc(e,t){Ge[0]=e.xmin,Ge[1]=e.ymax,je[0]=e.xmax,je[1]=e.ymax,qe[0]=e.xmin,qe[1]=e.ymin,Be[0]=e.xmax,Be[1]=e.ymin;for(const s of Mc)if(To(t,s))return!0;for(const s of t){if(!s.length)continue;let n=s[0];if(Ze(e,n))return!0;for(let i=1;i<s.length;i++){const o=s[i];if(Ze(e,o)||Ao(n,o,xo))return!0;n=o}}return!1}function Rc(e,t){Ge[0]=e.xmin,Ge[1]=e.ymax,je[0]=e.xmax,je[1]=e.ymax,qe[0]=e.xmin,qe[1]=e.ymin,Be[0]=e.xmax,Be[1]=e.ymin;const s=t.paths;for(const n of s){if(!s.length)continue;let i=n[0];if(Ze(e,i))return!0;for(let o=1;o<n.length;o++){const a=n[o];if(Ze(e,a)||Ao(i,a,xo))return!0;i=a}}return!1}const G=[0,0];function cf(e){for(let t=0;t<e.length;t++){const s=e[t];for(let i=0;i<s.length-1;i++){const o=s[i],a=s[i+1];for(let u=t+1;u<e.length;u++)for(let c=0;c<e[u].length-1;c++){const f=e[u][c],d=e[u][c+1];if(_s(o,a,f,d,G)&&!(G[0]===o[0]&&G[1]===o[1]||G[0]===f[0]&&G[1]===f[1]||G[0]===a[0]&&G[1]===a[1]||G[0]===d[0]&&G[1]===d[1]))return!0}}const n=s.length;if(!(n<=4))for(let i=0;i<n-3;i++){let o=n-1;i===0&&(o=n-2);const a=s[i],u=s[i+1];for(let c=i+2;c<o;c++){const f=s[c],d=s[c+1];if(_s(a,u,f,d,G)&&!(G[0]===a[0]&&G[1]===a[1]||G[0]===f[0]&&G[1]===f[1]||G[0]===u[0]&&G[1]===u[1]||G[0]===d[0]&&G[1]===d[1]))return!0}}}return!1}function Ao(e,t,s){for(let n=0;n<s.length;n++)if(_s(e,t,s[n][0],s[n][1]))return!0;return!1}function _s(e,t,s,n,i){const[o,a]=e,[u,c]=t,[f,d]=s,[y,_]=n,g=y-f,w=o-f,b=u-o,S=_-d,A=a-d,q=c-a,Y=S*b-g*q;if(Y===0)return!1;const W=(g*A-S*w)/Y,fe=(b*A-q*w)/Y;return W>=0&&W<=1&&fe>=0&&fe<=1&&(i&&(i[0]=o+W*(u-o),i[1]=a+W*(c-a)),!0)}function Uc(e){switch(e){case"esriGeometryEnvelope":case"extent":return Ac;case"esriGeometryMultipoint":case"multipoint":return kc;case"esriGeometryPoint":case"point":return xc;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Nc;case"esriGeometryPolyline":case"polyline":return Rc}}var ee;function Ic(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function we(e,t,s){return t==null?s:s==null?t:e(t,s)}let R=ee=class extends re{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,s,n,i){return Ic(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?$.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:s,ymax:n,spatialReference:i??$.WGS84}}static fromPoint(e){return new ee({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new L({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ee;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,s=e.spatialReference;return t&&s&&!t.equals(s)&&jt(t,s)&&(e=t.isWebMercator?Ir(e):Mt(e,!0)),e.type==="point"?Oo(this,e):e.type==="extent"&&$c(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,s=e.spatialReference;return t&&s&&!t.equals(s)&&jt(t,s)&&(e=t.isWebMercator?Ir(e):Mt(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),s=this.width*t,n=this.height*t;if(this.xmin+=s,this.ymin+=n,this.xmax-=s,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,s=e.spatialReference;return t&&s&&!Ie(t,s)&&jt(t,s)&&(e=t.isWebMercator?Ir(e):Mt(e,!0)),Uc(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,s){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,s!=null&&(this.zmin+=s,this.zmax+=s),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=we(Math.min,this.zmin,e.zmin),this.zmax=we(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=we(Math.min,this.mmin,e.mmin),this.mmax=we(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=we(Math.max,this.zmin,e.zmin),this.zmax=we(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=we(Math.max,this.mmin,e.mmin),this.mmax=we(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Gt(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,s=this._getCM(e);if(s){const n=t.isWebMercator?Mt(s):s;this.xmin-=s.x,this.xmax-=s.x,t.isWebMercator||(n.x=jr(n.x,e).x),this.spatialReference=new $(Wn((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[s,n]=e.valid,i=this.xmin,o=this.xmax;return i>=s&&i<=n&&o>=s&&o<=n||(t=this.center),t}_normalize(e,t,s){const n=this.spatialReference;if(!n)return this;const i=s??Gt(n);if(i==null)return this;const o=this._getParts(i).map((c=>c.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return o;let a=!0,u=!0;return o.forEach((c=>{c.hasZ||(a=!1),c.hasM||(u=!1)})),{rings:o.map((c=>{const f=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(a){const d=(c.zmax-c.zmin)/2;for(let y=0;y<f.length;y++)f[y].push(d)}if(u){const d=(c.mmax-c.mmin)/2;for(let y=0;y<f.length;y++)f[y].push(d)}return f})),hasZ:a,hasM:u,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:o,spatialReference:a}=this,u=this.width,c=this.xmin,f=this.xmax;let d;e=e||Gt(a);const[y,_]=e.valid;d=jr(this.xmin,e);const g=d.x,w=d.frameId;d=jr(this.xmax,e);const b=d.x,S=d.frameId,A=g===b&&u>0;if(u>2*_){const q=new ee(c<f?g:b,i,_,o,a),Y=new ee(y,i,c<f?b:g,o,a),W=new ee(0,i,_,o,a),fe=new ee(y,i,0,o,a),he=[],Et=[];q.contains(W)&&he.push(w),q.contains(fe)&&Et.push(w),Y.contains(W)&&he.push(S),Y.contains(fe)&&Et.push(S);for(let Ot=w+1;Ot<S;Ot++)he.push(Ot),Et.push(Ot);t.push({extent:q,frameIds:[w]},{extent:Y,frameIds:[S]},{extent:W,frameIds:he},{extent:fe,frameIds:Et})}else g>b||A?t.push({extent:new ee(g,i,_,o,a),frameIds:[w]},{extent:new ee(y,i,b,o,a),frameIds:[S]}):t.push({extent:new ee(g,i,b,o,a),frameIds:[w]});this.cache._parts=t}const s=this.hasZ,n=this.hasM;if(s||n){const i={};s&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(i)}return t}};function jr(e,t){const[s,n]=t.valid,i=2*n;let o,a=0;return e>n?(o=Math.ceil(Math.abs(e-n)/i),e-=o*i,a=o):e<s&&(o=Math.ceil(Math.abs(e-s)/i),e+=o*i,a=-o),{x:e,frameId:a}}p([h({readOnly:!0})],R.prototype,"cache",null),p([h({readOnly:!0})],R.prototype,"center",null),p([h({readOnly:!0})],R.prototype,"extent",null),p([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],R.prototype,"hasM",null),p([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],R.prototype,"hasZ",null),p([h({readOnly:!0})],R.prototype,"height",null),p([h({readOnly:!0})],R.prototype,"width",null),p([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],R.prototype,"xmin",void 0),p([h({type:Number,json:{write:!0}})],R.prototype,"ymin",void 0),p([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],R.prototype,"mmin",void 0),p([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],R.prototype,"zmin",void 0),p([h({type:Number,json:{write:!0}})],R.prototype,"xmax",void 0),p([h({type:Number,json:{write:!0}})],R.prototype,"ymax",void 0),p([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],R.prototype,"mmax",void 0),p([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],R.prototype,"zmax",void 0),R=ee=p([I("esri.geometry.Extent")],R),R.prototype.toJSON.isDefaultToJSON=!0;let ct;const Dc=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,vs=globalThis.document?.documentElement;function ko(){const e=vs?.getAttribute("lang"),t=globalThis.navigator?.language;return Dc??e??t??"en"}function Bt(){return ct===void 0&&(ct=ko()),ct}const Gc=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function pf(e=Bt()){return Gc.exec(e)?.groups}const Lt=[];function ff(e){return Lt.push(e),j((()=>{Lt.splice(Lt.indexOf(e),1)}))}const zt=[];function hf(e){return zt.push(e),j((()=>zt.splice(zt.indexOf(e),1)))}function Rn(){const e=ko();ct!==e&&([...zt].forEach((t=>t(e))),ct=e,[...Lt].forEach((t=>t(e))))}globalThis.addEventListener?.("languagechange",Rn),vs&&new MutationObserver((()=>{Rn()})).observe(vs,{attributeFilter:["lang"]});let Nt;function jc(e){return Nt&&!Nt.destroyed||(Nt=e()),Nt}var ws;const qc=new so({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let U=ws=class extends ne{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new ws({categories:this.categories?x(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let s=[];this.categories&&(s=this.categories.map((a=>Array.isArray(a)?JSON.stringify(a):a)));let n="";if(this.extent){const a=wc(this.extent,$.WGS84);a!=null&&(n=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:s,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((a=>qc.toJSON(a.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};p([h()],U.prototype,"categories",void 0),p([h()],U.prototype,"disableExtraQuery",void 0),p([h({type:R})],U.prototype,"extent",void 0),p([h()],U.prototype,"filter",void 0),p([h()],U.prototype,"num",void 0),p([h()],U.prototype,"query",void 0),p([h()],U.prototype,"sortField",void 0),p([h()],U.prototype,"sortOrder",null),p([h()],U.prototype,"start",void 0),U=ws=p([I("esri.portal.PortalQueryParams")],U);var bs;let C=bs=class extends Le{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const s=t.categorySchema||[];return s.some((n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas"))?this._fetchCategorySchemaSet("LivingAtlas",e):s}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new T("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new bs({sourceJSON:e});return t.read(e),t}queryItems(e,t){let s=pe(U,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(s=s||new U,n.queryPortal(`/content/groups/${this.id}/search`,s,"PortalItem",t)):(s=s?s.clone():new U,s.query="group:"+this.id+(s.query?" "+s.query:""),n.queryItems(s,t))}_fetchCategorySchemaSet(e,t){const s=this.portal;return s.fetchSelf(s.authMode,!0,t).then((n=>{const i=n.contentCategorySetsGroupQuery;if(i){const o=new U({disableExtraQuery:!0,num:1,query:i});return s.queryGroups(o,t)}throw new T("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((n=>{if(n.total){const i=n.results[0],o=new U({num:1,query:`typekeywords:"${e}"`});return i.queryItems(o,t)}throw new T("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((n=>n.total?n.results[0].fetchData("json",t).then((i=>{const o=i?.categorySchema;return o?.length?o:[]})):[]))}};p([h()],C.prototype,"access",void 0),p([h({type:Date})],C.prototype,"created",void 0),p([h()],C.prototype,"description",void 0),p([h()],C.prototype,"id",void 0),p([h()],C.prototype,"isInvitationOnly",void 0),p([h({type:Date})],C.prototype,"modified",void 0),p([h()],C.prototype,"owner",void 0),p([h()],C.prototype,"portal",void 0),p([h()],C.prototype,"snippet",void 0),p([h()],C.prototype,"sortField",void 0),p([h()],C.prototype,"sortOrder",void 0),p([h()],C.prototype,"sourceJSON",void 0),p([h()],C.prototype,"tags",void 0),p([h()],C.prototype,"thumbnail",void 0),p([h({readOnly:!0})],C.prototype,"thumbnailUrl",null),p([h()],C.prototype,"title",void 0),p([h({readOnly:!0})],C.prototype,"url",null),C=bs=p([I("esri.portal.PortalGroup")],C);let Oe=class extends ne{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};p([h()],Oe.prototype,"nextQueryParams",void 0),p([h()],Oe.prototype,"queryParams",void 0),p([h()],Oe.prototype,"results",void 0),p([h()],Oe.prototype,"total",void 0),Oe=p([I("esri.portal.PortalQueryResult")],Oe);let de=class extends Le{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new T("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};p([h({type:Date})],de.prototype,"created",void 0),p([h()],de.prototype,"id",void 0),p([h()],de.prototype,"portal",void 0),p([h()],de.prototype,"title",void 0),p([h({readOnly:!0})],de.prototype,"url",null),p([h()],de.prototype,"username",void 0),de=p([I("esri.portal.PortalFolder")],de);var Ps;let E=Ps=class extends Le{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,s=e?.data,n=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),s!=null&&(typeof s=="string"?i.query.text=s:typeof s=="object"&&(i.query.text=JSON.stringify(s))));let o=this.userContentUrl;return n&&(o+="/"+(typeof n=="string"?n:n.id)),this.portal.request(o+"/addItem",i).then((a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e,t=!1){let s=this.userContentUrl;e.ownerFolder&&(s+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(s+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const s=this.userContentUrl+"/deleteItems",n=[],i=e.map((o=>o.id));if(i.length){const o={method:"post",query:{items:i.join(","),permanentDelete:t}},a=await this.portal.request(s,o);for(const u of a.results){const c=e.find((y=>u.itemId===y.id)),f=u.success;let d=null;f?(c.id=null,c.portal=null):u.error&&(d=new T("portal:delete-item-failed",u.error.message,u.error)),n.push({item:c,success:f,error:d})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then((t=>{let s;return s=t&&t.folders?t.folders.map((n=>{const i=de.fromJSON(n);return i.portal=this.portal,i})):[],s}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((s=>{const n=C.fromJSON(s);return n.portal=this.portal,n})):[],t}))}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:s}=await V(()=>Promise.resolve().then(()=>Mo),void 0,import.meta.url),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let o;return i?.items?(o=i.items.map((a=>{const u=s.fromJSON(a);return u.portal=this.portal,u})),await Promise.all(o.map((a=>a.load()))),{items:o,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new C({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new T("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const s=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(s+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new T("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Ps({sourceJSON:e});return t.read(e),t}};p([h()],E.prototype,"access",void 0),p([h({type:Date})],E.prototype,"created",void 0),p([h()],E.prototype,"culture",void 0),p([h()],E.prototype,"description",void 0),p([h()],E.prototype,"email",void 0),p([h()],E.prototype,"favGroupId",void 0),p([h()],E.prototype,"fullName",void 0),p([h()],E.prototype,"id",void 0),p([h({type:Date})],E.prototype,"modified",void 0),p([h()],E.prototype,"orgId",void 0),p([h()],E.prototype,"portal",void 0),p([h()],E.prototype,"preferredView",void 0),p([h()],E.prototype,"privileges",void 0),p([h()],E.prototype,"region",void 0),p([h()],E.prototype,"role",void 0),p([h()],E.prototype,"roleId",void 0),p([h()],E.prototype,"sourceJSON",void 0),p([h()],E.prototype,"thumbnail",void 0),p([h({readOnly:!0})],E.prototype,"thumbnailUrl",null),p([h()],E.prototype,"units",void 0),p([h({readOnly:!0})],E.prototype,"userContentUrl",null),p([h({readOnly:!0})],E.prototype,"url",null),p([h()],E.prototype,"username",void 0),p([h()],E.prototype,"userLicenseTypeId",void 0),p([h()],E.prototype,"userType",void 0),E=Ps=p([I("esri.portal.PortalUser")],E);var J;let st;const Un={PortalGroup:()=>Promise.resolve({default:C}),PortalItem:()=>V(()=>Promise.resolve().then(()=>Mo),void 0,import.meta.url),PortalUser:()=>Promise.resolve({default:E})};var ce;let v=(ce=class extends Le.JSONSupportMixin(We){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=B.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){In.unregister(this),this.defaultBasemap=Ct(this.defaultBasemap),this.defaultDevBasemap=Ct(this.defaultDevBasemap),this.defaultVectorBasemap=Ct(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Kn(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const s of t)B.request.trustedServers.includes(s)||B.request.trustedServers.push(s);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,s=!t||this.canSearchPublic;return this.id&&!s?` AND orgid:${this.id}`:null}get hasAPIKey(){return _a(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const s=t.indexOf("/sharing");t=s>0?t.slice(0,s):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,s=this.thumbnail;return t&&s?this._normalizeSSL(t+"/portals/self/resources/"+s):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let s=null;return t&&(s=E.fromJSON(t),s.portal=this),s}load(t){const s=V(()=>import("./C04M3uzL.js").then(n=>n.B),__vite__mapDeps([15,5,2,16,4,1,12,17,18,19]),import.meta.url).then((({default:n})=>{Ft(t),st=n})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t))).then((n=>{if(!this.hasAPIKey&&N){const i=N;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==J.AUTH_MODE_AUTO&&this.authMode!==J.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",Bc(new WeakRef(this))),In.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)}));return this.addResolvingPromise(s),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),s=(await V(async()=>{const{default:n}=await import("./BA3LQDSx.js");return{default:n}},__vite__mapDeps([20,5,1,2,21,22,23,12,4,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,16,40,41,42,11]),import.meta.url)).default;return t?t.map((n=>new s({id:n.id,url:n.url}))):[]}async fetchBasemaps(t,s){const n=await this._fetchBasemaps(t,s);if(s?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,s);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const s=new U;s.query=this.default3DBasemapQuery,s.disableExtraQuery=!0;const n=(await this.queryItems(s,t)).results.find((i=>i.type==="Web Scene"));return n?new st({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then((s=>s.categorySchema)):Re(t)?Promise.reject(Z()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then((s=>s.classificationSchema)):null}fetchFeaturedGroups(t){const s=this.featuredGroups,n=new U({num:100,sortField:"title"});if(s?.length){const i=[];for(const o of s)i.push(`(title:"${o.title}" AND owner:${o.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then((o=>o.results))}return Re(t)?Promise.reject(Z()):Promise.resolve([])}fetchRegions(t){const s=this.user?.culture||this.culture||Bt();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:s}})}fetchSettings(t){const s=this.user?.culture||this.culture||Bt();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:s}})}static getDefault(){return jc((()=>new J))}queryGroups(t,s){return this.queryPortal("/community/groups",t,"PortalGroup",s)}queryItems(t,s){return this.queryPortal("/search",t,"PortalItem",s)}queryUsers(t,s){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",s)}fetchSelf(t=this.authMode,s=!1,n){const i=this.restUrl+"/portals/self",o={authMode:t,query:{culture:Bt().toLowerCase()},withCredentials:!0,...n};return o.authMode==="auto"&&(o.authMode="no-prompt"),s&&(o.query.default=!0),this.request(i,o)}queryPortal(t,s,n,i){const o=pe(U,s),a=u=>this.request(this.restUrl+t,{...o.toRequestOptions(this),...i}).then((c=>{const f=o.clone();return f.start=c.nextStart,new Oe({nextQueryParams:f,queryParams:o,total:c.total,results:J._resultsToTypedArray(u,{portal:this},c,i)})})).then((c=>Promise.all(c.results.map((f=>typeof f.when=="function"?f.when():c))).then((()=>c),(f=>(ia(f),c)))));return n&&Un[n]?Un[n]().then((({default:u})=>(Ft(i),a(u)))):a()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new T("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===J.AUTH_MODE_ANONYMOUS||this.authMode===J.AUTH_MODE_NO_PROMPT&&!N)return Promise.reject(new T("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=s=>Promise.resolve().then((()=>this.loadStatus==="not-loaded"?(s||(this.authMode="immediate"),this.load().then((()=>null))):this.loadStatus==="loading"?this.load().then((()=>this.credential?null:(this.credential=s,this.fetchSelf("immediate")))):this.user&&this.credential===s?null:(this.credential=s,this.fetchSelf("immediate")))).then((n=>{n&&(this.sourceJSON=n,this.read(n))}));return N?N.getCredential(this.restUrl,{prompt:this.authMode!==J.AUTH_MODE_NO_PROMPT}).then((s=>t(s))):t(this.credential)}normalizeUrl(t){const s=this.credential?.token;return this._normalizeSSL(s?t+(t.includes("?")?"&":"?")+"token="+s:t)}requestToTypedArray(t,s,n){return this.request(t,s).then((i=>{const o=J._resultsToTypedArray(n,{portal:this},i);return Promise.all(o.map((a=>typeof a.when=="function"?a.when():i))).then((()=>o),(()=>o))}))}request(t,s={}){const n={f:"json",...s.query},{authMode:i=this.authMode===J.AUTH_MODE_ANONYMOUS||this.authMode===J.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:o=null,cacheBust:a=!1,method:u="auto",responseType:c="json",signal:f}=s,d={authMode:i,body:o,cacheBust:a,method:u,query:n,responseType:c,timeout:0,signal:f};return s.withCredentials&&(d.withCredentials=!0),se(this._normalizeSSL(t),d).then((y=>y.data))}toJSON(){throw new T("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new J({sourceJSON:t})}_getHelperService(t){const s=this.helperServices&&this.helperServices[t];if(!s)throw new T("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return s}async _fetchBasemaps(t,s){const n=new U;n.query=t||(Vs()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,s);if(!i.total)return[];const o=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(n,s);return a.total?a.results.filter((u=>u.type==="Web Map")).map((u=>new st({portalItem:u}))):[]}async _fetchBasemaps3D(t,s){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(Vs())return[];const i=new U({query:n,disableExtraQuery:!0}),o=await this.queryGroups(i,s);if(!o.total)return[];const a=o.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=a.sortField||"name",i.sortOrder=a.sortOrder||"desc";const u=await a.queryItems(i,s);return u.total?u.results.filter((c=>c.type==="Web Scene")).map((c=>new st({portalItem:c}))):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const s=st.fromJSON(t);return s.portalItem={portal:this},s}return null}static _resultsToTypedArray(t,s,n,i){let o;if(n){const a=i!=null?i.signal:null;o=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||s)&&(o=o.map((u=>{const c=Object.assign(t?t.fromJSON(u):u,s);return typeof c.load=="function"&&c.load(a),c})))}else o=[];return o}},J=ce,ce.AUTH_MODE_ANONYMOUS="anonymous",ce.AUTH_MODE_AUTO="auto",ce.AUTH_MODE_IMMEDIATE="immediate",ce.AUTH_MODE_NO_PROMPT="no-prompt",ce);p([h()],v.prototype,"access",void 0),p([h()],v.prototype,"allSSL",void 0),p([h()],v.prototype,"authMode",void 0),p([h()],v.prototype,"authorizedCrossOriginDomains",void 0),p([ye("authorizedCrossOriginDomains")],v.prototype,"readAuthorizedCrossOriginDomains",null),p([h()],v.prototype,"basemapGalleryGroupQuery",void 0),p([h({json:{name:"3DBasemapGalleryGroupQuery"}})],v.prototype,"basemapGalleryGroupQuery3D",void 0),p([h()],v.prototype,"bingKey",void 0),p([h()],v.prototype,"canListApps",void 0),p([h()],v.prototype,"canListData",void 0),p([h()],v.prototype,"canListPreProvisionedItems",void 0),p([h()],v.prototype,"canProvisionDirectPurchase",void 0),p([h()],v.prototype,"canSearchPublic",void 0),p([h()],v.prototype,"canShareBingPublic",void 0),p([h()],v.prototype,"canSharePublic",void 0),p([h()],v.prototype,"canSignInArcGIS",void 0),p([h()],v.prototype,"canSignInIDP",void 0),p([h()],v.prototype,"colorSetsGroupQuery",void 0),p([h()],v.prototype,"commentsEnabled",void 0),p([h({type:Date})],v.prototype,"created",void 0),p([h()],v.prototype,"credential",void 0),p([h()],v.prototype,"culture",void 0),p([h()],v.prototype,"currentVersion",void 0),p([h()],v.prototype,"customBaseUrl",void 0),p([h()],v.prototype,"default3DBasemapQuery",void 0),p([h()],v.prototype,"defaultBasemap",void 0),p([ye("defaultBasemap")],v.prototype,"readDefaultBasemap",null),p([h()],v.prototype,"defaultDevBasemap",void 0),p([ye("defaultDevBasemap")],v.prototype,"readDefaultDevBasemap",null),p([h({type:R})],v.prototype,"defaultExtent",void 0),p([h()],v.prototype,"defaultVectorBasemap",void 0),p([ye("defaultVectorBasemap")],v.prototype,"readDefaultVectorBasemap",null),p([h()],v.prototype,"description",void 0),p([h()],v.prototype,"devBasemapGalleryGroupQuery",void 0),p([h()],v.prototype,"eueiEnabled",void 0),p([h({readOnly:!0})],v.prototype,"extraQuery",null),p([h()],v.prototype,"featuredGroups",void 0),p([h()],v.prototype,"featuredItemsGroupQuery",void 0),p([h()],v.prototype,"galleryTemplatesGroupQuery",void 0),p([h()],v.prototype,"layoutGroupQuery",void 0),p([h()],v.prototype,"livingAtlasGroupQuery",void 0),p([h({readOnly:!0})],v.prototype,"hasAPIKey",null),p([h()],v.prototype,"hasCategorySchema",void 0),p([h()],v.prototype,"hasClassificationSchema",void 0),p([h()],v.prototype,"helpBase",void 0),p([h()],v.prototype,"helperServices",void 0),p([h()],v.prototype,"helpMap",void 0),p([h()],v.prototype,"homePageFeaturedContent",void 0),p([h()],v.prototype,"homePageFeaturedContentCount",void 0),p([h()],v.prototype,"httpPort",void 0),p([h()],v.prototype,"httpsPort",void 0),p([h()],v.prototype,"id",void 0),p([h()],v.prototype,"ipCntryCode",void 0),p([h({readOnly:!0})],v.prototype,"isOrganization",null),p([h()],v.prototype,"isPortal",void 0),p([h()],v.prototype,"isReadOnly",void 0),p([h({readOnly:!0})],v.prototype,"itemPageUrl",null),p([h()],v.prototype,"layerTemplatesGroupQuery",void 0),p([h()],v.prototype,"maxTokenExpirationMinutes",void 0),p([h({type:Date})],v.prototype,"modified",void 0),p([h()],v.prototype,"name",void 0),p([h()],v.prototype,"portalHostname",void 0),p([h()],v.prototype,"portalMode",void 0),p([h()],v.prototype,"portalProperties",void 0),p([h()],v.prototype,"region",void 0),p([h()],v.prototype,"recycleBinEnabled",void 0),p([h({readOnly:!0})],v.prototype,"restUrl",null),p([h()],v.prototype,"rotatorPanels",void 0),p([h()],v.prototype,"showHomePageDescription",void 0),p([h()],v.prototype,"sourceJSON",void 0),p([h()],v.prototype,"staticImagesUrl",void 0),p([h({json:{name:"2DStylesGroupQuery"}})],v.prototype,"stylesGroupQuery2d",void 0),p([h({json:{name:"stylesGroupQuery"}})],v.prototype,"stylesGroupQuery3d",void 0),p([h()],v.prototype,"supportsHostedServices",void 0),p([h()],v.prototype,"symbolSetsGroupQuery",void 0),p([h()],v.prototype,"templatesGroupQuery",void 0),p([h()],v.prototype,"thumbnail",void 0),p([h({readOnly:!0})],v.prototype,"thumbnailUrl",null),p([h()],v.prototype,"units",void 0),p([h()],v.prototype,"url",void 0),p([h()],v.prototype,"urlKey",void 0),p([ye("urlKey")],v.prototype,"readUrlKey",null),p([h()],v.prototype,"user",void 0),p([ye("user")],v.prototype,"readUser",null),p([h()],v.prototype,"use3dBasemaps",void 0),p([h()],v.prototype,"useDefault3dBasemap",void 0),p([h()],v.prototype,"useStandardizedQuery",void 0),p([h()],v.prototype,"useVectorBasemaps",void 0),p([h()],v.prototype,"vectorBasemapGalleryGroupQuery",void 0),v=J=p([I("esri.portal.Portal")],v);const In=new FinalizationRegistry((e=>{e.remove()}));function Bc(e){const t=N;return()=>{const s=e.deref();s&&t.findCredential(s.restUrl)&&s.signIn().catch((()=>{}))}}let me=class extends ne{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:Dn(e.path,e.portalItem)}:e}set path(e){e!=null&&at(e)?F.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return Dn(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const s=this.cdnUrl;if(s==null)throw new T("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(s,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:s}=await V(()=>import("./By4FNNzU.js"),__vite__mapDeps([43,1,2]),import.meta.url);return await s(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return this.path!=null}};function Dn(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&at(e)&&(e=$s(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}p([h()],me.prototype,"portalItem",void 0),p([h({type:String,value:null})],me.prototype,"path",null),p([So("path")],me.prototype,"_castPath",null),p([h({type:String,readOnly:!0})],me.prototype,"url",null),p([h({type:String,readOnly:!0})],me.prototype,"cdnUrl",null),p([h({type:String,readOnly:!0})],me.prototype,"itemRelativeUrl",null),me=p([I("esri.portal.PortalItemResource")],me);let ke=class extends ne{constructor(e){super(e),this.created=null,this.rating=null}};p([h({type:Date})],ke.prototype,"created",void 0),p([h()],ke.prototype,"rating",void 0),ke=p([I("esri.portal.PortalRating")],ke);var Te;const Lc=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),zc=new Set(["KML","GeoJson","CSV"]);let P=Te=class extends Le.JSONSupportMixin(We){static from(e){return Gi(Te,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let s=e;return e==="Feature Service"||e==="Feature Collection"?s=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?s=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?s="Scene Layer":e==="Video Service"?s="Video Layer":e==="Scene Package"?s="Scene Layer Package":e==="Stream Service"?s="Feature Layer":e==="Geoprocessing Service"?s=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?s="GeoEnrichment Service":e==="Geocoding Service"?s="Locator":e==="Microsoft Powerpoint"?s="Microsoft PowerPoint":e==="GeoJson"?s="GeoJSON":e==="Globe Service"?s="Globe Layer":e==="Vector Tile Service"?s="Tile Layer":e==="netCDF"?s="NetCDF":e==="Map Service"?s=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?s=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?s="Big Data File Share":e==="Compact Tile Package"?s="Tile Package (tpkx)":e==="Raster function template"?s="Raster Function Template":e==="OGCFeatureServer"?s="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?s="Instant App":e==="Insights Page"?s="Insights Report":e==="Excalibur Imagery Project"?s="Excalibur Project":e==="3DTiles Service"?s="3D tiles layer":e==="3DTiles Package"&&(s="3D tiles package"),s}readExtent(e){return e&&e.length?new R(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],s="esri/images/portal/",n="16";let i,o=!1,a=!1,u=!1,c=!1,f=!1,d=!1,y=!1,_=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),u=t.includes("Route Layer"),c=t.includes("Markup"),f=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=f&&a?"spatiotemporaltable":a?"table":u?"routelayer":c?"markup":f?"spatiotemporal":d?"utilitynetwork":o?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(f=t.includes("Spatiotemporal"),y=t.includes("Relational"),i=f||y?"mapimages":o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="reality mapping project"?i="realitymappingproject":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="urban project"?i="urbanproject":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro presentation"?i="propresentation":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(_=t.includes("Map"),i=_?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?no(s+i+n+".png"):null}get isLayer(){return this.type!=null&&Lc.has(this.type)}get itemCdnUrl(){return Ts(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=v.getDefault()),s=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{})).then((n=>{this.sourceJSON=n,this.read(n)}));return this.addResolvingPromise(s),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},s=e instanceof ke?e.rating:e;return s==null||isNaN(s)||typeof e!="number"||(t.query.rating=s),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new ke({rating:s,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:x(this.applicationProxies),avgRating:this.avgRating,categories:x(this.categories),classification:x(this.classification),created:x(this.created),culture:this.culture,description:this.description,extent:x(this.extent),groupCategories:x(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:x(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:x(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:x(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:x(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Te({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const s=e[t];s&&(e[t]=JSON.stringify(s))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new ke(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Te)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,s={method:"post"};s.query=this.createPostQuery();for(const n in s.query)s.query[n]===null&&(s.query[n]="");return s.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?s.query.text=t:typeof t=="object"&&(s.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,s).then((()=>this.reload()))})):Promise.reject(new T("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new T("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:s}=this;await t.signIn();const{copyResources:n,folder:i,tags:o,title:a}=e||{},u={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i?.id,includeResources:!!n,tags:o?.join(","),title:a}},{itemId:c}=await t.request(`${s}/copy`,u);return new Te({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,s=e.filename,n={method:"post"};if(typeof t=="string")pr(t)?n.query={data:t}:n.query={url:cr(t)},s!=null&&(n.query.filename=s);else{const i=new FormData;s!=null?i.append("file",t,s):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then((()=>this.reload()))})):Promise.reject(new T("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:s}=await V(()=>import("./By4FNNzU.js"),__vite__mapDeps([43,1,2]),import.meta.url);return s(this,e,t)}async addResource(e,t,s){const{addOrUpdateResources:n}=await V(()=>import("./By4FNNzU.js"),__vite__mapDeps([43,1,2]),import.meta.url);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:s?.compress,access:s?.access}],"add",s),e}async removeResource(e,t){const{removeResource:s}=await V(()=>import("./By4FNNzU.js"),__vite__mapDeps([43,1,2]),import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new T("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await V(()=>import("./By4FNNzU.js"),__vite__mapDeps([43,1,2]),import.meta.url);return t(this,e)}resourceFromPath(e){return new me({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:x(this.categories),classification:x(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:x(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:x(this.typeKeywords),url:this.url};return Do(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Te({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};p([h({type:["private","shared","org","public"]})],P.prototype,"access",void 0),p([h()],P.prototype,"accessInformation",void 0),p([h({type:String})],P.prototype,"apiKey",void 0),p([h({json:{read:{source:"appProxies"}}})],P.prototype,"applicationProxies",void 0),p([h()],P.prototype,"avgRating",void 0),p([h()],P.prototype,"categories",void 0),p([h()],P.prototype,"classification",void 0),p([h({type:Date})],P.prototype,"created",void 0),p([h()],P.prototype,"culture",void 0),p([h()],P.prototype,"description",void 0),p([h({readOnly:!0})],P.prototype,"displayName",null),p([h({type:R})],P.prototype,"extent",void 0),p([ye("extent")],P.prototype,"readExtent",null),p([h()],P.prototype,"groupCategories",void 0),p([h({readOnly:!0})],P.prototype,"iconUrl",null),p([h()],P.prototype,"id",void 0),p([h({readOnly:!0})],P.prototype,"isLayer",null),p([h({type:Boolean,readOnly:!0})],P.prototype,"isOrgItem",void 0),p([h()],P.prototype,"itemControl",void 0),p([h({readOnly:!0})],P.prototype,"itemPageUrl",null),p([h({readOnly:!0})],P.prototype,"itemUrl",null),p([h()],P.prototype,"licenseInfo",void 0),p([h({type:Date})],P.prototype,"modified",void 0),p([h()],P.prototype,"name",void 0),p([h()],P.prototype,"numComments",void 0),p([h()],P.prototype,"numRatings",void 0),p([h()],P.prototype,"numViews",void 0),p([h()],P.prototype,"owner",void 0),p([h()],P.prototype,"ownerFolder",void 0),p([h({type:v})],P.prototype,"portal",void 0),p([h()],P.prototype,"screenshots",void 0),p([h()],P.prototype,"size",void 0),p([h()],P.prototype,"snippet",void 0),p([h()],P.prototype,"sourceJSON",void 0),p([h({type:String})],P.prototype,"sourceUrl",void 0),p([h({type:String})],P.prototype,"spatialReference",void 0),p([h()],P.prototype,"tags",void 0),p([h()],P.prototype,"thumbnail",void 0),p([h({readOnly:!0})],P.prototype,"thumbnailUrl",null),p([h()],P.prototype,"title",void 0),p([h()],P.prototype,"type",void 0),p([h()],P.prototype,"typeKeywords",void 0),p([h({type:String,json:{read(e,t){if(zc.has(t.type)){const s=this.portal?.restUrl;e||=s&&this.id?`${s}/content/items/${this.id}/data`:null}return e}}})],P.prototype,"url",void 0),p([h({readOnly:!0})],P.prototype,"userItemUrl",null),P=Te=p([I("esri.portal.PortalItem")],P);const Mo=Object.freeze(Object.defineProperty({__proto__:null,get default(){return P}},Symbol.toStringTag,{value:"Module"}));export{Yp as $,dl as A,is as B,ye as C,Ar as D,D0 as E,vr as F,$ as G,se as H,bt as I,N as J,ai as K,li as L,v as M,O0 as N,P as O,S0 as P,vo as Q,Ct as R,Mt as S,Ft as T,fa as U,ia as V,E as W,ac as X,Hs as Y,Xl as Z,L as _,p as a,Qp as a$,Ie as a0,Jn as a1,tt as a2,Dp as a3,et as a4,Gi as a5,ae as a6,Vp as a7,oe as a8,Ae as a9,Ti as aA,Fu as aB,dr as aC,Bt as aD,Rp as aE,Sr as aF,$r as aG,ho as aH,mo as aI,Ju as aJ,po as aK,lr as aL,co as aM,Gu as aN,Iu as aO,Ap as aP,wc as aQ,j0 as aR,G0 as aS,$0 as aT,Qn as aU,b0 as aV,k0 as aW,g0 as aX,aa as aY,w0 as aZ,la as a_,Kn as aa,pt as ab,oa as ac,ft as ad,Z as ae,ua as af,P0 as ag,l0 as ah,$t as ai,De as aj,Gt as ak,K0 as al,Lp as am,Fp as an,zp as ao,Wp as ap,Jp as aq,Hp as ar,ys as as,O as at,pe as au,as as av,M as aw,ar as ax,os as ay,us as az,I as b,Xc as b$,Zp as b0,Zn as b1,Wr as b2,kp as b3,So as b4,pf as b5,Vc as b6,Xe as b7,i0 as b8,n0 as b9,Bu as bA,I0 as bB,U0 as bC,E0 as bD,oi as bE,T0 as bF,x0 as bG,lc as bH,Zu as bI,Po as bJ,c0 as bK,Ui as bL,z0 as bM,bu as bN,Ou as bO,Au as bP,Ye as bQ,p0 as bR,gl as bS,Re as bT,na as bU,Vo as bV,Hc as bW,Cp as bX,Yu as bY,Ei as bZ,l as b_,Gp as ba,Yc as bb,Qc as bc,jp as bd,Ir as be,Zc as bf,vt as bg,d0 as bh,y0 as bi,ei as bj,m0 as bk,jl as bl,U as bm,no as bn,jt as bo,Je as bp,Er as bq,ze as br,Ko as bs,As as bt,ra as bu,u0 as bv,af as bw,Np as bx,Lu as by,zu as bz,We as c,oc as c$,A0 as c0,Pp as c1,o0 as c2,ot as c3,h0 as c4,_p as c5,To as c6,Nc as c7,Z0 as c8,X0 as c9,bl as cA,_0 as cB,_l as cC,a0 as cD,Qu as cE,Kp as cF,$o as cG,cf as cH,uf as cI,yt as cJ,Pr as cK,Qe as cL,Ip as cM,of as cN,Xp as cO,r0 as cP,ip as cQ,Ns as cR,Ee as cS,Vn as cT,ff as cU,hf as cV,dp as cW,fs as cX,ef as cY,Bp as cZ,qp as c_,op as ca,Js as cb,Oi as cc,Ac as cd,Uc as ce,Oo as cf,lf as cg,Pl as ch,lp as ci,ap as cj,$l as ck,Sl as cl,Up as cm,Kc as cn,Xr as co,hi as cp,f0 as cq,t0 as cr,M0 as cs,fo as ct,ti as cu,Vs as cv,bp as cw,Rs as cx,Mp as cy,Yo as cz,gr as d,dn as d0,tf as d1,rf as d2,sf as d3,Ll as d4,Ba as d5,np as d6,_s as d7,va as d8,al as d9,hp as da,mp as db,v0 as dc,up as dd,ea as de,bc as df,rn as dg,R0 as dh,C0 as di,e0 as dj,ep as dk,Hn as dl,s0 as dm,Mo as dn,Xn as e,ht as f,ca as g,ya as h,fp as i,Li as j,ha as k,Le as l,h as m,vi as n,so as o,yr as p,Us as q,Va as r,ql as s,xs as t,re as u,br as v,ne as w,j as x,lu as y,R as z};
