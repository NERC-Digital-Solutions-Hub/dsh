const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./bANjbJZz.js","./ChwpPGxO.js","./DOBtub6T.js","../assets/index.CQED0rIl.css","./DlHjpvET.js","./CEIZYuf2.js","./CdDXOJ3Y.js","./Bc_TmxSc.js","./4u0wcz6f.js","./C6pzAkdR.js","./Dbe4YmwF.js","./DYslx7It.js","./DXGw_0Ww.js","./DHAweUE4.js","./CYB2EK_d.js","./CDVZq1T0.js","./ChPbm0gk.js","./1160-yKR.js","./jjnFKm2P.js","./D0Dr7phT.js","./D-Nm-cDg.js","./Dex61Jy7.js","./CyEy4v0v.js","./u2v3y1km.js","./HTOW8iPe.js","./DtjklSP3.js","./BtPv87m4.js","./u__u_My6.js","./Bih5x83q.js","./DJsyVkJI.js","./BeUU2AIC.js","./Q4uAvk2f.js","./CJP0fhpy.js","./B8vQCAMP.js","./B-dyYvju.js","./h2nqTh5L.js","./7pfTzauh.js","./Bkm1woOz.js","./BkwlVBD6.js","./D5Wp6fIc.js","./DuIgqnlY.js","./CUoJHyRG.js","./CoFroyO5.js","./DaQyK3nQ.js","./CSJ5BKtc.js","./CDGqq53N.js","./BzZgUCJc.js","./C9_KfL0q.js","./D1sKJjB8.js","./COT3swUQ.js","./C3oh_tnt.js","./PPVm8Dsz.js","./Cad-p0g1.js","./DY7bJyoW.js","./fh0BQpDQ.js","./DyeKTZUU.js","./Bcsiu1z4.js","./bnayRBMH.js","./CZ1cFYIj.js","./CY1ScL2v.js","./CicY3o9G.js","./CPwmGbun.js","./NEmuse4e.js","./clW6bTka.js","./ACUHQZfM.js","./Caulfaw_.js","./DLgHIcDL.js","./DGRj8LLO.js","./BcU1P1CV.js","./BPKnb2Ep.js","./BobhZSEo.js","./BkaRJQOf.js","./DujhAnCs.js","./CWMNWfLw.js","./CmkbQrYx.js","./BuFC1hBS.js","./EQ54Yfcd.js","./DuNa-JhG.js","./3SbGqcbX.js","./OuCfdC0r.js","./Cbf23dJy.js","./CWaspPwN.js","./DU7d-98y.js","./CvbnrAEx.js","./DKzVzLpH.js","./BEQnBRaB.js","./BvOub3JO.js","./2al6WD4b.js","./CyyW12qt.js","./Dpaauiqf.js","./DstbFQD6.js","./CxKE0Jjq.js","./BDmhfu3R.js","./DxjXvSCh.js","./qyF9FwQ9.js","./XI-Li77m.js","./DjsBn23O.js","./DbEENCEu.js","./W0UZelZr.js","./CYsY5VfR.js","./DY-T12td.js","./BLoUYHSD.js","./B1ogp8lg.js","./BNEZVyfC.js","./BkBiEG3b.js","./BVxmDY2A.js","./B2s4jCtj.js","./BRnTRT3N.js","./JS31i3T8.js","./8WtPGj6h.js","./CG7ZQ6BV.js","./Bb2UHNFn.js","./BaQT-5Wt.js","./BvER9tXK.js","./hsUCLHdy.js","./DB_HFzqz.js","./Ce7ly0LS.js","./awhkIg9R.js","./DQqmTwIq.js","./Cnxitj77.js","./Bxxl7NsE.js","./CaVKkSa6.js","./CUzevAry.js","./C8zGwbjb.js","./BXRzsev0.js","./DGkpPXov.js","./CpKt4gnm.js","./C7_IYguP.js","./CaDenjTi.js","./DcH0oO2S.js","./C7e3Z5XT.js","./DnsAcW94.js","./Jx_l4LqE.js","./D-YQ4CHs.js","./CZ1PpfAL.js","./Bnx2AwXq.js","./CW6oUwfL.js","./DaOkAtYB.js","./DgiS1ymr.js","./6zWowJh7.js","./DL5OcIt-.js","./HoNWw-UZ.js","./CQjVHIWe.js"])))=>i.map(i=>d[i]);
import{A as xe,g as Ie,d as Le,r as Ce,l as Ee}from"./BCXDwddQ.js";import{p as ke,a as Me,c as Ae}from"./CdDXOJ3Y.js";import{_ as x}from"./PPVm8Dsz.js";import{_ as s,m as a,a as D,u as X,f as ce,aC as N}from"./CDGqq53N.js";import{s as Y,a as f,m as E,O as P,l as Te,b as ee}from"./D1sKJjB8.js";import{s as te}from"./DL5OcIt-.js";import{N as Oe}from"./BzZgUCJc.js";import"./C9_KfL0q.js";import{B as K,c as pe,e as ie}from"./DY7bJyoW.js";import{n as Pe,q as re}from"./fh0BQpDQ.js";import{b as se,c as Se,a as ae,e as $e}from"./HoNWw-UZ.js";import{n as h,j as U}from"./CZ1cFYIj.js";import{s as De}from"./DnsAcW94.js";import{e as le}from"./BQBvadb7.js";import{O as Fe}from"./Cad-p0g1.js";import{aJ as Re,aK as ze,aL as Ne}from"./CPwmGbun.js";import{e as V}from"./D-YQ4CHs.js";import{M as Ve,I as Be,a as Ue,f as he,L as He}from"./DOBtub6T.js";import{c as je}from"./DLVnMPmE.js";const L="esri-layer-list",O=`${L}__item`,F={base:L,actionMenu:`${L}__action-menu`,actionGroup:`${L}__action-group`,filterNoResults:`${L}__filter-no-results`,item:O,itemActive:`${O}--active`,itemContentBottom:`${O}-content-bottom`,itemMessage:`${O}-message`,itemActionIcon:`${O}-action-icon`,itemActionImage:`${O}-action-image`,itemTemporaryIcon:`${O}-temporary-icon`,itemTableIcon:`${O}-table-icon`,itemCatalogIcon:`${O}-catalog-icon`,statusIndicator:`${L}__status-indicator`,publishing:`${L}__publishing`,updating:`${L}__updating`,connectionStatus:`${L}__connection-status`,connectionStatusConnected:`${L}__connection-status--connected`,visibleToggle:`${L}__visible-toggle`,visibleIcon:`${L}__visible-icon`},me={hide:"hide",hideChildren:"hide-children"},Ge=10,qe=2;function We({exclusive:t,visible:e,visibilityAppearance:i}){const r=i==="checkbox";return e?t?"circle-f":r?"check-square-f":"view-visible":t?"circle":r?"square":"view-hide"}function Ye({connectionStatus:t,publishing:e}){return t?t==="connected"?"beacon":"offline":e?"square":"bullet-point"}function Ke(t){return t?.listMode===me.hideChildren}function H(t){return t?.listMode??void 0}function Ze(t){return t!=null&&"minScale"in t&&t.minScale!=null?t.minScale:void 0}function Je(t){return t!=null&&"maxScale"in t&&t.maxScale!=null?t.maxScale:void 0}function Qe(t){if(!t)return"inherited";const e=at(Z(t)?t.layer:t);return e!=null?e?"independent":"inherited":"visibilityMode"in t&&t.visibilityMode!=null?t.visibilityMode:"independent"}function Xe(t){t?.removeMany(t.filter(e=>e?.destroyed))}function ge(t){if(t&&(!("type"in t)||t.type!=="wmts"))return"sublayers"in t?"sublayers":"layers"in t?"layers":void 0}function et(t,e){t&&(t.filterPredicate=e?i=>e(M(i)):void 0)}function tt(t){const e=(t?.layer&&Z(t.layer)?t.layer.layer:void 0)??t?.layer;return!!e&&e.type!=="catalog"&&(lt(e)??!0)}function it(t){return H(t)!==me.hide}function rt(t,e){if(!t||e==null||isNaN(e))return!1;const i=Ze(t),r=Je(t),l=i!=null&&!isNaN(i)&&i>0&&e>i,o=r!=null&&!isNaN(r)&&r>0&&e<r;return l||o}function ue(t,e){t?.sort((i,r)=>{const l="uid"in i?e.indexOf(i.uid):-1,o="uid"in r?e.indexOf(r.uid):-1;return l>o?-1:l<o?1:0})}function st(t,e){const i=t?.layer;if(!i)return;const r=ge(i);if(!r)return;let l;r==="layers"&&"layers"in i?l=i.layers:r==="sublayers"&&"sublayers"in i&&(l=i.sublayers),ue(l,e)}function oe(t){const e=t?.layer;return e&&"layers"in e?e.layers:null}function Z(t){return t!=null&&"layer"in t&&t.layer!=null}function at(t){const e=ye(t);return e!=null&&"supportsSublayerVisibility"in e?e.supportsSublayerVisibility:void 0}function lt(t){const e=ye(t);return e!=null&&"supportsDynamicLayers"in e?e.supportsDynamicLayers:void 0}function ye(t){return t&&"capabilities"in t&&t.capabilities!=null&&"exportMap"in t.capabilities?t.capabilities.exportMap:void 0}function M(t){return t?.["data-item"]}function ne(t){return t?.getAttribute("data-layer-type")}function ot(t){const{children:e,error:i}=t,r="incompatible"in t&&t.incompatible;return!!e?.filter(l=>!l.hidden).length&&!i&&!r}function nt(t){for(const e of t)for(const i of e)if(i.type==="button"||i.type==="toggle")return i}var W,$;let c=($=class extends K{constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=i=>{this.item.actionsOpen=i.currentTarget.open},this._setTooltipReference=i=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,i)},this._removeTooltipReference=()=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,null)}}loadDependencies(){return pe({"action-group":()=>x(()=>import("./bANjbJZz.js").then(e=>e.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url),"action-menu":()=>x(()=>import("./ChPbm0gk.js").then(e=>e.i),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,25]),import.meta.url),action:()=>x(()=>import("./Dbe4YmwF.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9,11,12,13,14,15]),import.meta.url),icon:()=>x(()=>import("./Bc_TmxSc.js").then(e=>e.i),__vite__mapDeps([7,2,3,8,9]),import.meta.url),"list-item":()=>x(()=>import("./BtPv87m4.js"),__vite__mapDeps([26,7,2,3,8,9,27,12,17,18,19,4,13,24,20,28,14,6,1,5,10,11,15,29,30,31,32,33]),import.meta.url),list:()=>x(()=>import("./B-dyYvju.js"),__vite__mapDeps([34,1,2,3,4,5,6,35,12,9,8,11,7,36,37,38,21,15,13,24,39,40,14,41,19,32]),import.meta.url),notice:()=>x(()=>import("./CoFroyO5.js"),__vite__mapDeps([42,7,2,3,8,9,12,43,20,14,6,5]),import.meta.url)})}render(){const e=this.parentTitles??[],{_title:i,item:r,activeItem:l,selectionMode:o,selectedItems:n,messages:d,parent:m,css:g,dragDisabled:y}=this,_="visibleAtCurrentTimeExtent"in r&&"layerInvisibleAtTime"in d&&!r.visibleAtCurrentTimeExtent?`${i} (${d.layerInvisibleAtTime})`:"visibleAtCurrentScale"in r&&"layerInvisibleAtScale"in d&&!r.visibleAtCurrentScale?`${i} (${d.layerInvisibleAtScale})`:i,I="parent"in r&&r.parent?.layer?.type==="catalog",{layer:A}=r,S="visibleAtCurrentScale"in r&&!r.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in r&&!r.visibleAtCurrentTimeExtent;return h("calcite-list-item",{afterCreate:v=>this._focusSelectedDragEl(v,r),afterUpdate:v=>this._focusSelectedDragEl(v,r),class:this.classes(g.item,"itemActive"in g&&{[g.itemActive]:l===r}),"data-item":r,"data-layer-id":A?.id,dragDisabled:!r.sortable||I||y,expanded:"open"in r&&r.open,id:A?.uid,key:`list-item-${A?.uid}`,label:i,metadata:{parentTitles:e,_title:i},selected:o!=="none"&&n.includes(r),title:_,unavailable:S,value:A?.uid,onCalciteListItemSelect:v=>"visible"in r&&this._handleCalciteListItemSelect(v,r,m),onCalciteListItemToggle:v=>"open"in r&&this._handleCalciteListItemToggle(v,r)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:i,visibleElements:r,css:l}=this;if(!r.statusIndicators)return null;const{publishing:o}=e,n="updating"in e&&e.updating&&!i,d="connectionStatus"in e?e.connectionStatus:void 0,m=!!d;return h("calcite-icon",{class:this.classes(l.statusIndicator,{[l.publishing]:o},"updating"in l&&{[l.updating]:n},"connectionStatus"in l&&{[l.connectionStatus]:m},"connectionStatusConnected"in l&&{[l.connectionStatusConnected]:m&&d==="connected"}),icon:Ye({connectionStatus:d,publishing:o}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:i,css:r}=this,{layer:l}=e,o="temporaryLayerIndicators"in i&&i.temporaryLayerIndicators,n="temporaryTableIndicators"in i&&i.temporaryTableIndicators,d=l&&"persistenceEnabled"in l&&(Pe(l)||!l.persistenceEnabled);return(o||n)&&d?h("calcite-icon",{class:r.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{_title:e,item:i,parent:r,messages:l,visibilityAppearance:o,css:n}=this;if(!("visible"in i&&"layerVisibility"in l&&"showLayer"in l&&"hideLayer"in l&&"visibleToggle"in n&&o))return null;const{visible:d}=i,m=this._getParentVisibilityMode(r);if(m==="inherited")return null;const g=We({visible:d,exclusive:m==="exclusive",visibilityAppearance:o}),y=o==="checkbox",_=l.layerVisibility,I=De(d?l.hideLayer:l.showLayer,{layerName:e});return h("calcite-action",{appearance:"transparent",class:n.visibleToggle,icon:y?g:void 0,key:"visibility-toggle",label:I,onclick:()=>this._toggleVisibility(i,r),scale:"s",slot:y?"actions-start":"actions-end",text:_,title:I},y?null:h("calcite-icon",{class:this.classes({[n.visibleIcon]:m!=="exclusive"&&d}),icon:g,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!e?.open||e.disabled||e.flowEnabled?null:h("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!e?.visible)return null;const{open:i,title:r,disabled:l}=e;return h("calcite-action",{active:i,appearance:"transparent",disabled:l,icon:se(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:r??"",title:r??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:i}=this,r=i.options;return h("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:i.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},h("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:r,title:r}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>h("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map(i=>this._renderAction({action:i,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,i=this.item.layer,r=i?.type==="catalog-footprint",l=i?.type==="sublayer"&&re(i,"footprints");return"itemCatalogIcon"in e&&(r||l)?h("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,i=this.item.layer,r=i?.type==="catalog-dynamic-group",l=i?.type==="sublayer"&&re(i,"layers-in-view");return"itemCatalogIcon"in e&&(r||l)?h("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:i,visibleElements:r}=this;if(!("visible"in i))return;const{layer:l}=i,o=l?.type==="catalog-dynamic-group";return"catalogLayerList"in r&&r.catalogLayerList&&o?h("calcite-action",{appearance:"transparent",disabled:!l.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(i),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:i,rootGroupUid:r,listModeDisabled:l,selectionMode:o,displayMode:n}=this;if(!("children"in i))return;const d=[...this.parentTitles??[],i.title],{children:m,layer:g}=i,y=g?.type!=="catalog-dynamic-group"&&ot(i),_=!l&&Ke(g),I=g?.type==="group",A=!_&&!y&&e&&I,S=!!e&&"childrenSortable"in i&&i.childrenSortable&&tt(i);return y||A?h("calcite-list",{canPull:v=>!!this.canMove&&this.canMove(v,"pull"),canPut:v=>!!this.canMove&&this.canMove(v,"put"),"data-item":i,"data-layer-type":r,displayMode:n,dragEnabled:S,group:I?r:`${r}-${g?.uid}`,key:`child-list-${g?.uid}`,label:i.title,selectionAppearance:"border",selectionMode:o},m?.filter(v=>!v.hidden&&(this.visibleElements.errors||!v.error)).toArray().map(v=>this._renderItem(v,i,d)),this._renderedTablesItem):null}get _hasTables(){const{layerTablesEnabled:e}=this,i=this.item.layer;if(!e||!i)return!1;switch(i.type){case"knowledge-graph":return e.includes(i.type)&&"tables"in i&&!!i.tables?.length;case"map-image":case"tile":return e.includes(i.type)&&"subtables"in i&&!!i.subtables?.length;default:return!1}}get _renderedTablesItem(){const{item:e,messages:i,css:r}=this,{layer:l}=e;return"itemTableIcon"in r&&"visible"in e&&"tables"in i&&this._hasTables?h("calcite-list-item",{class:r.item,"data-layer-id":l?.id,dragDisabled:!0,key:`list-item-table-list-tables-${l?.uid}`,label:i.tables,title:i.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},h("calcite-icon",{class:r.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),h("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:i,css:r}=this;return e.error?h("div",{class:r.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},h("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},h("div",{slot:"message"},"tableError"in i?i.tableError:i.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in i?h("div",{class:r.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},h("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},h("div",{slot:"message"},i.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:nt(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(i=>i.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,i)=>e+i.length,0)}_renderAction(e){const{item:i}=this,{action:r,textEnabled:l}=e;if(!r)return null;const{active:o,disabled:n,title:d,type:m,indicator:g}=r;return h("calcite-action",{active:m==="toggle"&&r.value,appearance:"transparent","data-action-id":r.id,disabled:n,icon:se(r),indicator:g,key:`action-${r.uid}`,loading:o,onclick:()=>this._triggerAction(i,r),scale:"s",slot:l?void 0:"actions-end",text:d??"",textEnabled:l,title:d??void 0},this._renderFallbackIcon(r))}_renderFallbackIcon(e){const{css:i}=this,{icon:r}=e,l="className"in e?e.className:void 0;if(r)return null;const o="image"in e?e.image:void 0,n={[i.itemActionIcon]:!!l,[i.itemActionImage]:!!o};return l&&(n[l]=!0),o||l?h("span",{"aria-hidden":"true",class:this.classes(i.itemActionIcon,n),key:"icon",styles:Se(o)}):null}_renderItem(e,i,r=[]){return h(W,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:i,parentTitles:r,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,i){i&&e&&(i.type==="toggle"&&(i.value=!i.value),this.onAction(i,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){e&&this.onCatalogOpen?.(e)}_focusSelectedDragEl(e,i){this.selectedDragItemLayerUid===i.layer?.uid&&(U(e),this.onSelectedDragItemLayerUidChange?.(null))}_handleCalciteListItemToggle(e,i){e.stopPropagation(),i.open=e.target.expanded}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,i,r){if(M(e.target)!==i)return;const l=this._getParentVisibilityMode(r);this.selectionMode==="none"&&l!=="inherited"&&this._toggleVisibility(i,r)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,i){!e||!("visible"in e)||this._getParentVisibilityMode(i)==="exclusive"&&e.visible||(e.visible=!e.visible)}},W=$,$.vnodeSelector="calcite-list-item",$);s([a()],c.prototype,"activeItem",void 0),s([a()],c.prototype,"canMove",void 0),s([a()],c.prototype,"css",void 0),s([a()],c.prototype,"displayMode",void 0),s([a()],c.prototype,"dragEnabled",void 0),s([a()],c.prototype,"dragDisabled",void 0),s([a()],c.prototype,"item",void 0),s([a()],c.prototype,"layerTablesEnabled",void 0),s([a()],c.prototype,"listModeDisabled",void 0),s([a()],c.prototype,"messages",void 0),s([a()],c.prototype,"messagesCommon",void 0),s([a()],c.prototype,"onAction",void 0),s([a()],c.prototype,"onPanelOpen",void 0),s([a()],c.prototype,"onCatalogOpen",void 0),s([a()],c.prototype,"onTablesOpen",void 0),s([a()],c.prototype,"onSelectedDragItemLayerUidChange",void 0),s([a()],c.prototype,"onTooltipReferenceChange",void 0),s([a()],c.prototype,"parent",void 0),s([a()],c.prototype,"parentTitles",void 0),s([a()],c.prototype,"rootGroupUid",void 0),s([a()],c.prototype,"selectionMode",void 0),s([a()],c.prototype,"selectedItems",void 0),s([a()],c.prototype,"selectedDragItemLayerUid",void 0),s([a()],c.prototype,"visibleElements",void 0),s([a()],c.prototype,"visibilityAppearance",void 0),s([a()],c.prototype,"_title",null),s([a()],c.prototype,"_renderedItemStatus",null),s([a()],c.prototype,"_renderedItemTemporaryIcon",null),s([a()],c.prototype,"_renderedItemToggle",null),s([a()],c.prototype,"_renderedPanel",null),s([a()],c.prototype,"_renderedPanelAction",null),s([a()],c.prototype,"_renderedActions",null),s([a()],c.prototype,"_renderedActionMenu",null),s([a()],c.prototype,"_renderedActionMenuContent",null),s([a()],c.prototype,"_renderedCatalogFootprintIcon",null),s([a()],c.prototype,"_renderedCatalogDynamicIcon",null),s([a()],c.prototype,"_renderedCatalogSelectNode",null),s([a()],c.prototype,"_renderedChildList",null),s([a()],c.prototype,"_hasTables",null),s([a()],c.prototype,"_renderedTablesItem",null),s([a()],c.prototype,"_renderedItemMessage",null),s([a()],c.prototype,"_singleAction",null),s([a()],c.prototype,"_filteredSections",null),s([a()],c.prototype,"_actionsCount",null),c=W=s([D("esri.widgets.LayerList.LayerListItem")],c);const dt=c;let w=class extends Y(K){constructor(e,i){super(e,i),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([f(()=>this._canCreateLegend,()=>this._createLegend(),E),f(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),E)])}destroy(){this._legend=X(this._legend)}get _canCreateLegend(){const{content:e,listItem:i}=this;if(!i)return!1;const r="legend";return e===r||e!=null&&!!Array.isArray(e)&&e.includes(r)}get _legendOptions(){const{listItem:e,_legendLayerInfo:i}=this,r=e?.view;return i&&r?{view:r,layerInfos:[i]}:{}}get _legendLayerInfo(){const e=this.listItem?.layer;if(!e||e.type==="subtype-sublayer")return null;const i=Z(e)?e:null,r=e?.parent,l=r!=null&&"type"in r&&r.type==="map-image"?i?.source:null,o="";return l&&r?{layer:r,title:o,sublayerIds:[l.mapLayerId]}:{layer:e,title:o}}get disabled(){const{listItem:e,_legend:i,content:r}=this;return!e||!(Array.isArray(r)&&r.length>1)&&!!i&&(!i.activeLayerInfos?.length||!e.visibleAtCurrentScale||!e.visible)}set disabled(e){this._overrideIfSome("disabled",e)}get icon(){const{image:e}=this,i=this._getFirstWidget();return this._get("icon")??(!e&&i?i.icon:null)}set icon(e){this._overrideIfSome("icon",e)}get title(){return this._get("title")||(this._getFirstWidget()?.label??"")}set title(e){this._override("title",e)}render(){return h("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{_legend:i,disabled:r,open:l}=this;return e&&!r&&l?e==="legend"&&i?h("div",{key:"legend-widget"},i.render()):typeof e=="string"?h("div",{innerHTML:e,key:e}):ae(e)?h("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?h("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}_renderContents(){const{content:e,open:i}=this;return i?Array.isArray(e)?e.map(r=>this._renderContent(r)):this._renderContent(e):null}async _createLegend(){if(X(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await x(()=>import("./CSJ5BKtc.js"),__vite__mapDeps([44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,2,3,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133]),import.meta.url),i=new e(this._legendOptions);this._legend=i}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return e==="legend"?this._legend:ae(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map(i=>this._getWidget(i)).find(i=>i):this._getWidget(e)}};s([a()],w.prototype,"_legend",void 0),s([a()],w.prototype,"_canCreateLegend",null),s([a()],w.prototype,"_legendOptions",null),s([a()],w.prototype,"_legendLayerInfo",null),s([a()],w.prototype,"content",void 0),s([a()],w.prototype,"disabled",null),s([a()],w.prototype,"flowEnabled",void 0),s([a()],w.prototype,"icon",null),s([a()],w.prototype,"image",void 0),s([a()],w.prototype,"listItem",void 0),s([a()],w.prototype,"open",void 0),s([a()],w.prototype,"title",null),s([a()],w.prototype,"visible",void 0),w=s([D("esri.widgets.LayerList.ListItemPanel")],w);const _e=w;var R;const ct=P.ofType({key:"type",defaultKeyValue:"button",base:Ne,typeMap:{button:ze,toggle:Re}}),be=P.ofType(ct),q="layer",B="child-list-mode",pt="hide";let u=R=class extends Y(ce){constructor(t){super(t),this.actionsSections=new be,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(P.ofType(R)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([f(()=>[this.layer,this.layer?.listMode,this.listModeDisabled],()=>this._watchLayerProperties(this.layer),E),f(()=>this.checkPublishStatusEnabled,t=>this._updateChildrenPublishing(t),E),f(()=>this.view,t=>this._updateChildrenView(t),E),f(()=>this.panel,t=>this._setListItemOnPanel(t),E)]),typeof this.listItemCreatedFunction=="function"){const t={item:this};this.listItemCreatedFunction.call(null,t)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:t,publishing:e}=this;if(!e&&t&&"connectionStatus"in t)return t.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:t}=this;return!(!t||!("spatialReferenceSupported"in t))&&!t.spatialReferenceSupported}get layerView(){const{layer:t,view:e}=this;if(!t||!e||t.type==="sublayer")return null;const i=t.type==="subtype-sublayer"?t.parent:t;return e.allLayerViews.find(r=>r.layer===i)??null}set panel(t){const e=this._get("panel");t!==e&&t&&e?.destroy(),this._set("panel",t)}castPanel(t){return this.panel?.open&&!t.hasOwnProperty("open")&&(t.open=!0),t?new _e(t):null}get sortable(){return this.layer?.type!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(t){this._set("sortable",t)}get title(){const t=N(this,"layer.layer");return(!t||t&&N(this,"layer.layer.loaded"))&&N(this,"layer.title")||N(this,"layer.attributes.title")||""}set title(t){this._override("title",t)}get publishing(){const{layer:t,checkPublishStatusEnabled:e}=this;return!!(e&&t&&"publishingInfo"in t&&t.publishingInfo?.status==="publishing")}get updating(){const{layerView:t,connectionStatus:e,layer:i,publishing:r}=this;return!r&&!e&&(t?t.updating:i?.loadStatus==="loading"||!1)}get visible(){return!!this.layer?.visible}set visible(t){const e=this.layer;e&&(e.visible=t)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!rt(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return Qe(this.layer)}clone(){return new R({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(t){t&&(t.listItem=this)}_updateChildrenPublishing(t){this.children?.forEach(e=>e.checkPublishStatusEnabled=t)}_updateChildrenView(t){const e=this.children;e&&e.forEach(i=>i.view=t)}_createChildren(t){const{listModeDisabled:e,children:i}=this,r=t.filter(l=>!i.some(o=>o.layer===l));i.addMany(this._createChildItems(r,e))}_destroyChildren(t){const{children:e}=this,i=e.filter(r=>!!r.layer&&!t.includes(r.layer));e.destroyMany(i)}_sortChildren(t){this.children.sort((e,i)=>t.indexOf(i.layer)-t.indexOf(e.layer))}_destroyAllChildren(){this.removeHandles(B),this.children.destroyAll()}_watchChildLayerListMode(t){this.removeHandles(B),this.listModeDisabled||this.addHandles(t.toArray().map(e=>f(()=>e.listMode,()=>this._compileChildren(t))),B)}_compileChildren(t){const e=this.listModeDisabled?t:t?.filter(i=>H(i)!==pt);t?.length?(this._createChildren(e),this._destroyChildren(e),this._sortChildren(e),this._watchChildLayerListMode(t)):this._destroyAllChildren()}_watchSublayerChanges(t){t&&this.addHandles(t.on("change",()=>this._compileChildren(t)),q)}_initializeChildLayers(t){this._compileChildren(t),this._watchSublayerChanges(t)}_createChildItems(t,e){return t.reverse().map(i=>e||it(i)?new R({layer:i,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(Oe)}_watchLayerProperties(t){if(this.removeHandles(q),this.removeHandles(B),!t)return;if((!this.listModeDisabled&&H(t))==="hide-children")return void this.children.destroyAll();const e=ge(t);e&&this.addHandles(f(()=>t[e],i=>{t.hasOwnProperty(e)&&this._initializeChildLayers(i)},E),q)}};s([a({type:be})],u.prototype,"actionsSections",void 0),s([a()],u.prototype,"actionsOpen",void 0),s([a()],u.prototype,"checkPublishStatusEnabled",void 0),s([a({type:P.ofType(u)})],u.prototype,"children",void 0),s([a()],u.prototype,"childrenSortable",void 0),s([a({readOnly:!0})],u.prototype,"connectionStatus",null),s([a({readOnly:!0})],u.prototype,"error",null),s([a()],u.prototype,"hidden",void 0),s([a({readOnly:!0})],u.prototype,"incompatible",null),s([a()],u.prototype,"layer",void 0),s([a({readOnly:!0})],u.prototype,"layerView",null),s([a()],u.prototype,"listItemCreatedFunction",void 0),s([a({nonNullable:!0})],u.prototype,"listModeDisabled",void 0),s([a()],u.prototype,"open",void 0),s([a({type:_e})],u.prototype,"panel",null),s([Fe("panel")],u.prototype,"castPanel",null),s([a()],u.prototype,"parent",void 0),s([a({value:!0})],u.prototype,"sortable",null),s([a()],u.prototype,"title",null),s([a({readOnly:!0})],u.prototype,"publishing",null),s([a({readOnly:!0})],u.prototype,"updating",null),s([a()],u.prototype,"view",void 0),s([a()],u.prototype,"visible",null),s([a({readOnly:!0})],u.prototype,"visibleAtCurrentScale",null),s([a({readOnly:!0})],u.prototype,"visibleAtCurrentTimeExtent",null),s([a({readOnly:!0})],u.prototype,"visibilityMode",null),u=R=s([D("esri.widgets.LayerList.ListItem")],u);const J=u,k={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},ht="hide",ve=P.ofType(J);let T=class extends Te{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new ve,this.view=null}initialize(){this.addHandles([f(()=>this.view?.ready===!0,()=>this._viewHandles(),E),f(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),f(()=>le(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],k.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t?.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,e){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:e})}moveListItem(t,e,i,r){const l=t?.layer;if(!l||l.type==="subtype-sublayer"||l.type==="sublayer")return;const o=this.view?.map?.layers,n=e?oe(e):o,d=i?oe(i):o;if(!n||!d)return;const{operationalItems:m}=this,g=e?.children||m,y=i?.children||m,_=d.length-r;t.parent=i||null,g.remove(t),n.remove(l),y.includes(t)||y.add(t,_),d.includes(l)||d.add(l,_),this._compileList()}_createLayerViewHandles(t){this.removeHandles(k.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),k.layerViews)}_createMapLayerHandles(t){this.removeHandles(k.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),k.mapLayers)}_createListItem(t){const{view:e,listItemCreatedFunction:i,checkPublishStatusEnabled:r,listModeDisabled:l}=this;return new J({checkPublishStatusEnabled:r,listModeDisabled:l,layer:t,listItemCreatedFunction:i,view:e})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(e=>H(e)!==ht):void 0}_watchLayersListMode(t){this.removeHandles(k.layerListMode),t&&!this.listModeDisabled&&this.addHandles(f(()=>t.filter(e=>"listMode"in e).map(e=>e.listMode).toArray(),()=>this._compileList()),k.layerListMode)}_compileList(){const t=this.view?.map?.layers,e=le(this.view)&&!this.view.inGeographicLayout?t?.filter(({type:r})=>r==="link-chart"):t;this._watchLayersListMode(e);const i=this._getViewableLayers(e);i?.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createNewItems(t){const{operationalItems:e}=this;t.forEach(i=>{e.some(r=>r.layer===i)||e.add(this._createListItem(i))})}_removeItems(t){const{operationalItems:e}=this,i=[];e.forEach(r=>{r&&t&&t.includes(r.layer)||i.push(r)}),e.destroyMany(i)}_sortItems(t){const{operationalItems:e}=this;e.sort((i,r)=>{const l=t.indexOf(i.layer),o=t.indexOf(r.layer);return l>o?-1:l<o?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([k.mapLayers,k.layerViews,k.viewLayers]),t?.ready?this.addHandles([f(()=>this.view?.map?.allLayers,e=>this._createMapLayerHandles(e),E),f(()=>this.view?.allLayerViews,e=>this._createLayerViewHandles(e),E)],k.viewLayers):this._removeAllItems()}};s([a()],T.prototype,"checkPublishStatusEnabled",void 0),s([a()],T.prototype,"listItemCreatedFunction",void 0),s([a({nonNullable:!0})],T.prototype,"listModeDisabled",void 0),s([a({type:ve})],T.prototype,"operationalItems",void 0),s([a({readOnly:!0})],T.prototype,"state",null),s([a()],T.prototype,"totalItems",null),s([a()],T.prototype,"view",void 0),T=s([D("esri.widgets.LayerList.LayerListViewModel")],T);const fe=T;let C=class extends ce{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};s([a({type:Boolean,nonNullable:!0})],C.prototype,"catalogLayerList",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"closeButton",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"collapseButton",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"errors",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"filter",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"flow",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"heading",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"statusIndicators",void 0),s([a({type:Boolean,nonNullable:!0})],C.prototype,"temporaryLayerIndicators",void 0),C=s([D("esri.widgets.LayerList.LayerListVisibleElements")],C);const we=C,mt=["label","description","metadata"],gt=P.ofType(J),de="nested";let p=class extends Y(K){constructor(t,e){super(t,e),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new te,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new te,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new P(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=qe,this.minFilterItems=Ge,this.openedLayers=new P,this.openedLayerLists=new P,this.selectedItems=new gt,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new fe,this.visibilityAppearance="default",this.visibleElements=new we,this._canMove=({dragEl:i,fromEl:r,toEl:l},o)=>{const n=o==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,d=M(i);if(!d?.sortable)return!1;const m=M(r),g=ne(r),y=M(l),_=ne(l),I=!!g&&!!_&&g===_,A={selected:d,from:m,to:y},S=r.group,v=l.group,z=m?.layer?.type??"",b=y?.layer?.type??"",Q=new Set(["map-image","catalog","knowledge-graph"]);return S&&v&&typeof n=="function"?n.call(null,A):I&&!Q.has(z)&&!Q.has(b)&&d?.layer?.type!=="sublayer"},this._onCatalogOpen=i=>{this.openedLayers.push(i.layer?.parent),this._focusLayerFlowItem=i.layer?.uid},this._onTablesOpen=i=>{this.openedLayers.push(i.layer),this._focusLayerFlowItem=i.layer?.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(i,r)=>{r?this._tooltipReferenceMap.set(i,r):this._tooltipReferenceMap.delete(i)},this._onSelectedDragItemLayerUidChange=i=>{this._selectedDragItemLayerUid=i},this._onTriggerAction=(i,r)=>{this.triggerAction(i,r)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=i=>{if(this.visibilityAppearance!=="default")return;const r=Array.from(i.composedPath()).find(l=>l.classList?.contains(F.item));this._activeItem=M(r)},this._onCalciteListOrderChange=i=>{const{_lastDragDetail:r}=this,{toEl:l,fromEl:o,dragEl:n,newIndex:d}=i;if(o&&l&&!(r?.newIndex===d&&r?.dragEl===n&&r?.toEl===l&&r?.fromEl===o)){if(this._lastDragDetail=i,this._selectedDragItemLayerUid=n.value,o===l){const m=Array.from(o.children).filter(g=>g?.matches("calcite-list-item")).map(g=>g.value);return void this._sortLayers(o,m)}this._moveLayerFromChildList({toEl:l,fromEl:o,dragEl:n,newIndex:d})}}}initialize(){this.addHandles([ee(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),E),ee(()=>this.viewModel.operationalItems,"change",()=>Xe(this.selectedItems),E),f(()=>[this.filterPredicate,this._rootListEl],()=>et(this._rootListEl,this.filterPredicate))])}loadDependencies(){return pe({button:()=>x(()=>import("./CZ1PpfAL.js"),__vite__mapDeps([134,1,2,3,4,5,6,7,8,9,12,21,15,13,39,14]),import.meta.url),flow:()=>x(()=>import("./Bnx2AwXq.js"),__vite__mapDeps([135,2,3,12,9,8,14,6]),import.meta.url),"flow-item":()=>x(()=>import("./CW6oUwfL.js"),__vite__mapDeps([136,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,35,137]),import.meta.url),list:()=>x(()=>import("./B-dyYvju.js"),__vite__mapDeps([34,1,2,3,4,5,6,35,12,9,8,11,7,36,37,38,21,15,13,24,39,40,14,41,19,32]),import.meta.url),notice:()=>x(()=>import("./CoFroyO5.js"),__vite__mapDeps([42,7,2,3,8,9,12,43,20,14,6,5]),import.meta.url),tooltip:()=>x(()=>import("./DgiS1ymr.js"),__vite__mapDeps([138,2,3,12,17,18,8,19,4,20,22,11]),import.meta.url)})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(t=>t.children.filter(e=>e.layer?.type!=="catalog-dynamic-group")).length}get _visibleItems(){return this.operationalItems?.filter(t=>!t.hidden&&(this.visibleElements.errors||!t.error))}get _openedPanelItems(){return this._visibleItems.flatten(t=>t.children).filter(({hidden:t,panel:e})=>!t&&e?.open&&!e.disabled&&e.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:t}=this;return t.toArray().map((e,i)=>this._renderLayerFlowItem(e,i===t.length-1))}get icon(){return"layers"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(t){this.viewModel.operationalItems=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}triggerAction(t,e){return this.viewModel.triggerAction(t,e)}render(){const t=this.viewModel?.state,e={[V.hidden]:t==="loading",[V.disabled]:t==="disabled"};return h("div",{class:this.classes(F.base,V.widget,V.panel,e)},this._renderItemTooltips(),this._renderItems())}async _createFlowList(t,e){const{_layerListMap:i}=this,r=i.get(t);if(r)return r;const l=t.type==="catalog"?await this._createCatalogLayerList(t):await this._createTableList(t);return e.aborted||i.set(t,l),l}async _handleOpenedLayersChange(){const{_layerListMap:t,openedLayers:e,openedLayerLists:i}=this;this._openedLayersController?.abort();const r=new AbortController,{signal:l}=r;this._openedLayersController=r,t.forEach((d,m)=>{e.includes(m)||(d.destroy(),t.delete(m))});const o=await Promise.all(e.map(d=>this._createFlowList(d,l)));if(l.aborted)return;i.removeAll(),i.addMany(o);const n=i.at(-1);n?"catalogLayer"in n?(this._set("catalogLayerList",n),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",n)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(t){const{_tooltipReferenceMap:e,messages:i}=this;return t?h("calcite-tooltip",{key:`tooltip-${t.layer?.uid}`,overlayPositioning:"fixed",referenceElement:e.get(t.layer?.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(t){return t.incompatible?this._renderItemTooltip(t):t.children?.filter(e=>!e.hidden).toArray().map(e=>this._renderItemTooltipNodes(e))}_renderItemTooltips(){return this._visibleItems?.toArray().map(t=>this._renderItemTooltipNodes(t))}_renderNoItemsMessage(){return h("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return h("div",{class:F.itemMessage,key:"esri-layer-list__no-items"},h("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(t){const{default:e}=await x(()=>import("./6zWowJh7.js"),__vite__mapDeps([139,51,45,46,47,48,49,50,52,140,53,54,55,56,57,58,59,60,61,62,63,2,3,133,141,131]),import.meta.url),{headingLevel:i,catalogOptions:r,view:l,filterPlaceholder:o,listItemCreatedFunction:n,minFilterItems:d,selectionMode:m,visibilityAppearance:g,_onCatalogOpen:y,_onTablesOpen:_,layerTablesEnabled:I}=this;return new e({headingLevel:i,view:l,filterPlaceholder:o,listItemCreatedFunction:n,minFilterItems:d,selectionMode:m,visibilityAppearance:g,...r,catalogLayer:t,layerTablesEnabled:I,onCatalogOpen:y,onTablesOpen:_})}_getTableListParams(t){switch(t.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:t.tables};case"map-image":return{...this.mapImageOptions,tables:t.subtables};case"tile":return{...this.tileOptions,tables:t.subtables};default:return null}}async _createTableList(t){const{default:e}=await x(()=>import("./CQjVHIWe.js"),__vite__mapDeps([142,51,45,46,47,48,49,50,52,53,54,55,56,57,58,59,60,61,62,63,2,3,133,141,131]),import.meta.url),{headingLevel:i,selectionMode:r,dragEnabled:l}=this;return new e({headingLevel:i,selectionMode:r,dragEnabled:l,...this._getTableListParams(t)})}_renderLayerFlowItem(t,e){const{messages:i,openedLayers:r}=this,l=t.title||this.messages.untitledLayer;return h("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":t.uid,description:l,heading:i[t.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${t.uid}`,selected:e,onCalciteFlowItemBack:o=>{o.preventDefault(),r.pop();const n=r.at(-1);n?this._focusLayerFlowItem=n.uid:this._focusRootFlowItem=!0}},this._layerListMap.get(t)?.render())}_renderPanelFlowItems(){const{_openedPanelItems:t,openedLayers:e}=this;return t.toArray().map(({title:i,panel:r},l)=>{const o=()=>this._handlePanelFlowItemBack(r);return h("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:i,heading:r.title,headingLevel:this.headingLevel,key:`flow-panel-${r.uid}`,selected:!e.length&&l===t.length-1,onCalciteFlowItemBack:n=>{n.preventDefault(),o()}},r.render(),h("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(t){t.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,U(t))}_focusLayerFlowItemNode(t){this._focusLayerFlowItem===t.dataset.layerUid&&(this._focusLayerFlowItem=null,U(t))}_focusPanelFlowItemNode(t){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,U(t))}_renderItems(){const{visible:t,collapsed:e,_visibleItems:i,_openedPanelItems:r,_filterEnabled:l,_rootGroupUid:o,visibleElements:{closeButton:n,collapseButton:d,heading:m,flow:g},_dragEnabled:y,selectionMode:_,filterText:I,openedLayers:A,filterPlaceholder:S,messages:v}=this,z=[h("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:n,closed:!t,collapsed:e,collapsible:d,heading:m?v.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!A.length&&!r.length,onCalciteFlowItemClose:()=>this.visible=!1},i?.length?null:this._renderNoItems(),h("calcite-list",{afterCreate:b=>{this._rootListEl=b,b.addEventListener("focusin",this._setActiveItem),b.addEventListener("focusout",this._clearActiveItem)},afterRemoved:b=>{this._rootListEl=null,b.removeEventListener("focusin",this._setActiveItem),b.removeEventListener("focusout",this._clearActiveItem)},canPull:b=>this._canMove(b,"pull"),canPut:b=>this._canMove(b,"put"),"data-layer-type":o,displayMode:de,dragEnabled:y,filterEnabled:l,filterPlaceholder:S,filterProps:mt,filterText:l?I:"",group:o,key:"root-list",label:v.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:_,onCalciteListChange:b=>this._handleCalciteListChange(b),onCalciteListDragEnd:b=>this._handleCalciteListDragEnd(b.detail),onCalciteListFilter:b=>this.filterText=b.currentTarget?.filterText??"",onCalciteListOrderChange:b=>this._onCalciteListOrderChange(b.detail)},i.toArray().map(b=>this._renderItem(b)),l?h("div",{class:F.filterNoResults,slot:"filter-no-results"},h("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return t?g?h("calcite-flow",{key:"root-flow"},z):z:null}_renderItem(t,e,i){return h(dt,{activeItem:this._activeItem,canMove:this._canMove,css:F,displayMode:de,dragEnabled:this.dragEnabled,item:t,key:`layerListItem-${t.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:e,parentTitles:i,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:t,fromEl:e,dragEl:i,newIndex:r}){const l=M(i),o=M(t),n=M(e);this.viewModel.moveListItem(l,n,o,r)}_handleCalciteListDragEnd(t){const{fromEl:e,dragEl:i,oldIndex:r}=t;e.insertBefore(i,e.children[r])}_sortLayers(t,e){if(t)if(t===this._rootListEl)ue(this.view?.map?.layers,e);else{const i=M(t);if(!i)return;st(i,e)}}_handleCalciteListChange(t){const{selectionMode:e,selectedItems:i}=this;if(e==="none")return;const r=t.target.selectedItems.map(l=>M(l)).filter(Boolean);i.removeAll(),i.addMany(r)}};s([a()],p.prototype,"_rootListEl",void 0),s([a()],p.prototype,"_activeItem",void 0),s([a()],p.prototype,"_tooltipReferenceMap",void 0),s([a()],p.prototype,"_focusRootFlowItem",void 0),s([a()],p.prototype,"_focusPanelFlowItem",void 0),s([a()],p.prototype,"_focusLayerFlowItem",void 0),s([a()],p.prototype,"_layerListMap",void 0),s([a()],p.prototype,"_totalItems",null),s([a()],p.prototype,"_visibleItems",null),s([a()],p.prototype,"_openedPanelItems",null),s([a()],p.prototype,"_dragEnabled",null),s([a()],p.prototype,"_filterEnabled",null),s([a()],p.prototype,"_renderedOpenLayerFlowItems",null),s([a({readOnly:!0})],p.prototype,"catalogLayerList",void 0),s([a()],p.prototype,"catalogOptions",void 0),s([a()],p.prototype,"collapsed",void 0),s([a()],p.prototype,"dragEnabled",void 0),s([a()],p.prototype,"filterPlaceholder",void 0),s([a()],p.prototype,"filterPredicate",void 0),s([a()],p.prototype,"filterText",void 0),s([a()],p.prototype,"headingLevel",void 0),s([a()],p.prototype,"icon",null),s([a()],p.prototype,"knowledgeGraphOptions",void 0),s([a()],p.prototype,"label",null),s([a()],p.prototype,"layerTablesEnabled",void 0),s([a()],p.prototype,"listItemCanGiveFunction",void 0),s([a()],p.prototype,"listItemCanReceiveFunction",void 0),s([a()],p.prototype,"listItemCreatedFunction",null),s([a()],p.prototype,"mapImageOptions",void 0),s([a(),ie("esri/widgets/LayerList/t9n/LayerList")],p.prototype,"messages",void 0),s([a(),ie("esri/t9n/common")],p.prototype,"messagesCommon",void 0),s([a()],p.prototype,"minDragEnabledItems",void 0),s([a()],p.prototype,"minFilterItems",void 0),s([a({readOnly:!0})],p.prototype,"openedLayers",void 0),s([a({readOnly:!0})],p.prototype,"openedLayerLists",void 0),s([a()],p.prototype,"operationalItems",null),s([a()],p.prototype,"selectedItems",void 0),s([a()],p.prototype,"selectionMode",void 0),s([a({readOnly:!0})],p.prototype,"tableList",void 0),s([a()],p.prototype,"tileOptions",void 0),s([a()],p.prototype,"view",null),s([$e("trigger-action"),a({type:fe})],p.prototype,"viewModel",void 0),s([a()],p.prototype,"visibilityAppearance",void 0),s([a({type:we,nonNullable:!0})],p.prototype,"visibleElements",void 0),p=s([D("esri.widgets.LayerList")],p);const ut=p;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const yt=(t,e)=>i=>bt(i,t);class _t extends xe{#i=new Map;#e;#t;constructor(e,i){super(e,i),new je(e);const r=this,l=r.instance;let o=l.viewModel,n=l.visibleElements;const d=new Proxy(this.exports,{get(m,g,y){return g==="viewModel"?o:g==="visibleElements"?n:Reflect.get(m,g,y)}});if(r.#t=l,r.instance=d,r.exports=d,o){const m={component:e,get exports(){return r.instance.viewModel}};Ie(r).set("viewModel","viewModel"),e.addController(m),o=Le(e,new WeakRef(m),Ve(e)-1,o,r.#i)}r.instance.visibleElements&&(n=r.#r(l))}hostConnected(){this.instance=this.#t,super.hostConnected()}hostLoad(){this.#e=f(()=>this.component.el.view,e=>{const i=this.instance;!("view"in i)&&typeof i.viewModel=="object"?i.viewModel.view=e:i.view=e,!("map"in i)&&typeof i.viewModel=="object"?i.viewModel.map=e?.map:i.map=e?.map},{sync:!0,initial:!0})}hostUpdate(e){e.has("closed")&&(this.instance.visible=!this.component.closed)}hostLoaded(){const{el:e}=this.component;e.childElem??=document.createElement("div"),this.instance.container=e.childElem,(this.component.el.shadowRoot??this.component.el).appendChild(this.instance.container),this.component.closed!==void 0&&this.onLifecycle(()=>f(()=>this.instance.visible,i=>this.component.closed=!i,{initial:!0}))}#r(e){return new Proxy(e.visibleElements,{get:(i,r)=>{if(typeof r=="symbol"||r in Promise.prototype)return i[r];const l=[r],o=this.#s(l);return Be(this.component,n=>{const d=n;this.component[d]=!1;let m=e.visibleElements??{},g;for(const _ of l.slice(0,-1))if(typeof m[_]=="object"&&m[_]!==null)m=m[_];else{g=!!m[_];break}g===void 0&&(g=!!(m[l.slice(-1)[0]]??!0));const y=d.startsWith("hide")||d.startsWith("show")?d.startsWith("hide"):g;this.onUpdate(_=>{if(_.has(d)){const I=this.component[d];this.#a(l,I,y)}})},o)}})}#s(e){const i=new Proxy({},{get:(r,l)=>{const o=Reflect.get(r,l);return typeof l=="symbol"||l in Promise.prototype?o:(e.push(l),i)}});return i}#a(e,i,r){let l=this.instance.visibleElements??{};for(const n of e.slice(0,-1))(typeof l[n]!="object"||l[n]===null)&&(l[n]={}),l=l[n];const o=!!(r?!i:i);l[e.at(-1)]=o}hostDestroy(){this.#e?.remove(),super.hostDestroy()}}const bt=ke(_t);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const vt=Ue`@keyframes esri-basemap-slide{0%{opacity:0;margin-top:0;margin-left:0}75%{opacity:0;margin-top:0;margin-left:0}to{opacity:1;margin-top:5px;margin-left:5px}}@keyframes esri-docking-animation{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes popup-intro-animation-down{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes popup-intro-animation-up{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@supports (-ms-ime-align: auto){.esri-slider__anchor:focus{outline:1px dotted #000}}@keyframes esri-spinner--start-animation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes esri-spinner--finish-animation{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}@keyframes esri-spinner--rotate-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion){.esri-utility-network-trace__reset-prompt{animation:none!important}}@media (prefers-reduced-motion){.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right,.esri-popup--is-docked{animation:none!important}}@media (prefers-reduced-motion: reduce){.esri-fov-overlay{animation:none!important}}@keyframes esri-fade-in-down{0%{opacity:0;transform:translateY(-5px)}25%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in-up{0%{opacity:0;transform:translateY(5px)}25%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes esri-fade-in-scale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes looping-progresss-bar-ani{0%{width:0;left:0}20%{width:20%;left:0}80%{width:20%;left:80%}to{width:0;left:100%}}@keyframes esri-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes panel-advance{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-advance--rtl{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat--rtl{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-hidden{display:none!important}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}.esri-legend{overflow:hidden;overflow-y:auto}.esri-legend__message{padding:.5em 1em}.esri-legend__service{border-bottom:1px solid rgba(110,110,110,.3);padding:var(--esri-widget-padding);word-wrap:break-word}.esri-legend__service:last-child{border-bottom:none}.esri-legend__layer{margin-left:7px;overflow:auto}.esri-legend__group-layer-child{margin-left:7px;padding-right:0;padding-left:0}.esri-legend__layer-table{display:flex;flex-flow:column;margin-bottom:12px;width:100%}.esri-legend__layer-child-table{display:table;margin-bottom:12px;width:100%;border-collapse:collapse}.esri-legend__layer-body{margin-left:7px}.esri-legend__layer-row{display:flex}.esri-legend__layer-cell{padding:4px 0;min-width:100px;vertical-align:middle;word-break:break-word}.esri-legend__layer-cell--symbols{min-width:10px;text-align:center}.esri-legend--card__color-ramp-container{justify-content:center}.esri-legend__layer-table--size-ramp{display:table}.esri-legend__layer-table--size-ramp .esri-legend__layer-row{display:table-row}.esri-legend__layer-table--size-ramp .esri-legend__layer-cell{display:table-cell}.esri-legend__size-ramp~.esri-legend__layer-cell--info{width:80%;max-width:80%}.esri-legend__layer-cell--info{padding-right:7px;padding-left:7px;max-width:250px;word-break:normal;word-wrap:normal;font-size:var(--calcite-font-size-sm)}.esri-legend__imagery-layer-image--stretched{display:block;margin-bottom:-2px}.esri-legend__imagery-layer-cell--stretched{padding:0;vertical-align:top;line-height:1}.esri-legend__imagery-layer-info--stretched{padding:0 2px;vertical-align:top}.esri-legend__symbol{display:flex;justify-content:center}.esri-legend__layer-caption{display:table-caption;padding:6px 0;word-break:break-word}.esri-legend__ramp-labels{display:flex;flex-flow:column nowrap;justify-content:space-between}.esri-legend__ramps{margin-left:3px}.esri-legend__color-ramp{width:24px}.esri-legend__opacity-ramp{background-image:url(../base/images/transparent-bg.png)}.esri-legend__ramp-tick{position:absolute;right:1px;left:auto;border-top:1px solid rgba(110,110,110,.3);width:4px;line-height:0}.esri-legend__ramp-label{position:relative;padding:0 7px;line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.esri-legend__ramp-label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent rgba(50,50,50,.8) transparent transparent;width:0;height:0;content:""}.esri-legend__ramp-label:first-child{margin-top:-4px}.esri-legend__ramp-label:last-child{bottom:-3px}.esri-legend-layer-caption{display:table-caption;padding:6px 0}:dir(rtl) .esri-legend__ramp-label:before{right:auto;left:100%;border-width:3px 0 3px 4px;border-color:transparent transparent transparent rgba(50,50,50,.8)}:dir(rtl) .esri-legend__layer,:dir(rtl) .esri-legend__group-layer-child,:dir(rtl) .esri-legend__layer-body{margin-right:7px;margin-left:0;overflow:auto}:dir(rtl) .esri-legend__ramps{margin-right:3px;margin-left:auto}.esri-legend--card{display:flex;position:relative;transition:max-width .25s ease-in-out;background:#fff;overflow-x:auto}.esri-legend--card__section{white-space:pre-wrap;word-break:break-word;word-wrap:break-word;border-left:1px solid rgba(110,110,110,.3);padding:12px 15px;min-width:300px;overflow:auto;font-size:var(--calcite-font-size-sm)}.esri-legend--card__section:first-child{border-left:none}.esri-legend--card__message{padding:.5em 1em}.esri-legend--card__service-caption-container{border-bottom:1px solid rgba(110,110,110,.3);padding:12px 15px;height:45px;font-weight:var(--calcite-font-weight-semibold)}.esri-legend--card__service-caption-text{margin:0;padding-bottom:20px;overflow:auto}.esri-legend--card__layer-caption{margin-bottom:12px;padding:6px 0;font-weight:var(--calcite-font-weight-normal)}.esri-legend--card__service-content{display:flex;height:calc(100% - 45px)}.esri-legend--card__label-container{display:flex;flex-wrap:wrap}.esri-legend--card__relationship-label-container{display:flex;flex-direction:column}.esri-legend--card__relationship-label-container .esri-legend--card__layer-row{padding-bottom:.5em}.esri-legend--card__relationship-label-container .esri-legend--card__layer-row:last-child{padding-bottom:0}.esri-legend--card__relationship-section{border:none}.esri-legend--card__label-element{margin:.1em;padding:.5em 1em;min-width:4em;min-height:2.7em;text-align:center}.esri-legend--card__image-label{padding-right:7px;padding-left:7px}.esri-legend--card__layer-row,.esri-legend--card__size-ramp-container{display:flex;align-items:center}.esri-legend--card__size-ramp-preview{display:flex}.esri-legend--card__ramp-label{margin:0 .5em;white-space:nowrap}.esri-legend--card__pie-chart-ramp-preview{display:flex;justify-content:center}.esri-legend--card__interval-separator{text-align:center;font-size:.5em}.esri-legend--card__imagery-layer-image--stretched{display:block;margin-bottom:-2px}.esri-legend--card__symbol-container{position:relative}.esri-legend--card__interval-separators-container{position:absolute;top:50px;left:50%;transform:translate(-50%,-50%)}.esri-legend--card__carousel-title{margin:0}.esri-legend--card__service{border-left:1px solid rgba(110,110,110,.3);min-width:fit-content}.esri-legend--card__symbol{display:block;margin:auto}.esri-legend--stacked{display:flex;flex-direction:column;min-width:300px}.esri-legend--stacked .esri-legend--card__carousel{width:300px;max-height:420px}.esri-legend--stacked .esri-legend--card__carousel-item{max-height:388px}.esri-legend--stacked calcite-carousel-item[selected]{flex:1}.esri-legend--stacked .esri-legend--card__section{box-sizing:border-box;border:none;width:100%;min-width:unset;height:auto;overflow:auto}.esri-legend--stacked .esri-legend--card__size-ramp-row{flex-direction:column}.esri-legend--stacked .esri-legend--card__symbol-row{display:table-row;margin:5px 0;width:100%}.esri-legend--stacked .esri-legend--card__label-cell{display:table-cell;vertical-align:middle}.esri-legend--stacked .esri-legend--card__symbol-cell{display:table-cell;vertical-align:middle;text-align:center}.esri-legend--stacked .esri-legend--card__carousel-indicator-container{display:flex;justify-content:center;box-shadow:0 -1px #6e6e6e4d;width:300px;height:32px;overflow:auto}.esri-legend--stacked .esri-legend--card__carousel-indicator{display:flex;align-items:center;justify-content:center;cursor:pointer;width:16px;height:auto}.esri-legend--stacked .esri-legend--card__carousel-indicator:before{display:block;transition:background-color 125ms ease-in-out;border-radius:50%;box-shadow:0 0 0 1px #6e6e6e;background-color:transparent;width:10px;height:10px;content:""}.esri-legend--stacked .esri-legend--card__carousel-indicator:hover:before,.esri-legend--stacked .esri-legend--card__carousel-indicator--activated:before,.esri-legend--stacked .esri-legend--card__carousel-indicator--activated:hover:before{background-color:var(--calcite-color-text-3)}.esri-ui-corner{max-width:100%}.esri-ui-corner .esri-legend--card{max-height:420px}:dir(rtl) .esri-view-width-greater-than-small .esri-legend--card__section{border-right:1px solid rgba(110,110,110,.3);border-left:0}:dir(rtl) .esri-view-width-greater-than-small .esri-legend--card__section:first-child{border-right:none}.esri-relationship-ramp--diamond__container{display:flex;font-size:var(--calcite-font-size-sm)}.esri-relationship-ramp--diamond__left-column{align-self:center;padding-right:5px;max-width:85px;text-align:right}.esri-relationship-ramp--diamond__right-column{align-self:center;padding-left:5px;max-width:85px;text-align:left}.esri-relationship-ramp--diamond__middle-column{display:flex;flex-direction:column;text-align:center}.esri-relationship-ramp--diamond__middle-column--label{align-self:center;max-width:85px}.esri-relationship-ramp--diamond__middle-column--ramp{width:85px;height:85px}.esri-relationship-ramp--square__table{display:table;font-size:var(--calcite-font-size-sm)}.esri-relationship-ramp--square__table-row{display:table-row}.esri-relationship-ramp--square__table-cell{display:table-cell}.esri-relationship-ramp--square__table-label{max-width:95px}.esri-relationship-ramp--square__table-label--left-bottom{vertical-align:bottom;text-align:left}.esri-relationship-ramp--square__table-label--right-bottom{vertical-align:bottom;text-align:right}.esri-relationship-ramp--square__table-label--left-top{vertical-align:top;text-align:left}.esri-relationship-ramp--square__table-label--right-top{vertical-align:top;text-align:right}.esri-univariate-above-and-below-ramp__symbol{display:flex;align-items:center;justify-content:center}.esri-univariate-above-and-below-ramp__label{position:relative;margin-left:7px;line-height:1em;white-space:nowrap;font-size:var(--calcite-font-size-sm)}.esri-univariate-above-and-below-ramp__label:before{display:block;position:absolute;top:.45em;left:-19px;border-width:1px 0 0;border-style:solid;width:14px;height:0;content:""}.esri-univariate-above-and-below-ramp__label:first-child{top:-6px}.esri-univariate-above-and-below-ramp__label:last-child{bottom:-6px}.esri-univariate-above-and-below-ramp__color--card{position:relative}.esri-univariate-above-and-below-ramp__color--card:before{display:block;position:absolute;top:1px;border-right:1px solid #000;border-left:1px solid #000;width:100%;height:15px;content:""}:dir(rtl) .esri-univariate-above-and-below-ramp__label{margin-right:7px;margin-left:auto}:dir(rtl) .esri-univariate-above-and-below-ramp__label:before{right:-19px;left:auto}.esri-spike-ramp__container{display:flex;flex-direction:row;gap:var(--calcite-spacing-sm-plus);margin-left:var(--calcite-spacing-sm)}.esri-spike-ramp__preview-container{display:flex;position:relative;gap:var(--calcite-spacing-sm-plus);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-2);padding:0 var(--calcite-spacing-xl)}.esri-spike-ramp__preview{display:flex;gap:var(--calcite-spacing-sm-plus);align-items:end}.esri-spike-ramp__symbol-preview{display:flex}.esri-spike-ramp__lines{display:flex;position:absolute;bottom:0}.esri-spike-ramp__labels-container{display:flex;position:relative;top:-5px;flex:1;min-width:120px}.esri-spike-ramp__label{position:relative;padding:0 7px;line-height:1em;word-break:break-all;font-size:var(--calcite-font-size-sm)}.esri-spike-ramp__label:before{display:block;position:absolute;top:.25em;right:100%;border-width:3px 4px 3px 0;border-style:solid;border-color:transparent rgba(50,50,50,.8) transparent transparent;width:0;height:0;content:""}.esri-item-list{width:100%}.esri-item-list__filter-container--sticky{z-index:1;position:sticky;top:0}.esri-item-list__group{margin-top:var(--calcite-spacing-md)}.esri-item-list__scroller{overflow-y:auto}.esri-ui .esri-item-list__scroller{z-index:0;position:relative}.esri-ui .esri-item-list__scroller--enabled{max-height:420px}.esri-item-list__group__header{color:var(--calcite-color-text-2);font-weight:var(--calcite-font-weight-medium)}.esri-item-list__list-item{cursor:pointer;min-height:var(--calcite-spacing-xxxl)}.esri-item-list__list-item[class^=esri-icon-],.esri-item-list__list-item[class*=" esri-icon-"]{padding-inline-end:2.8px}.esri-item-list__list-item--disabled{cursor:default}.esri-item-list__list-item-icon{justify-content:center;align-items:center;min-width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);display:flex}.esri-item-list__list-item-icon span{line-height:0}.esri-thumbnail-preview{background-position:50%;width:22px;height:22px}.esri-item-list__no-matches-message{justify-content:center;align-items:center;height:96px;display:flex}.esri-layer-list{display:flex;width:100%}.esri-layer-list__filter-no-results{padding:var(--calcite-spacing-md) 15px}.esri-layer-list__item{--calcite-list-item-icon-center: 8.5px}.esri-layer-list__item-table-icon,.esri-layer-list__item-catalog-icon{margin-inline-end:0}.esri-layer-list__item-action-image{text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;flex:0 0 var(--calcite-spacing-xl);width:var(--calcite-spacing-xl);height:var(--calcite-spacing-xl);font-size:var(--calcite-font-size)}.esri-layer-list__action-menu .esri-layer-list__action-group{display:none}.esri-layer-list__action-menu[open] .esri-layer-list__action-group{display:flex}.esri-layer-list__visible-icon{visibility:hidden}.esri-layer-list__item--active:hover>.esri-layer-list__visible-toggle>.esri-layer-list__visible-icon,.esri-layer-list__item--active:focus>.esri-layer-list__visible-toggle>.esri-layer-list__visible-icon,.esri-layer-list__item--active:focus-within>.esri-layer-list__visible-toggle>.esri-layer-list__visible-icon{visibility:visible}.esri-layer-list__status-indicator{visibility:hidden;color:var(--calcite-color-text-1);margin-inline:0}.esri-layer-list__publishing{visibility:visible;color:var(--calcite-color-text-2);transform-origin:var(--calcite-list-item-icon-center) var(--calcite-list-item-icon-center);animation:2s infinite esri-layer-list__publishing-anim}.esri-layer-list__updating{visibility:visible;animation:2s infinite esri-layer-list__updating-anim}.esri-layer-list__connection-status{visibility:visible;color:var(--calcite-color-status-warning);width:var(--calcite-spacing-xl);height:var(--calcite-spacing-xl);margin-inline:7px}.esri-layer-list__connection-status--connected{color:var(--calcite-color-status-success)}.esri-layer-list__item-content-bottom{margin:var(--calcite-spacing-md) 15px}.esri-layer-list__item-content-bottom .esri-legend__service{padding:0 0 var(--calcite-spacing-md)}.esri-layer-list__item-message{margin:var(--calcite-spacing-md) 15px}@keyframes esri-layer-list__updating-anim{0%,40%{color:var(--calcite-color-foreground-1)}50%,80%{color:var(--calcite-color-brand)}to{color:var(--calcite-color-foreground-1)}}@keyframes esri-layer-list__publishing-anim{0%,20%{transform:rotate(45deg)}80%,to{transform:rotate(135deg)}}`;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const ft=Me((t,e)=>(e.onLoaded(()=>{const i=t.el;t.listenOn(i.childElem,"calciteFlowItemClose",()=>{t.arcgisClose.emit(),t.autoDestroyDisabled||t.destroy()})}),he()));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
v4.34.9 */const wt=yt(ut),G=class G extends He{constructor(){super(...arguments),this.widget=wt(this),this.viewModel=this.widget.viewModel,this.arcgisClose=ft(this),this.view=this.widget.view,this.autoDestroyDisabled=!1,this.catalogOptions=this.widget.catalogOptions,this.closed=!1,this.collapsed=this.widget.collapsed,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterPredicate=this.widget.filterPredicate,this.filterText=this.widget.filterText,this.headingLevel=this.widget.headingLevel,this.hideCatalogLayerList=this.widget.visibleElements.catalogLayerList,this.hideFlow=this.widget.visibleElements.flow,this.hideStatusIndicators=this.widget.visibleElements.statusIndicators,this.icon=this.widget.icon,this.knowledgeGraphOptions=this.widget.knowledgeGraphOptions,this.label=this.widget.label,this.listItemCreatedFunction=this.widget.listItemCreatedFunction,this.minDragEnabledItems=this.widget.minDragEnabledItems,this.minFilterItems=this.widget.minFilterItems,this.openedLayers=this.widget.openedLayers,this.selectedItems=this.widget.selectedItems,this.selectionMode=this.widget.selectionMode,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showErrors=this.widget.visibleElements.errors,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.showTemporaryLayerIndicators=this.widget.visibleElements.temporaryLayerIndicators,this.state=this.viewModel.state,this.visibilityAppearance=this.widget.visibilityAppearance,this.arcgisPropertyChange=Ae()("state"),this.arcgisReady=he(),this.arcgisTriggerAction=Ce(()=>this.widget,"trigger-action")}get catalogLayerList(){return this.widget.catalogLayerList}get operationalItems(){return this.widget.operationalItems}get tableList(){return this.widget.tableList}async destroy(){await this.manager.destroy()}async triggerAction(e,i){this.widget?.triggerAction(e,i)}};G.properties={view:0,autoDestroyDisabled:5,catalogLayerList:32,catalogOptions:0,closed:5,collapsed:7,dragEnabled:5,filterPlaceholder:1,filterPredicate:0,filterText:1,headingLevel:9,hideCatalogLayerList:5,hideFlow:5,hideStatusIndicators:5,icon:1,knowledgeGraphOptions:0,label:1,listItemCreatedFunction:0,minDragEnabledItems:9,minFilterItems:9,openedLayers:0,operationalItems:32,position:1,referenceElement:1,selectedItems:0,selectionMode:1,showCloseButton:5,showCollapseButton:5,showErrors:5,showFilter:5,showHeading:5,showTemporaryLayerIndicators:5,state:3,tableList:32,visibilityAppearance:1},G.styles=vt;let j=G;Ee("arcgis-layer-list",j);const Ht=Object.freeze(Object.defineProperty({__proto__:null,ArcgisLayerList:j},Symbol.toStringTag,{value:"Module"}));export{dt as C,J as I,M as N,Ht as a,ge as d,qe as e,et as f,Ge as i,it as p,ne as q,Xe as s,mt as t,H as u};
