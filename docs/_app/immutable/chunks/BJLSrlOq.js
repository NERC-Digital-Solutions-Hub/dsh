import{W as c,N as l}from"./BPKnb2Ep.js";import{V as f,f as E}from"./Cad-p0g1.js";import{_ as p}from"./fh0BQpDQ.js";import{x as d,s as y}from"./CDGqq53N.js";async function m(e){const r=e.spatialReference;if(r.isWGS84)return e.clone();if(r.isWebMercator)return f(e);const t=E.WGS84;return await l(r,t),c(e,t)}function A(e,r){if(!u(e,r)){const t=e.typeKeywords;t?t.push(r):e.typeKeywords=[r]}}function u(e,r){return!!e.typeKeywords?.includes(r)}function L(e){return u(e,g.HOSTED_SERVICE)}function S(e,r){const t=e.typeKeywords;if(t){const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function O(e,r,t){t?A(e,r):S(e,r)}async function G(e){const r=e.clone().normalize();let t;if(r.length>1)for(const n of r)t?n.width>t.width&&(t=n):t=n;else t=r[0];return m(t)}const g={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function M(e){const{portal:r,isOrgItem:t,itemControl:n}=e,s=r.user?.privileges;let i=!s||s.includes("features:user:edit"),o=!!t&&!!s?.includes("features:user:fullEdit");const a=n==="update"||n==="admin";return a?o=i=!0:o&&(i=!0),{features:{edit:i,fullEdit:o},content:{updateItem:a}}}async function P(e,r,t){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",r.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const s=await p(n.populateFromStyle());if(d(t),s.ok===!1){const i=s.error;r?.messages&&r.messages.push(new y("renderer:style-reference",`Failed to create unique value renderer from style reference: ${i.message}`,{error:i,context:r})),e.clear("renderer",r?.origin)}}}export{g as E,L as a,S as c,M as f,A as i,G as l,u as s,P as t,O as u};
