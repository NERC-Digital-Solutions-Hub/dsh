import{ac as Tt,r as $,m as P,d as T,a as X}from"./oKHlAiyk.js";import{h as it,a as N}from"./BJj2_Vlp.js";import{i as Ot}from"./2eEJBHPf.js";import{v as Ct,z as k,c as U,_ as v,aX as Et,K as Yt,aY as kt,f as nt}from"./BxFa---M.js";import"./D6KPPgz5.js";function ze(t){const e=[];for(t.reset();t.nextPath();){const r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function Ft(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var Y;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(Y||(Y={}));function Ae(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if(t.type==="point")return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const s=t.clone().normalize();if(!s)return null;let i=!1,a=!1;return s.forEach((n=>{n.hasZ&&(i=!0),n.hasM&&(a=!0)})),s.map((n=>{const o=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];if(i&&n.hasZ){const u=.5*(n.zmax-n.zmin);for(let l=0;l<o.length;l++)o[l].push(u)}if(a&&n.hasM){const u=.5*(n.mmax-n.mmin);for(let l=0;l<o.length;l++)o[l].push(u)}return o}))}return null}function F(t,e){const r=e[0]-t[0],s=e[1]-t[1];if(t.length>2&&e.length>2){const i=t[2]-e[2];return Math.sqrt(r*r+s*s+i*i)}return Math.sqrt(r*r+s*s)}function at(t,e,r){const s=t[0]+r*(e[0]-t[0]),i=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[s,i,t[2]+r*(e[2]-t[2])]:[s,i]}function Se(t,e,r,s){return Vt(t,e,r[s],r[s+1])}function Vt(t,e,r,s){const[i,a]=e,[n,o]=r,[u,l]=s,h=u-n,c=l-o,f=h*h+c*c,p=(i-n)*h+(a-o)*c,m=Math.min(1,Math.max(0,p/f));return t[0]=n+h*m,t[1]=o+c*m,t}function _e(t,e,r,s,i,a){let n=r,o=s,u=i-n,l=a-o;if(u!==0||l!==0){const h=((t-n)*u+(e-o)*l)/(u*u+l*l);h>1?(n=i,o=a):h>0&&(n+=u*h,o+=l*h)}return u=t-n,l=e-o,u*u+l*l}function ot(t,e){return at(t,e,.5)}function be(t){const e=t.length;let r=0;for(let s=0;s<e-1;++s)r+=F(t[s],t[s+1]);return r}function Te(t,e){if(e<=0)return t[0];const r=t.length;let s=0;for(let i=0;i<r-1;++i){const a=F(t[i],t[i+1]);if(e-s<a){const n=(e-s)/a;return at(t[i],t[i+1],n)}s+=a}return t[r-1]}function lt(t,e=Y.X,r=Y.Y){let s=0;const i=t.length;let a=t[0];for(let n=1;n<i;n++){const o=t[n];s+=(o[e]-a[e])*(o[r]+a[r]),a=o}if(ut(t)){const n=t[0];s+=(n[e]-a[e])*(n[r]+a[r])}return s>=0}function ut(t){const e=t.length;return e>0&&!it(t[0],t[e-1])}function Oe(t){"rings"in t&&(Jt(t),jt(t))}function Jt(t){if("rings"in t)for(const e of t.rings)ut(e)&&e.push(e[0].slice())}function jt(t){if(!("rings"in t)||t.rings.length===0||lt(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Ce(t){return t.type!=="polygon"&&t.type!=="polyline"||qt(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function qt(t,e){const r=Ct(e);if(!r)return;const s=r.valid[0],i=r.valid[1],a=i-s;for(const n of t){let o=1/0,u=-1/0;for(const h of n){const c=Gt(h[0],s,i);o=Math.min(o,c),u=Math.max(u,c),h[0]=c}const l=u-o;a-l<l&&n.forEach((h=>{h[0]<0&&(h[0]+=a)}))}}function Gt(t,e,r){const s=r-e;return t<e?r-(e-t)%s:t>r?e+(t-e)%s:t}function Ee(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[r,s]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return r.length===s.length&&r.every(((i,a)=>i.length===s[a].length))}function Ye(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Xt(t){return t?Ut(t.rings,t.hasZ??!1):null}function Ut(t,e){if(!t?.length)return null;const r=[],s=[],i=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,n=t.length;a<n;a++){const o=ht(t[a],e,i);o&&s.push(o)}if(s.sort(((a,n)=>{let o=a[2]-n[2];return o===0&&e&&(o=a[4]-n[4]),o})),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||e&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const a=t[0]&&t[0].length?Dt(t[0],e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],e&&a.length>2&&(r[2]=a[2])}return r}function ht(t,e,r){let s=0,i=0,a=0,n=0,o=0;const u=t.length?t[0][0]:0,l=t.length?t[0][1]:0,h=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const p=t[f],m=t[(f+1)%t.length],[g,y,d]=p,x=g-u,M=y-l,[A,I,bt]=m,V=A-u,B=I-l,J=x*B-V*M;if(n+=J,s+=(x+V)*J,i+=(M+B)*J,e&&p.length>2&&m.length>2){const H=d-h,Q=bt-h,tt=x*Q-V*H;a+=(H+Q)*tt,o+=tt}g<r[0]&&(r[0]=g),g>r[1]&&(r[1]=g),y<r[2]&&(r[2]=y),y>r[3]&&(r[3]=y),e&&(d<r[4]&&(r[4]=d),d>r[5]&&(r[5]=d))}if(n>0&&(n*=-1),o>0&&(o*=-1),!n)return null;n*=.5,o*=.5;const c=[s/(6*n)+u,i/(6*n)+l,n];return e&&(r[4]===r[5]||o===0?(c[3]=(r[4]+r[5])/2,c[4]=0):(c[3]=a/(6*o)+h,c[4]=o)),c}function ke(t,e){let r=0,s=0,i=0;t.nextPoint();const a=t.pathSize?t.x:0,n=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const u=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const l=[t.x,t.y],[h,c]=u,f=h-a,p=c-n,[m,g]=l,y=m-a,d=g-n,x=f*d-y*p;i+=x,r+=(f+y)*x,s+=(p+d)*x,h<e[0]&&(e[0]=h),h>e[1]&&(e[1]=h),c<e[2]&&(e[2]=c),c>e[3]&&(e[3]=c)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+a,s/(6*i)+n,i]):null}function Dt(t,e){const r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let i=0,a=0,n=0,o=0;for(let u=0,l=t.length;u<l-1;u++){const h=t[u],c=t[u+1];if(h&&c){r[0]=h[0],r[1]=h[1],s[0]=c[0],s[1]=c[1],e&&h.length>2&&c.length>2&&(r[2]=h[2],s[2]=c[2]);const f=F(r,s);if(f){i+=f;const p=ot(h,c);a+=f*p[0],n+=f*p[1],e&&p.length>2&&(o+=f*p[2])}}}return i>0?e?[a/i,n/i,o/i]:[a/i,n/i]:t.length?t[0]:null}function Wt(t){const{hasZ:e,totalSize:r}=t;if(r===0)return null;const s=[],i=[],a=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const n=ht(Ft(t),t.hasZ,a);n&&i.push(n)}if(i.sort(((n,o)=>{let u=n[2]-o[2];return u===0&&e&&(u=n[4]-o[4]),u})),i.length&&(s[0]=i[0][0],s[1]=i[0][1],e&&(s[2]=i[0][3]),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||e&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)),!s.length){t.reset(),t.nextPath();const n=t.pathSize?Kt(t):null;if(!n)return null;s[0]=n[0],s[1]=n[1],e&&n.length>2&&(s[2]=n[2])}return s}function Kt(t){const{hasZ:e}=t,r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let i=0,a=0,n=0,o=0;if(t.nextPoint()){let u=t.x,l=t.y,h=t.z;for(;t.nextPoint();){const c=t.x,f=t.y,p=t.z;r[0]=u,r[1]=l,s[0]=c,s[1]=f,e&&(r[2]=h,s[2]=p);const m=F(r,s);if(m){i+=m;const g=ot(r,s);a+=m*g[0],n+=m*g[1],e&&g.length>2&&(o+=m*g[2])}u=c,l=f,h=p}}return i>0?e?[a/i,n/i,o/i]:[a/i,n/i]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const Lt=1e-6;function Fe(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<Lt){const i=Wt(t);return i?[i[0],i[1]]:null}const r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const s=[t.x,t.y];for(t.reset();t.nextPath();)Ht(r,s,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=s[0],r[1]+=s[1],r}const Bt=1/3;function Ht(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();const s=r.x,i=r.y;r.nextPoint();let a,n=r.x-s,o=r.y-i,u=0,l=0;for(;r.nextPoint();)u=r.x-s,l=r.y-i,a=.5*Bt*(u*o-l*n),t[0]+=a*(n+u),t[1]+=a*(o+l),n=u,o=l;const h=r.getCurrentRingArea(),c=[s,i];return c[0]-=e[0],c[1]-=e[1],c[0]*=h,c[1]*=h,t[0]+=c[0],t[1]+=c[1],t}function O(t=te){return[t[0],t[1],t[2],t[3]]}function ct(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function Ve(t,e,r,s,i=O()){return i[0]=t,i[1]=e,i[2]=r,i[3]=s,i}function Je(t,e=O()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function je(t,e,r=new k){return r.xmin=t[0],r.ymin=t[1],r.xmax=t[2],r.ymax=t[3],r.spatialReference=e,r}function qe(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ge(t,e,r){if(e!=null)if("length"in e)j(e)?(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[0]),r[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":r[0]=Math.min(t[0],e.xmin),r[1]=Math.min(t[1],e.ymin),r[2]=Math.max(t[2],e.xmax),r[3]=Math.max(t[3],e.ymax);break;case"point":r[0]=Math.min(t[0],e.x),r[1]=Math.min(t[1],e.y),r[2]=Math.max(t[2],e.x),r[3]=Math.max(t[3],e.y)}else ct(r,t)}function Xe(t,e,r=t){const s=e.length;let i=t[0],a=t[1],n=t[2],o=t[3];for(let u=0;u<s;u++){const l=e[u];i=Math.min(i,l[0]),a=Math.min(a,l[1]),n=Math.max(n,l[0]),o=Math.max(o,l[1])}return r[0]=i,r[1]=a,r[2]=n,r[3]=o,r}function Ue(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function ft(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function pt(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function De(t){return ft(t)*pt(t)}function We(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function Ke(t){const e=ft(t),r=pt(t);return Math.sqrt(e*e+r*r)}function Le(t,e){return Qt(t,e.x,e.y)}function Qt(t,e,r){return e>=t[0]&&r>=t[1]&&e<=t[2]&&r<=t[3]}function Be(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function He(t,e,r){return Math.max(e[0],t[0])-r<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-r<=Math.min(e[3],t[3])}function Qe(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function tr(t,e,r,s=t){return s[0]=t[0]+e,s[1]=t[1]+r,s[2]=t[2]+e,s[3]=t[3]+r,s}function er(t){return t?ct(t,et):O(et)}function j(t){return t!=null&&t.length===4}function rr(t,e){return j(t)&&j(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const et=[1/0,1/0,-1/0,-1/0],te=[0,0,0,0];function mt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function gt(t){return t.points!==void 0}function yt(t){return t.x!==void 0&&t.y!==void 0}function xt(t){return t.paths!==void 0}function $t(t){return t.rings!==void 0}function dt(t){function e(r,s){return r==null?s:s==null?r:t(r,s)}return e}const Z=dt(Math.min),z=dt(Math.max);function sr(t,e){return xt(e)?_(t,e.paths,!1,!1):$t(e)?_(t,e.rings,!1,!1):gt(e)?D(t,e.points,!1,!1,!1,!1):mt(e)?vt(t,e):(yt(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function ir(t){let e,r,s,i;for(t.reset(),e=s=1/0,r=i=-1/0;t.nextPath();){const a=ee(t);e=Math.min(a[0],e),s=Math.min(a[1],s),r=Math.max(a[2],r),i=Math.max(a[3],i)}return O([e,s,r,i])}function ee(t){let e,r,s,i;for(e=s=1/0,r=i=-1/0;t.nextPoint();)e=Math.min(t.x,e),s=Math.min(t.y,s),r=Math.max(t.x,r),i=Math.max(t.y,i);return O([e,s,r,i])}function nr(t,e){return xt(e)?_(t,e.paths,!0,!1):$t(e)?_(t,e.rings,!0,!1):gt(e)?D(t,e.points,!0,!1,!0,!1):mt(e)?vt(t,e,!0,!1,!0,!1):(yt(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function _(t,e,r,s){const i=r?3:2;if(!e.length||!e[0].length)return null;let a,n,o,u,[l,h]=e[0][0],[c,f]=e[0][0];for(let p=0;p<e.length;p++){const m=e[p];for(let g=0;g<m.length;g++){const y=m[g],[d,x]=y;if(l=Z(l,d),h=Z(h,x),c=z(c,d),f=z(f,x),r&&y.length>2){const M=y[2];a=Z(a,M),n=z(n,M)}if(s&&y.length>i){const M=y[i];o=Z(a,M),u=z(n,M)}}}return r?s?(t[0]=l,t[1]=h,t[2]=a,t[3]=o,t[4]=c,t[5]=f,t[6]=n,t[7]=u,t.length=8,t):(t[0]=l,t[1]=h,t[2]=a,t[3]=c,t[4]=f,t[5]=n,t.length=6,t):s?(t[0]=l,t[1]=h,t[2]=o,t[3]=c,t[4]=f,t[5]=u,t.length=6,t):(t[0]=l,t[1]=h,t[2]=c,t[3]=f,t.length=4,t)}function vt(t,e,r,s,i,a){const n=e.xmin,o=e.xmax,u=e.ymin,l=e.ymax;let h=e.zmin,c=e.zmax,f=e.mmin,p=e.mmax;return i?(h=h||0,c=c||0,a?(f=f||0,p=p||0,t[0]=n,t[1]=u,t[2]=h,t[3]=f,t[4]=o,t[5]=l,t[6]=c,t[7]=p,t):(t[0]=n,t[1]=u,t[2]=h,t[3]=o,t[4]=l,t[5]=c,t)):a?(f=f||0,p=p||0,t[0]=n,t[1]=u,t[2]=f,t[3]=o,t[4]=l,t[5]=p,t):(t[0]=n,t[1]=u,t[2]=o,t[3]=l,t)}function D(t,e,r,s,i,a){const n=r?3:2,o=s&&a,u=r&&i;if(!e.length||!e[0].length)return null;let l,h,c,f,[p,m]=e[0],[g,y]=e[0];for(let d=0;d<e.length;d++){const x=e[d],[M,A]=x;if(p=Z(p,M),m=Z(m,A),g=z(g,M),y=z(y,A),u&&x.length>2){const I=x[2];l=Z(l,I),h=z(h,I)}if(o&&x.length>n){const I=x[n];c=Z(l,I),f=z(h,I)}}return i?(l=l||0,h=h||0,a?(c=c||0,f=f||0,t[0]=p,t[1]=m,t[2]=l,t[3]=c,t[4]=g,t[5]=y,t[6]=h,t[7]=f,t):(t[0]=p,t[1]=m,t[2]=l,t[3]=g,t[4]=y,t[5]=h,t)):a?(c=c||0,f=f||0,t[0]=p,t[1]=m,t[2]=c,t[3]=g,t[4]=y,t[5]=f,t):(t[0]=p,t[1]=m,t[2]=g,t[3]=y,t)}function re(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function se(t){return t.points!==void 0}function ie(t){return t.x!==void 0&&t.y!==void 0}function ne(t){return t.paths!==void 0}function ae(t){return t.rings!==void 0}const W=[];function Mt(t,e,r,s){return{xmin:t,ymin:e,xmax:r,ymax:s}}function It(t,e,r,s,i,a){return{xmin:t,ymin:e,zmin:r,xmax:s,ymax:i,zmax:a}}function Pt(t,e,r,s,i,a){return{xmin:t,ymin:e,mmin:r,xmax:s,ymax:i,mmax:a}}function Rt(t,e,r,s,i,a,n,o){return{xmin:t,ymin:e,zmin:r,mmin:s,xmax:i,ymax:a,zmax:n,mmax:o}}function K(t,e=!1,r=!1){return e?r?Rt(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):It(t[0],t[1],t[2],t[3],t[4],t[5]):r?Pt(t[0],t[1],t[2],t[3],t[4],t[5]):Mt(t[0],t[1],t[2],t[3])}function ar(t){return t?re(t)?t:ie(t)?le(t):ae(t)?Nt(t):ne(t)?wt(t):se(t)?oe(t):null:null}function oe(t){const{hasZ:e,hasM:r,points:s}=t;return K(D(W,s,e??!1,r??!1),e,r)}function le(t){const{x:e,y:r,z:s,m:i}=t,a=i!=null;return s!=null?a?Rt(e,r,s,i,e,r,s,i):It(e,r,s,e,r,s):a?Pt(e,r,i,e,r,i):Mt(e,r,e,r)}function Nt(t){const{hasZ:e,hasM:r,rings:s}=t,i=_(W,s,e??!1,r??!1);return i?K(i,e,r):null}function wt(t){const{hasZ:e,hasM:r,paths:s}=t,i=_(W,s,e??!1,r??!1);return i?K(i,e,r):null}function b(t,e,r=!1){let{hasM:s,hasZ:i}=t;Array.isArray(e)?e.length!==4||s||i?e.length===3&&r&&!s?(i=!0,s=!1):e.length===3&&s&&i&&(s=!1,i=!1):(s=!0,i=!0):(i=!i&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!i||e.hasZ)),t.hasZ=i,t.hasM=s}var E;function rt(t){return!Array.isArray(t[0])}function ue(t){return typeof t[0]?.[0]=="number"}function he(t){if(!t)return;let{rings:e,hasM:r,hasZ:s,spatialReference:i}=t;switch(e??=[],ue(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return i??=nt.WGS84,{...t,hasM:r,hasZ:s,rings:e,spatialReference:i}}let R=E=class extends U{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:r}=t;let s=!1,i=!1;for(const n of e)n.hasZ&&(s=!0),n.hasM&&(i=!0);const a={rings:e.map((n=>{const o=[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]];if(s&&n.hasZ){const u=n.zmin+.5*(n.zmax-n.zmin);for(let l=0;l<o.length;l++)o[l].push(u)}if(i&&n.hasM){const u=n.mmin+.5*(n.mmax-n.mmin);for(let l=0;l<o.length;l++)o[l].push(u)}return o})),spatialReference:r};return s&&(a.hasZ=!0),i&&(a.hasM=!0),new E(a)}constructor(t){super(he(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Xt(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new v;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=N(t)}get extent(){const t=Nt(this),{spatialReference:e}=this;return t?new k({...t,spatialReference:e}):null}get isSelfIntersecting(){return Tt(Ot.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Et(this.rings)}writeRings(t,e){e.rings=N(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(rt(t)){const s=[];for(let i=0,a=t.length;i<a;i++)s[i]=t[i].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new E;return t.spatialReference=this.spatialReference,t.rings=N(this.rings),t.curveRings=N(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;const s=([i,a,n,o],[u,l,h,c])=>i===u&&a===l&&(n==null&&h==null||n===h)&&(o==null&&c==null||o===c);for(let i=0;i<this.rings.length;i++){const a=this.rings[i],n=t.rings[i];if(!it(a,n,s))return!1}return!0}contains(t){if(!t)return!1;const e=Yt(t,this.spatialReference);return kt(this,e??t)}isClockwise(t){const e=rt(t)?t.map((r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y])):t;return lt(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new v(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new v(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new v(r[0],r[1],r[2],r[3],this.spatialReference):new v(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(b(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new v(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map((i=>new v(i,r)));return this.notifyChange("rings"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(b(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};$([P({readOnly:!0})],R.prototype,"cache",null),$([P({readOnly:!0})],R.prototype,"centroid",null),$([P({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],R.prototype,"curveRings",void 0),$([T("curveRings")],R.prototype,"writeCurveRings",null),$([P({readOnly:!0})],R.prototype,"extent",null),$([P({readOnly:!0})],R.prototype,"isSelfIntersecting",null),$([P({type:[[[Number]]],json:{write:{isRequired:!0}}})],R.prototype,"rings",void 0),$([T("rings")],R.prototype,"writeRings",null),R=E=$([X("esri.geometry.Polygon")],R),R.prototype.toJSON.isDefaultToJSON=!0;function L(){return[0,0,0]}function ce(t){return[t[0],t[1],t[2]]}function C(t,e,r){return[t,e,r]}function fe(t,e,r){return[t,e,r]}function pe(t,e=L()){const r=Math.min(3,t.length);for(let s=0;s<r;++s)e[s]=t[s];return e}function Zt(){return L()}function zt(){return C(1,1,1)}function At(){return C(1,0,0)}function St(){return C(0,1,0)}function _t(){return C(0,0,1)}const me=Zt(),ge=zt(),ye=At(),xe=St(),$e=_t();Object.freeze(Object.defineProperty({__proto__:null,ONES:ge,UNIT_X:ye,UNIT_Y:xe,UNIT_Z:$e,ZEROS:me,clone:ce,create:L,freeze:fe,fromArray:pe,fromValues:C,ones:zt,unitX:At,unitY:St,unitZ:_t,zeros:Zt},Symbol.toStringTag,{value:"Module"}));var q;function st(t){return(e,r)=>e==null?r:r==null?e:t(e,r)}function de(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let S=q=class extends U{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):de(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));const s=r.points?.[0];return s&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=s.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=s.length>3:r.hasM===void 0&&(r.hasM=s.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new k,r=this.hasZ,s=this.hasM,i=r?3:2,a=t[0],n=st(Math.min),o=st(Math.max);let u,l,h,c,[f,p]=a,[m,g]=a;for(let y=0,d=t.length;y<d;y++){const x=t[y],[M,A]=x;if(f=n(f,M),p=n(p,A),m=o(m,M),g=o(g,A),r&&x.length>2){const I=x[2];u=n(u,I),h=o(h,I)}if(s&&x.length>i){const I=x[i];l=n(l,I),c=o(c,I)}}return e.xmin=f,e.ymin=p,e.xmax=m,e.ymax=g,e.spatialReference=this.spatialReference,r?(e.zmin=u,e.zmax=h):(e.zmin=void 0,e.zmax=void 0),s?(e.mmin=l,e.mmax=c):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=N(this.points)}addPoint(t){return b(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:N(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new q(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=e[2],s=3),this.hasM&&(r.m=e[s]),new v(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new v(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(b(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};$([P({readOnly:!0})],S.prototype,"cache",null),$([P()],S.prototype,"extent",null),$([P({type:[[Number]],json:{write:{isRequired:!0}}})],S.prototype,"points",void 0),$([T("points")],S.prototype,"writePoints",null),S=q=$([X("esri.geometry.Multipoint")],S),S.prototype.toJSON.isDefaultToJSON=!0;var G;function ve(t){return!Array.isArray(t[0])}function Me(t){return typeof t[0]?.[0]=="number"}function Ie(t){if(!t)return;let{paths:e,hasM:r,hasZ:s,spatialReference:i}=t;switch(e??=[],Me(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return i??=nt.WGS84,{...t,hasM:r,hasZ:s,paths:e,spatialReference:i}}let w=G=class extends U{constructor(t){super(Ie(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=N(t)}get extent(){const t=wt(this),{spatialReference:e}=this;return t?new k({...t,spatialReference:e}):null}writePaths(t,e){e.paths=N(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(ve(t)){const s=[];for(let i=0,a=t.length;i<a;i++)s[i]=t[i].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new G;return t.spatialReference=this.spatialReference,t.paths=N(this.paths),t.curvePaths=N(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new v(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new v(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new v(r[0],r[1],r[2],r[3],this.spatialReference):new v(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(b(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,s=e.map((i=>new v(i,r)));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new v(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(b(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};$([P({readOnly:!0})],w.prototype,"cache",null),$([P({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],w.prototype,"curvePaths",void 0),$([T("curvePaths")],w.prototype,"writeCurvePaths",null),$([P({readOnly:!0})],w.prototype,"extent",null),$([P({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"paths",void 0),$([T("paths")],w.prototype,"writePaths",null),w=G=$([X("esri.geometry.Polyline")],w),w.prototype.toJSON.isDefaultToJSON=!0;export{Wt as $,Qe as A,Oe as B,ot as C,De as D,Nt as E,Xt as F,Ye as G,Te as H,er as I,be as J,Ut as K,rr as L,ft as M,$e as N,et as O,R as P,pt as Q,Be as R,ct as S,We as T,Ee as U,qt as V,Ce as W,ze as X,Ft as Y,ir as Z,ge as _,xe as a,ee as a0,ke as a1,Vt as a2,Fe as a3,qe as a4,Ke as a5,tr as a6,zt as a7,He as a8,Zt as a9,Se as aa,Ue as ab,Le as ac,O as b,sr as c,Y as d,Ve as e,nr as f,Jt as g,Ge as h,je as i,Ae as j,Xe as k,ar as l,S as m,L as n,_e as o,lt as p,me as q,C as r,ye as s,ce as t,pe as u,fe as v,Je as w,_ as x,w as y,Qt as z};
