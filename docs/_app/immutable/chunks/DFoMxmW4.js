import{b as j,_ as I,m as z,r as H,a as bt,h as Gt,aG as Ot,g as Zt}from"./DwWpeHsS.js";import{z as ht,au as vt,_ as S,f as Pt,Q as Ee,bv as je,a3 as Ce,bw as Fe}from"./CeRhhlE3.js";import{m as Jt,A as Dt,r as ke}from"./bnayRBMH.js";function It(){return[0,0,0]}function Ve(t){return[t[0],t[1],t[2]]}function tt(t,e,r){return[t,e,r]}function Ye(t,e,r){return[t,e,r]}function Ge(t,e=It()){const r=Math.min(3,t.length);for(let s=0;s<r;++s)e[s]=t[s];return e}function Lt(){return It()}function Ut(){return tt(1,1,1)}function Bt(){return tt(1,0,0)}function Qt(){return tt(0,1,0)}function Wt(){return tt(0,0,1)}const Je=Lt(),De=Ut(),Le=Bt(),Ue=Qt(),Be=Wt();Object.freeze(Object.defineProperty({__proto__:null,ONES:De,UNIT_X:Le,UNIT_Y:Ue,UNIT_Z:Be,ZEROS:Je,clone:Ve,create:It,freeze:Ye,fromArray:Ge,fromValues:tt,ones:Ut,unitX:Bt,unitY:Qt,unitZ:Wt,zeros:Lt},Symbol.toStringTag,{value:"Module"}));let Rt=1e-6;function lt(){return Rt}function Qe(t){Rt=t}const Xt=Math.random,We=Math.PI/180,Xe=180/Math.PI;function He(t){return t*We}function Ke(t){return t*Xe}function tr(t,e){return Math.abs(t-e)<=Rt*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Xt,equals:tr,getEpsilon:lt,setEpsilon:Qe,toDegree:Ke,toRadian:He},Symbol.toStringTag,{value:"Module"}));function et(t=nr){return[t[0],t[1],t[2],t[3]]}function Ht(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function er(t,e,r,s,n=et()){return n[0]=t,n[1]=e,n[2]=r,n[3]=s,n}function sn(t,e=et()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function nn(t,e,r=new ht){return r.xmin=t[0],r.ymin=t[1],r.xmax=t[2],r.ymax=t[3],r.spatialReference=e,r}function O(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function rr(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function sr(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function an(t,e,r){if(e!=null)if("length"in e)yt(e)?(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.max(t[2],e[0]),r[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":r[0]=Math.min(t[0],e.xmin),r[1]=Math.min(t[1],e.ymin),r[2]=Math.max(t[2],e.xmax),r[3]=Math.max(t[3],e.ymax);break;case"point":r[0]=Math.min(t[0],e.x),r[1]=Math.min(t[1],e.y),r[2]=Math.max(t[2],e.x),r[3]=Math.max(t[3],e.y)}else Ht(r,t)}function on(t,e,r=t){const s=e.length;let n=t[0],a=t[1],i=t[2],o=t[3];for(let u=0;u<s;u++){const c=e[u];n=Math.min(n,c[0]),a=Math.min(a,c[1]),i=Math.max(i,c[0]),o=Math.max(o,c[1])}return r[0]=n,r[1]=a,r[2]=i,r[3]=o,r}function un(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function Kt(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function te(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function cn(t){return Kt(t)*te(t)}function hn(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function ln(t){const e=Kt(t),r=te(t);return Math.sqrt(e*e+r*r)}function fn(t,e){return!!t&&gt(t,e.x,e.y)}function gt(t,e,r){return e>=t[0]&&r>=t[1]&&e<=t[2]&&r<=t[3]}function mn(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function pn(t,e,r){return Math.max(e[0],t[0])-r<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-r<=Math.min(e[3],t[3])}function Mn(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function gn(t,e,r,s){return s??=t,s[0]=t[0]+e,s[1]=t[1]+r,s[2]=t[2]+e,s[3]=t[3]+r,s}function yn(t){return t?Ht(t,Tt):et(Tt)}function yt(t){return t!=null&&t.length===4}function xn(t,e){return yt(t)&&yt(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const Tt=[1/0,1/0,-1/0,-1/0],nr=[0,0,0,0];function ar(t,e){return t[0]=e[0],t[1]=e[1],t}function ir(t,e,r){return t[0]=e,t[1]=r,t}function or(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function ee(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function re(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function se(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function ur(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function cr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function hr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function lr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function fr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function mr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function pr(t,e,r,s){return t[0]=e[0]+r[0]*s,t[1]=e[1]+r[1]*s,t}function ne(t,e){const r=e[0]-t[0],s=e[1]-t[1];return Math.sqrt(r*r+s*s)}function wt(t,e){const r=e[0]-t[0],s=e[1]-t[1];return r*r+s*s}function ae(t){const e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function ie(t){const e=t[0],r=t[1];return e*e+r*r}function Mr(t,e){return t[0]=-e[0],t[1]=-e[1],t}function gr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function yr(t,e){const r=e[0],s=e[1];let n=r*r+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function xr(t,e){return t[0]*e[0]+t[1]*e[1]}function $r(t,e,r){const s=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=s,t}function dr(t,e,r,s){const n=e[0],a=e[1];return t[0]=n+s*(r[0]-n),t[1]=a+s*(r[1]-a),t}function br(t,e=1){const r=2*Xt()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function vr(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[2]*n,t[1]=r[1]*s+r[3]*n,t}function Pr(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[2]*n+r[4],t[1]=r[1]*s+r[3]*n+r[5],t}function nt(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[3]*n+r[6],t[1]=r[1]*s+r[4]*n+r[7],t}function Ir(t,e,r){const s=e[0],n=e[1];return t[0]=r[0]*s+r[4]*n+r[12],t[1]=r[1]*s+r[5]*n+r[13],t}function Rr(t,e,r,s){const n=e[0]-r[0],a=e[1]-r[1],i=Math.sin(s),o=Math.cos(s);return t[0]=n*o-a*i+r[0],t[1]=n*i+a*o+r[1],t}function wr(t,e){const r=t[0],s=t[1],n=e[0],a=e[1];let i=r*r+s*s;i>0&&(i=1/Math.sqrt(i));let o=n*n+a*a;o>0&&(o=1/Math.sqrt(o));const u=(r*n+s*a)*i*o;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Nr(t){return"vec2("+t[0]+", "+t[1]+")"}function Sr(t,e){return t[0]===e[0]&&t[1]===e[1]}function _r(t,e){const r=t[0],s=t[1],n=e[0],a=e[1],i=lt();return Math.abs(r-n)<=i*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(s-a)<=i*Math.max(1,Math.abs(s),Math.abs(a))}function qr(t,e,r,s,n){let a=e[0]-r[0],i=e[1]-r[1];const o=(s[0]*a+s[1]*i)*(n-1);return a=s[0]*o,i=s[1]*o,t[0]=e[0]+a,t[1]=e[1]+i,t}const zr=ae,Ar=ee,Or=re,Zr=se,Tr=ne,Er=wt,jr=ie;Object.freeze(Object.defineProperty({__proto__:null,add:or,angle:wr,ceil:ur,copy:ar,cross:$r,dist:Tr,distance:ne,div:Zr,divide:se,dot:xr,equals:_r,exactEquals:Sr,floor:cr,inverse:gr,len:zr,length:ae,lerp:dr,max:lr,min:hr,mul:Or,multiply:re,negate:Mr,normalize:yr,projectAndScale:qr,random:br,rotate:Rr,round:fr,scale:mr,scaleAndAdd:pr,set:ir,sqrDist:Er,sqrLen:jr,squaredDistance:wt,squaredLength:ie,str:Nr,sub:Ar,subtract:ee,transformMat2:vr,transformMat2d:Pr,transformMat3:nt,transformMat4:Ir},Symbol.toStringTag,{value:"Module"}));function F(t,e,r,s){return t[0]=e[0]*(1-s)+r[0]*s,t[1]=e[1]*(1-s)+r[1]*s,t}function _(t,e){return wt(t,e)}function $n(t,e,r){const s=_(e,r);if(s===0)return _(e,t);const n=(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0]);return n*n/s}function Cr(t,e,r,s,n){const[a,i]=e,[o,u]=r,[c,h]=s,[l,f]=n,m=(a-o)*(h-f)-(i-u)*(c-l);if(m===0)return null;const p=(a*u-i*o)*(c-l)-(a-o)*(c*f-h*l),M=(a*u-i*o)*(h-f)-(i-u)*(c*f-h*l);return t[0]=p/m,t[1]=M/m,t}const E=2*Math.PI;function D(t,e){const r=Math.atan2(t,e);return r<0?r+E:r}function oe(t){return Math.abs(t)%E}function Et(t){const e=oe(t);return e<Math.PI?e:E-e}function ft(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function ue(t,e,r,s){if(Jt(oe(t-e),0))return r?[t,t]:[t,s?t-E:t+E];const[n,a]=s?[t-E,t]:[t,t+E];return[t,rt({min:n,max:a},e)]}function rt({min:t,max:e},r){let s;return s=e-r,s>=E?(s-=s%E,r+s):(s=r-t,s>=E?(s-=s%E,r-s):r)}function Fr(t,e){const r=rt(t,e);return r>t.min&&r<t.max?r:Et(r-t.min)<Et(r-t.max)?t.min:t.max}function ce(t,e,r,s=10){return e.map(n=>{let a=n;for(let i=0;i<s;i++){const[o,u,c,h,l,f]=r(a),m=t[0]-o,p=t[1]-u,M=-c,g=-h;a+=-(2*m*M+2*p*g)/(2*M*M+2*m*-l+2*g*g+2*p*-f||1e-6)}return a})}const kr=[0,0];function he(t){const e=1-t,r=e*e,s=t*t;return[r*e,3*t*r,3*s*e,s*t]}function xt(t,e,r,s,n){const[a,i,o,u]=he(n);return[t[0]*a+e[0]*i+r[0]*o+s[0]*u,t[1]*a+e[1]*i+r[1]*o+s[1]*u]}function jt(t,e,r,s,n){const[a,i,o,u]=he(n);return t*a+e*i+r*o+s*u}function dn(t,e,r){const s=t,[n,a,i]=e.b;return xt(s,a,i,n,r)}function Vr(t,e,r){const s=t,[n,a,i]=e.b,o=F([0,0],s,a,r),u=F(kr,a,i,r),c=F([0,0],i,n,r),h=F([0,0],o,u,r),l=F([0,0],u,c,r);return[{b:[F([],h,l,r),o,h]},{b:[[...n],l,c]}]}function bn(t,e,r){const s=t,[n,a,i]=e.b,o=ce(r,[.1,.5,.9],l=>{const f=1-l,[m,p]=xt(s,a,i,n,l);return[m,p,3*f*f*(a[0]-s[0])+6*f*l*(i[0]-a[0])+3*l*l*(n[0]-i[0]),3*f*f*(a[1]-s[1])+6*f*l*(i[1]-a[1])+3*l*l*(n[1]-i[1]),6*f*(i[0]-2*a[0]+s[0])+6*l*(n[0]-2*i[0]+a[0]),6*f*(i[1]-2*a[1]+s[1])+6*l*(n[1]-2*i[1]+a[1])]}).map(l=>Math.min(1,Math.max(0,l)));o.push(0,1);let u=1/0;const c=o.map(l=>{const f=xt(s,a,i,n,l),[m,p]=f,M=r[0]-m,g=r[1]-p,y=Math.sqrt(M*M+g*g);return u=Math.min(y,u),{t:l,curvePoint:f,distance:y}}),h=[];for(const l of c){const{t:f,distance:m}=l;Dt(m,u)&&!h.some(({t:p})=>Jt(p,f))&&h.push(l)}return h}function Yr(t,e,r){const s=e,[n,a,i]=r.b;if(O(t,s),O(t,n),gt(t,a[0],a[1])&&gt(t,i[0],i[1]))return t;for(const o of Ct(s[0],a[0],i[0],n[0]))o>0&&o<1&&rr(t,jt(s[0],a[0],i[0],n[0],o));for(const o of Ct(s[1],a[1],i[1],n[1]))o>0&&o<1&&sr(t,jt(s[1],a[1],i[1],n[1],o));return t}function Ct(t,e,r,s){const n=3*(3*(e-r)-t+s),a=6*(t-2*e+r),i=3*(e-t);if(n===0)return a!==0?[-i/a]:[];const o=Math.sqrt(a*a-4*n*i);return[(-a+o)/(2*n),(-a-o)/(2*n)]}function vn(t,e,r){let n=0,a=[e];for(let i=0;i<16;i++){let o=t;const u=[];for(const h of a)u.push(...Vr(o,h,.5)),o=h.b[0];a=u,o=t,n=0;let c=0;for(const h of a){const[l,f,m]=h.b,p=Math.sqrt(_(o,l));n+=(p+(Math.sqrt(_(o,f))+Math.sqrt(_(f,m))+Math.sqrt(_(m,l))))/2,c+=p,o=l}if(n-c<r)return n}return n}function Gr(t,e,r){const[s,n]=t,[a,i]=e,[o,u]=r,[c,h]=[a-s,i-n];let l=c*(o-s)+h*(u-n);l/=c**2+h**2,l=ke(l,0,1);const f=F([0,0],t,e,l);return{t:l,curvePoint:f,distance:Math.sqrt(_(f,r))}}let le=class{constructor(e,r,s,n,a,i){this.cx=e,this.cy=r,this.radius=s,this.thetaStart=n,this.thetaEnd=a,this.isInvalid=i}get startPoint(){const{cx:e,cy:r,radius:s,thetaStart:n}=this;return[e+s*Math.cos(n),r+s*Math.sin(n)]}get endPoint(){const{cx:e,cy:r,radius:s,thetaEnd:n}=this;return[e+s*Math.cos(n),r+s*Math.sin(n)]}};function ut(t,e){const{cx:r,cy:s,radius:n}=t;return[r+n*Math.cos(e),s+n*Math.sin(e)]}function at(t,e){if(t.isInvalid)return F([0,0],t.startPoint,t.endPoint,e);const{thetaStart:r,thetaEnd:s}=t;return ut(t,r*(1-e)+s*e)}function In(t,e){if(t.isInvalid)return Gr(t.startPoint,t.endPoint,e);const{cx:r,cy:s,thetaStart:n,thetaEnd:a}=t,[i,o]=e,u=Fr(ft(n,a),Math.atan2(o-s,i-r)),c=ut(t,u);return{t:(u-n)/(a-n),curvePoint:c,distance:Math.sqrt(_(e,c))}}function Ft(t,e){if(e.isInvalid)return O(t,e.startPoint),O(t,e.endPoint),t;const{cx:r,cy:s,radius:n,thetaStart:a,thetaEnd:i}=e;O(t,ut(e,a)),O(t,ut(e,i));const o=ft(a,i),u=Math.PI/2;let c=0;for(const h of[[r+n,s],[r,s+n],[r-n,s],[r,s-n]])c=rt(o,c),c>o.min&&c<o.max&&O(t,h),c+=u;return t}function Rn(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:r,thetaEnd:s}=t;return e*Math.abs(s-r)}function Jr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Dr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function X(t,e,r,s,n,a,i,o,u,c){return t[0]=e,t[1]=r,t[2]=s,t[3]=n,t[4]=a,t[5]=i,t[6]=o,t[7]=u,t[8]=c,t}function Lr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function fe(t,e){if(t===e){const r=e[1],s=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=s,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function me(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8],l=h*i-o*c,f=-h*a+o*u,m=c*a-i*u;let p=r*l+s*f+n*m;return p?(p=1/p,t[0]=l*p,t[1]=(-h*s+n*c)*p,t[2]=(o*s-n*i)*p,t[3]=f*p,t[4]=(h*r-n*u)*p,t[5]=(-o*r+n*a)*p,t[6]=m*p,t[7]=(-c*r+s*u)*p,t[8]=(i*r-s*a)*p,t):null}function Ur(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8];return t[0]=i*h-o*c,t[1]=n*c-s*h,t[2]=s*o-n*i,t[3]=o*u-a*h,t[4]=r*h-n*u,t[5]=n*a-r*o,t[6]=a*c-i*u,t[7]=s*u-r*c,t[8]=r*i-s*a,t}function it(t){const e=t[0],r=t[1],s=t[2],n=t[3],a=t[4],i=t[5],o=t[6],u=t[7],c=t[8];return e*(c*a-i*u)+r*(-c*n+i*o)+s*(u*n-a*o)}function ct(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=r[0],m=r[1],p=r[2],M=r[3],g=r[4],y=r[5],x=r[6],d=r[7],$=r[8];return t[0]=f*s+m*i+p*c,t[1]=f*n+m*o+p*h,t[2]=f*a+m*u+p*l,t[3]=M*s+g*i+y*c,t[4]=M*n+g*o+y*h,t[5]=M*a+g*u+y*l,t[6]=x*s+d*i+$*c,t[7]=x*n+d*o+$*h,t[8]=x*a+d*u+$*l,t}function Br(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=r[0],m=r[1];return t[0]=s,t[1]=n,t[2]=a,t[3]=i,t[4]=o,t[5]=u,t[6]=f*s+m*i+c,t[7]=f*n+m*o+h,t[8]=f*a+m*u+l,t}function Qr(t,e,r){const s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(r),m=Math.cos(r);return t[0]=m*s+f*i,t[1]=m*n+f*o,t[2]=m*a+f*u,t[3]=m*i-f*s,t[4]=m*o-f*n,t[5]=m*u-f*a,t[6]=c,t[7]=h,t[8]=l,t}function Wr(t,e,r){const s=r[0],n=r[1],a=r[2];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=a*e[6],t[7]=a*e[7],t[8]=a*e[8],t}function Xr(t,e,r){const s=r[0],n=r[1];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t}function Hr(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Kr(t,e){const r=Math.sin(e),s=Math.cos(e);return t[0]=s,t[1]=r,t[2]=0,t[3]=-r,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ts(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function es(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function rs(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=r+r,o=s+s,u=n+n,c=r*i,h=s*i,l=s*o,f=n*i,m=n*o,p=n*u,M=a*i,g=a*o,y=a*u;return t[0]=1-l-p,t[3]=h-y,t[6]=f+g,t[1]=h+y,t[4]=1-c-p,t[7]=m-M,t[2]=f-g,t[5]=m+M,t[8]=1-c-l,t}function ss(t,e){const r=e[0],s=e[1],n=e[2],a=e[4],i=e[5],o=e[6],u=e[8],c=e[9],h=e[10],l=h*i-o*c,f=-h*a+o*u,m=c*a-i*u,p=r*l+s*f+n*m;if(!p)return null;const M=1/p;return t[0]=l*M,t[1]=(-h*s+n*c)*M,t[2]=(o*s-n*i)*M,t[3]=f*M,t[4]=(h*r-n*u)*M,t[5]=(-o*r+n*a)*M,t[6]=m*M,t[7]=(-c*r+s*u)*M,t[8]=(i*r-s*a)*M,t}function ns(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],m=e[11],p=e[12],M=e[13],g=e[14],y=e[15],x=r*o-s*i,d=r*u-n*i,$=r*c-a*i,b=s*u-n*o,v=s*c-a*o,R=n*c-a*u,P=h*M-l*p,w=h*g-f*p,N=h*y-m*p,Z=l*g-f*M,q=l*y-m*M,G=f*y-m*g;let A=x*G-d*q+$*Z+b*N-v*w+R*P;return A?(A=1/A,t[0]=(o*G-u*q+c*Z)*A,t[1]=(u*N-i*G-c*w)*A,t[2]=(i*q-o*N+c*P)*A,t[3]=(n*q-s*G-a*Z)*A,t[4]=(r*G-n*N+a*w)*A,t[5]=(s*N-r*q-a*P)*A,t[6]=(M*R-g*v+y*b)*A,t[7]=(g*$-p*R-y*d)*A,t[8]=(p*v-M*$+y*x)*A,t):null}function as(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function is(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function os(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function us(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function pe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function cs(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function hs(t,e,r,s){return t[0]=e[0]+r[0]*s,t[1]=e[1]+r[1]*s,t[2]=e[2]+r[2]*s,t[3]=e[3]+r[3]*s,t[4]=e[4]+r[4]*s,t[5]=e[5]+r[5]*s,t[6]=e[6]+r[6]*s,t[7]=e[7]+r[7]*s,t[8]=e[8]+r[8]*s,t}function ls(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function fs(t,e){const r=t[0],s=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],h=t[8],l=e[0],f=e[1],m=e[2],p=e[3],M=e[4],g=e[5],y=e[6],x=e[7],d=e[8],$=lt();return Math.abs(r-l)<=$*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-f)<=$*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(n-m)<=$*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(a-p)<=$*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-M)<=$*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-g)<=$*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-y)<=$*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-x)<=$*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-d)<=$*Math.max(1,Math.abs(h),Math.abs(d))}function ms(t){const e=lt(),r=t[0],s=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],h=t[8];return Math.abs(1-(r*r+a*a+u*u))<=e&&Math.abs(1-(s*s+i*i+c*c))<=e&&Math.abs(1-(n*n+o*o+h*h))<=e}const ps=ct,Ms=pe;Object.freeze(Object.defineProperty({__proto__:null,add:us,adjoint:Ur,copy:Dr,determinant:it,equals:fs,exactEquals:ls,frob:os,fromMat2d:es,fromMat4:Jr,fromQuat:rs,fromRotation:Kr,fromScaling:ts,fromTranslation:Hr,identity:Lr,invert:me,isOrthoNormal:ms,mul:ps,multiply:ct,multiplyScalar:cs,multiplyScalarAndAdd:hs,normalFromMat4:ns,normalFromMat4Legacy:ss,projection:as,rotate:Qr,scale:Wr,scaleByVec2:Xr,set:X,str:is,sub:Ms,subtract:pe,translate:Br,transpose:fe},Symbol.toStringTag,{value:"Module"}));function L(){return[1,0,0,0,1,0,0,0,1]}function gs(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function ys(t,e,r,s,n,a,i,o,u){return[t,e,r,s,n,a,i,o,u]}const xs=L();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:xs,clone:gs,create:L,fromValues:ys},Symbol.toStringTag,{value:"Module"}));const U=L();function $s(t,e,r){const[s,n]=t,[a,i]=e,[o,u]=r;X(U,s,a,o,n,i,u,1,1,1);const c=it(U),h=4*c/(_(t,e)+_(e,r)+_(r,t));if(!isFinite(h)||Math.abs(h)<1e-8)return null;const l=s**2+n**2,f=a**2+i**2,m=o**2+u**2;X(U,l,f,m,n,i,u,1,1,1);const p=it(U);return X(U,l,f,m,s,a,o,1,1,1),[p/c*.5,it(U)/c*-.5]}function Me(t,e){const[r,s]=e.c,n=$s(t,s,r),a=n==null,i=n??F([],t,r,.5),[o,u]=t,[c,h]=s,[l,f]=r,[m,p]=i,M=o-m,g=u-p,y=Math.sqrt(M*M+g*g),x=D(u-p,o-m),d=D(h-p,c-m);let $=D(f-p,l-m);return(d-x)*($-d)<0&&($+=2*Math.sign(x-$)*Math.PI),new le(m,p,y,x,$,a)}function wn(t,e,r){const s=at(t,r/2),n=at(t,r),a=at(t,(r+1)/2);return[{c:[n,s]},{c:[[...e.c[0]],a]}]}function Nn(t,e){const[r]=e.c,{cx:s,cy:n,thetaStart:a,thetaEnd:i,radius:o,isInvalid:u}=Me(t,e);return{a:[r,[s,n],Math.abs(i-a)<Math.PI?1:0,a>i?1:0,u?a:0,o,u?0:1]}}function Sn(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function _n(t){return"curveRings"in t?t.curveRings:t.curvePaths}function Nt(t){return"b"in t}function St(t){return"c"in t}function mt(t){return Array.isArray(t)}function qn(t){return"a"in t}function ge(t){return"a"in t&&t.a.length===4}function ds(t){return"a"in t&&t.a.length===7}function Mt(t){return mt(t)?t:Nt(t)?t.b[0]:St(t)?t.c[0]:t.a[0]}function bs(t){if(Nt(t)){const[e,r,s]=t.b;return{b:[[...e],[...r],[...s]]}}if(St(t)){const[e,r]=t.c;return{c:[[...e],[...r]]}}if(mt(t))return[...t];if(ge(t)){const[e,r,s,n]=t.a;return{a:[[...e],[...r],s,n]}}if(ds(t)){const[e,r,s,n,a,i,o]=t.a;return{a:[[...e],[...r],s,n,a,i,o]}}return t}function vs(t,e){const[r,s,n,a]=e.a,[i,o]=t,[u,c]=r,[h,l]=s,f=i-h,m=o-l,p=Math.sqrt(f*f+m*m),M=u-h,g=c-l,y=Math.sqrt(M*M+g*g),x=p===0||y===0||!Dt(p,y),d=p,[$,b]=ue(D(o-l,i-h),Math.atan2(c-l,u-h),n,a);return new le(h,l,d,$,b,x)}function zn(t,e,r){const{cx:s,cy:n,thetaStart:a,thetaEnd:i}=t,[o,u,c,h]=e.a,l=a*(1-r)+i*r;return[{a:[at(t,r),[s,n],Math.abs(l-a)<Math.PI?1:0,h]},{a:[[...o],[s,n],Math.abs(i-l)<Math.PI?1:0,h]}]}class Ps{constructor(e,r,s,n,a,i,o,u,c){this.cx=e,this.cy=r,this.a=s,this.b=n,this.cosR=a,this.sinR=i,this.u1=o,this.u2=u,this.isInvalid=c}}function _t(t,e){const[r,s,n,a,i,o,u]=e.a,[c,h]=t,[l,f]=r,[m,p]=s,M=o*u,g=Math.cos(i),y=Math.sin(i),[x,d]=ue(D(1/M*(h-p)*g-1/M*(c-m)*y,1/o*(h-p)*y+1/o*(c-m)*g),Math.atan2(1/M*(f-p)*g-1/M*(l-m)*y,1/o*(f-p)*y+1/o*(l-m)*g),n,a);return new Ps(m,p,o,M,g,y,x,d,o===0||M===0)}function K(t,e){const{a:r,b:s,cosR:n,sinR:a,cx:i,cy:o}=t,u=Math.cos(e),c=Math.sin(e);return[r*u*n-s*c*a+i,r*u*a+s*c*n+o]}function B(t,e){const{u1:r,u2:s}=t;return K(t,r*(1-e)+s*e)}function An(t,e,r){if(r<0||r>1)return[];if(r===0||r===1)return[bs(e)];const[s,[n,a],i,o,u,c,h]=e.a,{u1:l,u2:f}=t,m=l*(1-r)+f*r;return[{a:[[...B(t,r)],[n,a],Math.abs(m-l)<Math.PI?1:0,o,u,c,h]},{a:[[...s],[n,a],Math.abs(f-m)<Math.PI?1:0,o,u,c,h]}]}function On(t,e){const{a:r,b:s,cosR:n,sinR:a,u1:i,u2:o}=t,u=Math.PI/6,c=ce(e,[1*u,2*u,4*u,5*u,7*u,8*u,10*u,11*u],M=>{const g=Math.cos(M),y=Math.sin(M),[x,d]=K(t,M);return[x,d,-r*n*y-s*a*g,-r*a*y+s*n*g,-r*n*g+s*a*y,-r*a*g-s*n*y]}),h=ft(i,o),l=new Set(c.map(M=>rt(h,M)).filter(M=>M>h.min&&M<h.max));l.add(i),l.add(o);let f,m,p=1/0;for(const M of l){const g=K(t,M),[y,x]=g,d=e[0]-y,$=e[1]-x,b=d*d+$*$;b<p&&(f=(M-i)/(o-i),m=g,p=b)}return{t:f,curvePoint:m,distance:Math.sqrt(p)}}function Is(t,e,r){const s=_t(e,r),{a:n,b:a,u1:i,u2:o,cosR:u,sinR:c,isInvalid:h}=s,l=r.a[0];if(O(t,e),O(t,l),h)return t;const f=Math.atan2(-a*c,n*u),m=f+Math.PI,p=Math.atan2(a*u,n*c),M=p+Math.PI,g=ft(i,o);for(const y of[f,m,p,M].map(x=>rt(g,x)))y>g.min&&y<g.max&&O(t,K(s,y));return t}function Zn(t,e,r){const[s,n,a,i,o,u,c]=e.a,h=_t(t,e),{u1:l,u2:f,isInvalid:m}=h,p=f-l;if(m)return Math.sqrt(_(t,s));const M=14,g=[0,0];let y=0,x=[B(h,0),B(h,.25),B(h,.5),B(h,.75),B(h,1)];for(let d=0;d<M;d++){const $=x.length-1,b=p/(2*$),v=[];for(let P=0;P<$;P++)v.push(x[P]),v.push(K(h,l+(2*P+1)*b));v.push(x[x.length-1]),x=v,y=0;let R=0;for(let P=1;P<x.length;P++){const w=x[P-1],N=x[P];if(y+=Math.sqrt(_(w,N)),P>1){const Z=x[P-2],q=Cr(g,Z,w,n,N);R+=q?Math.sqrt(_(w,q)):Math.abs(N[0]-w[0])+Math.abs(N[1]-w[1])}else R+=y}if(R-y<r)return y}return y}const kt=L(),st=L(),Vt=L(),k=L();function Tn(t,e,r){const[s,n,a,i,o,u,c]=e.a,h=_t(t,e),{cosR:l,sinR:f,a:m,b:p,cx:M,cy:g}=h,y=nt([0,0],s,r),x=nt([0,0],n,r),d=r[0]*r[4]<0?1-i:i;{const $=m*m*f*f+p*p*l*l,b=2*(p*p-m*m)*f*l,v=m*m*l*l+p*p*f*f,R=-2*$*M-b*g,P=-b*M-2*v*g;X(kt,$,b/2,R/2,b/2,v,P/2,R/2,P/2,$*M*M+b*M*g+v*g*g-m*m*p*p)}if(me(st,r),st==null){const $=nt([0,0],t,r);return{a:[y,x,a,i,D(y[1],y[0]),Math.sqrt(_(y,$))/2,0]}}fe(Vt,st),ct(k,ct(k,Vt,kt),st);{const $=k[0],b=2*k[1],v=k[4],R=2*k[2],P=2*k[5],w=b*b-4*$*v,N=2*($*P*P+v*R*R-b*R*P+w*k[8]),Z=Math.sqrt(($-v)**2+b*b),q=-Math.sqrt(N*($+v+Z))/w,G=-Math.sqrt(N*($+v-Z))/w;return{a:[y,x,a,d,.5*D(-b,v-$),q,G/q]}}}function Rs(t,e,r){if(mt(r))return O(t,e),O(t,r),t;if(Nt(r))return Yr(t,e,r);if(St(r)){const s=Me(e,r);return Ft(t,s)}if(ge(r)){const s=vs(e,r);return Ft(t,s)}return Is(t,e,r)}function ye(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function xe(t){return t.points!==void 0}function $e(t){return t.x!==void 0&&t.y!==void 0}function de(t){return t.paths!==void 0}function be(t){return t.rings!==void 0}function ve(t){function e(r,s){return r==null?s:s==null?r:t(r,s)}return e}const V=ve(Math.min),Y=ve(Math.max);function En(t,e){return de(e)?Q(t,e.curvePaths??e.paths,!1,!1)??t:be(e)?Q(t,e.curveRings??e.rings,!1,!1)??t:xe(e)?qt(t,e.points,!1,!1,!1,!1):ye(e)?Pe(t,e):($e(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function jn(t){let e,r,s,n;for(t.reset(),e=s=1/0,r=n=-1/0;t.nextPath();){const a=ws(t);e=Math.min(a[0],e),s=Math.min(a[1],s),r=Math.max(a[2],r),n=Math.max(a[3],n)}return et([e,s,r,n])}function ws(t){let e,r,s,n;for(e=s=1/0,r=n=-1/0;t.nextPoint();)e=Math.min(t.x,e),s=Math.min(t.y,s),r=Math.max(t.x,r),n=Math.max(t.y,n);return et([e,s,r,n])}function Cn(t,e){return de(e)?Q(t,e.curvePaths??e.paths,!0,!1)??t:be(e)?Q(t,e.curveRings??e.rings,!0,!1)??t:xe(e)?qt(t,e.points,!0,!1,!0,!1):ye(e)?Pe(t,e,!0,!1,!0,!1):($e(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Q(t,e,r,s){const n=r?3:2;if(!e.length||!e[0].length)return null;let a,i,o,u,[c,h]=Mt(e[0][0]),l=c,f=h;for(let m=0;m<e.length;m++){const p=e[m];for(let M=0;M<p.length;M++){const g=Mt(p[M]),[y,x]=g;if(c=V(c,y),h=V(h,x),l=Y(l,y),f=Y(f,x),r&&g.length>2){const v=g[2];a=V(a,v),i=Y(i,v)}if(s&&g.length>n){const v=g[n];o=V(a,v),u=Y(i,v)}const d=p[M];if(mt(d)||M<1)continue;const $=Mt(p[M-1]),b=er(c,h,l,f);[c,h,l,f]=Rs(b,$,d)}}return r?s?(t[0]=c,t[1]=h,t[2]=a,t[3]=o,t[4]=l,t[5]=f,t[6]=i,t[7]=u,t.length=8,t):(t[0]=c,t[1]=h,t[2]=a,t[3]=l,t[4]=f,t[5]=i,t.length=6,t):s?(t[0]=c,t[1]=h,t[2]=o,t[3]=l,t[4]=f,t[5]=u,t.length=6,t):(t[0]=c,t[1]=h,t[2]=l,t[3]=f,t.length=4,t)}function Pe(t,e,r,s,n,a){const i=e.xmin,o=e.xmax,u=e.ymin,c=e.ymax;let h=e.zmin,l=e.zmax,f=e.mmin,m=e.mmax;return n?(h=h||0,l=l||0,a?(f=f||0,m=m||0,t[0]=i,t[1]=u,t[2]=h,t[3]=f,t[4]=o,t[5]=c,t[6]=l,t[7]=m,t):(t[0]=i,t[1]=u,t[2]=h,t[3]=o,t[4]=c,t[5]=l,t)):a?(f=f||0,m=m||0,t[0]=i,t[1]=u,t[2]=f,t[3]=o,t[4]=c,t[5]=m,t):(t[0]=i,t[1]=u,t[2]=o,t[3]=c,t)}function qt(t,e,r,s,n,a){const i=r?3:2,o=s&&a,u=r&&n;if(!e.length||!e[0].length)return null;let c,h,l,f,[m,p]=e[0],[M,g]=e[0];for(let y=0;y<e.length;y++){const x=e[y],[d,$]=x;if(m=V(m,d),p=V(p,$),M=Y(M,d),g=Y(g,$),u&&x.length>2){const b=x[2];c=V(c,b),h=Y(h,b)}if(o&&x.length>i){const b=x[i];l=V(c,b),f=Y(h,b)}}return n?(c=c||0,h=h||0,a?(l=l||0,f=f||0,t[0]=m,t[1]=p,t[2]=c,t[3]=l,t[4]=M,t[5]=g,t[6]=h,t[7]=f,t):(t[0]=m,t[1]=p,t[2]=c,t[3]=M,t[4]=g,t[5]=h,t)):a?(l=l||0,f=f||0,t[0]=m,t[1]=p,t[2]=l,t[3]=M,t[4]=g,t[5]=f,t):(t[0]=m,t[1]=p,t[2]=M,t[3]=g,t)}function Ns(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Ss(t){return t.points!==void 0}function _s(t){return t.x!==void 0&&t.y!==void 0}function qs(t){return t.paths!==void 0}function zs(t){return t.rings!==void 0}const zt=[];function Ie(t,e,r,s){return{xmin:t,ymin:e,xmax:r,ymax:s}}function Re(t,e,r,s,n,a){return{xmin:t,ymin:e,zmin:r,xmax:s,ymax:n,zmax:a}}function we(t,e,r,s,n,a){return{xmin:t,ymin:e,mmin:r,xmax:s,ymax:n,mmax:a}}function Ne(t,e,r,s,n,a,i,o){return{xmin:t,ymin:e,zmin:r,mmin:s,xmax:n,ymax:a,zmax:i,mmax:o}}function At(t,e=!1,r=!1){return e?r?Ne(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):Re(t[0],t[1],t[2],t[3],t[4],t[5]):r?we(t[0],t[1],t[2],t[3],t[4],t[5]):Ie(t[0],t[1],t[2],t[3])}function Fn(t){return t?Ns(t)?t:_s(t)?As(t):zs(t)?_e(t):qs(t)?qe(t):Ss(t)?Se(t):null:null}function Se(t){const{hasZ:e,hasM:r,points:s}=t,n=qt(zt,s,e??!1,r??!1,e??!1,r??!1);return n?At(n,e,r):null}function As(t){const{x:e,y:r,z:s,m:n}=t,a=n!=null;return s!=null?a?Ne(e,r,s,n,e,r,s,n):Re(e,r,s,e,r,s):a?we(e,r,n,e,r,n):Ie(e,r,e,r)}function _e(t){const{hasZ:e,hasM:r,rings:s,curveRings:n}=t,a=Q(zt,n??s,e??!1,r??!1);return a?At(a,e,r):null}function qe(t){const{hasZ:e,hasM:r,paths:s,curvePaths:n}=t,a=Q(zt,n??s,e??!1,r??!1);return a?At(a,e,r):null}function W(t,e,r=!1){let{hasM:s,hasZ:n}=t;Array.isArray(e)?e.length!==4||s||n?e.length===3&&r&&!s?(n=!0,s=!1):e.length===3&&s&&n&&(s=!1,n=!1):(s=!0,n=!0):(n=!n&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=s}var $t;function Os(t){if(!t)return;let{points:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],e?.at(0)?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=Pt.WGS84,{...t,hasM:r,hasZ:s,points:e,spatialReference:n}}let J=$t=class extends vt{constructor(t){super(Os(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=Se(this);return t?new ht({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=j(this.points)}clone(){const{points:t,spatialReference:e,hasM:r,hasZ:s}=this;return new $t({points:j(t),spatialReference:e.clone(),hasM:r,hasZ:s})}addPoint(t){return W(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=e[2],s=3),this.hasM&&(r.m=e[s]),new S(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new S(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(W(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};I([z({readOnly:!0})],J.prototype,"cache",null),I([z({readOnly:!0})],J.prototype,"extent",null),I([z({type:[[Number]],json:{write:{isRequired:!0}}})],J.prototype,"points",void 0),I([H("points")],J.prototype,"writePoints",null),J=$t=I([bt("esri.geometry.Multipoint")],J),J.prototype.toJSON.isDefaultToJSON=!0;function kn(t){const e=[];for(t.reset();t.nextPath();){const r=[];for(;t.nextPoint();)r.push([t.x,t.y]);e.push(r)}return t.reset(),e}function Zs(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function Vn(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,r=t.hasM;if(t.type==="point")return r&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:r?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(s=>[s]);if(t.type==="extent"){const s=t.clone().normalize();if(!s)return null;let n=!1,a=!1;return s.forEach(i=>{i.hasZ&&(n=!0),i.hasM&&(a=!0)}),s.map(i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(n&&i.hasZ){const u=.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(a&&i.hasM){const u=.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o})}return null}function pt(t,e){const r=e[0]-t[0],s=e[1]-t[1];if(t.length>2&&e.length>2){const n=t[2]-e[2];return Math.sqrt(r*r+s*s+n*n)}return Math.sqrt(r*r+s*s)}function ze(t,e,r){const s=t[0]+r*(e[0]-t[0]),n=t[1]+r*(e[1]-t[1]);return t.length>2&&e.length>2?[s,n,t[2]+r*(e[2]-t[2])]:[s,n]}function Yn(t,e,r,s){return Ts(t,e,r[s],r[s+1])}function Ts(t,e,r,s){const[n,a]=e,[i,o]=r,[u,c]=s,h=u-i,l=c-o,f=h*h+l*l,m=(n-i)*h+(a-o)*l,p=Math.min(1,Math.max(0,m/f));return t[0]=i+h*p,t[1]=o+l*p,t}function Gn(t,e,r,s,n,a){let i=r,o=s,u=n-i,c=a-o;if(u!==0||c!==0){const h=((t-i)*u+(e-o)*c)/(u*u+c*c);h>1?(i=n,o=a):h>0&&(i+=u*h,o+=c*h)}return u=t-i,c=e-o,u*u+c*c}function Ae(t,e){return ze(t,e,.5)}function Jn(t){const e=t.length;let r=0;for(let s=0;s<e-1;++s)r+=pt(t[s],t[s+1]);return r}function Dn(t,e){if(e<=0)return t[0];const r=t.length;let s=0;for(let n=0;n<r-1;++n){const a=pt(t[n],t[n+1]);if(e-s<a){const i=(e-s)/a;return ze(t[n],t[n+1],i)}s+=a}return t[r-1]}function Oe(t,e=0,r=1){let s=0;const n=t.length;let a=t[0];for(let i=1;i<n;i++){const o=t[i];s+=(o[e]-a[e])*(o[r]+a[r]),a=o}if(Ze(t)){const i=t[0];s+=(i[e]-a[e])*(i[r]+a[r])}return s>=0}function Ze(t){const e=t.length;return e>0&&!Gt(t[0],t[e-1])}function Ln(t){"rings"in t&&(Es(t),js(t))}function Es(t){if("rings"in t)for(const e of t.rings)Ze(e)&&e.push(e[0].slice())}function js(t){if(!("rings"in t)||t.rings.length===0||Oe(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Un(t){return t.type!=="polygon"&&t.type!=="polyline"||Cs(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Cs(t,e){const r=Ee(e);if(!r)return;const s=r.valid[0],n=r.valid[1],a=n-s;for(const i of t){let o=1/0,u=-1/0;for(const h of i){const l=Fs(h[0],s,n);o=Math.min(o,l),u=Math.max(u,l),h[0]=l}const c=u-o;a-c<c&&i.forEach(h=>{h[0]<0&&(h[0]+=a)})}}function Fs(t,e,r){const s=r-e;return t<e?r-(e-t)%s:t>r?e+(t-e)%s:t}function Bn(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[r,s]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return r.length===s.length&&r.every((n,a)=>n.length===s[a].length)}function Qn(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function ks(t){return Ys(t.rings,t.hasZ??!1)}function Vs(t){const e=ks(t);if(!e)return null;const{hasZ:r,spatialReference:s}=t,[n,a,i]=e;return isNaN(n)||isNaN(a)||r&&isNaN(i)?null:{x:n,y:a,z:r?i:void 0,spatialReference:s}}function Ys(t,e){if(!t?.length)return null;const r=[],s=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,i=t.length;a<i;a++){const o=Te(t[a],e,n);o&&s.push(o)}if(s.sort((a,i)=>{let o=a[2]-i[2];return o===0&&e&&(o=a[4]-i[4]),o}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const a=t[0]&&t[0].length?Gs(t[0],e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],e&&a.length>2&&(r[2]=a[2])}return r}function Te(t,e,r){let s=0,n=0,a=0,i=0,o=0;const u=t.length?t[0][0]:0,c=t.length?t[0][1]:0,h=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const m=t[f],p=t[(f+1)%t.length],[M,g,y]=m,x=M-u,d=g-c,[$,b,v]=p,R=$-u,P=b-c,w=x*P-R*d;if(i+=w,s+=(x+R)*w,n+=(d+P)*w,e&&m.length>2&&p.length>2){const N=y-h,Z=v-h,q=x*Z-R*N;a+=(N+Z)*q,o+=q}M<r[0]&&(r[0]=M),M>r[1]&&(r[1]=M),g<r[2]&&(r[2]=g),g>r[3]&&(r[3]=g),e&&(y<r[4]&&(r[4]=y),y>r[5]&&(r[5]=y))}if(i>0&&(i*=-1),o>0&&(o*=-1),!i)return null;i*=.5,o*=.5;const l=[s/(6*i)+u,n/(6*i)+c,i];return e&&(r[4]===r[5]||o===0?(l[3]=(r[4]+r[5])/2,l[4]=0):(l[3]=a/(6*o)+h,l[4]=o)),l}function Wn(t,e){let r=0,s=0,n=0;t.nextPoint();const a=t.pathSize?t.x:0,i=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const u=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const c=[t.x,t.y],[h,l]=u,f=h-a,m=l-i,[p,M]=c,g=p-a,y=M-i,x=f*y-g*m;n+=x,r+=(f+g)*x,s+=(m+y)*x,h<e[0]&&(e[0]=h),h>e[1]&&(e[1]=h),l<e[2]&&(e[2]=l),l>e[3]&&(e[3]=l)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+a,s/(6*n)+i,n]):null}function Gs(t,e){const r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let n=0,a=0,i=0,o=0;for(let u=0,c=t.length;u<c-1;u++){const h=t[u],l=t[u+1];if(h&&l){r[0]=h[0],r[1]=h[1],s[0]=l[0],s[1]=l[1],e&&h.length>2&&l.length>2&&(r[2]=h[2],s[2]=l[2]);const f=pt(r,s);if(f){n+=f;const m=Ae(h,l);a+=f*m[0],i+=f*m[1],e&&m.length>2&&(o+=f*m[2])}}}return n>0?e?[a/n,i/n,o/n]:[a/n,i/n]:t.length?t[0]:null}function Js(t){const{hasZ:e,totalSize:r}=t;if(r===0)return null;const s=[],n=[],a=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const i=Te(Zs(t),t.hasZ,a);i&&n.push(i)}if(n.sort((i,o)=>{let u=i[2]-o[2];return u===0&&e&&(u=i[4]-o[4]),u}),n.length&&(s[0]=n[0][0],s[1]=n[0][1],e&&(s[2]=n[0][3]),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||e&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)),!s.length){t.reset(),t.nextPath();const i=t.pathSize?Ds(t):null;if(!i)return null;s[0]=i[0],s[1]=i[1],e&&i.length>2&&(s[2]=i[2])}return s}function Ds(t){const{hasZ:e}=t,r=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let n=0,a=0,i=0,o=0;if(t.nextPoint()){let u=t.x,c=t.y,h=t.z;for(;t.nextPoint();){const l=t.x,f=t.y,m=t.z;r[0]=u,r[1]=c,s[0]=l,s[1]=f,e&&(r[2]=h,s[2]=m);const p=pt(r,s);if(p){n+=p;const M=Ae(r,s);a+=p*M[0],i+=p*M[1],e&&M.length>2&&(o+=p*M[2])}u=l,c=f,h=m}}return n>0?e?[a/n,i/n,o/n]:[a/n,i/n]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const Ls=1e-6;function Xn(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<Ls){const n=Js(t);return n?[n[0],n[1]]:null}const r=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const s=[t.x,t.y];for(t.reset();t.nextPath();)Bs(r,s,t);return r[0]*=1/e,r[1]*=1/e,r[0]+=s[0],r[1]+=s[1],r}const Us=1/3;function Bs(t,e,r){if(!t||!r||r.pathSize<3)return null;r.nextPoint();const s=r.x,n=r.y;r.nextPoint();let a,i=r.x-s,o=r.y-n,u=0,c=0;for(;r.nextPoint();)u=r.x-s,c=r.y-n,a=.5*Us*(u*o-c*i),t[0]+=a*(i+u),t[1]+=a*(o+c),i=u,o=c;const h=r.getCurrentRingArea(),l=[s,n];return l[0]-=e[0],l[1]-=e[1],l[0]*=h,l[1]*=h,t[0]+=l[0],t[1]+=l[1],t}var ot;function Yt(t){return!Array.isArray(t[0])}function Qs(t){return typeof t[0]?.[0]=="number"}function Ws(t){if(!t)return;let{rings:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],Qs(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=Pt.WGS84,{...t,hasM:r,hasZ:s,rings:e,spatialReference:n}}let T=ot=class extends vt{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:r}=t;let s=!1,n=!1;for(const i of e)i.hasZ&&(s=!0),i.hasM&&(n=!0);const a={rings:e.map(i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(s&&i.hasZ){const u=i.zmin+.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(n&&i.hasM){const u=i.mmin+.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o}),spatialReference:r};return s&&(a.hasZ=!0),n&&(a.hasM=!0),new ot(a)}constructor(t){super(Ws(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){Ot(Zt.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=Vs(this);return t?S.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=j(t)}get extent(){const t=_e(this),{spatialReference:e}=this;return t?new ht({...t,spatialReference:e}):null}get isSelfIntersecting(){return Ot(Zt.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),je(this.rings)}writeRings(t,e){e.rings=j(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(Yt(t)){const s=[];for(let n=0,a=t.length;n<a;n++)s[n]=t[n].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new ot;return t.spatialReference=this.spatialReference,t.rings=j(this.rings),t.curveRings=j(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,r=t.spatialReference;if(e!=null!=(r!=null)||e!=null&&r!=null&&!e.equals(r)||this.rings.length!==t.rings.length)return!1;const s=([n,a,i,o],[u,c,h,l])=>n===u&&a===c&&(i==null&&h==null||i===h)&&(o==null&&l==null||o===l);for(let n=0;n<this.rings.length;n++){const a=this.rings[n],i=t.rings[n];if(!Gt(a,i,s))return!1}return!0}contains(t){if(!t)return!1;const e=Ce(t,this.spatialReference);return Fe(this,e??t)}isClockwise(t){const e=Yt(t)?t.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):t;return Oe(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new S(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new S(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new S(r[0],r[1],r[2],r[3],this.spatialReference):new S(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(W(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new S(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map(n=>new S(n,r));return this.notifyChange("rings"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(W(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([z({readOnly:!0})],T.prototype,"cache",null),I([z({readOnly:!0})],T.prototype,"centroid",null),I([z({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],T.prototype,"curveRings",void 0),I([H("curveRings")],T.prototype,"writeCurveRings",null),I([z({readOnly:!0})],T.prototype,"extent",null),I([z({readOnly:!0})],T.prototype,"isSelfIntersecting",null),I([z({type:[[[Number]]],json:{write:{isRequired:!0}}})],T.prototype,"rings",void 0),I([H("rings")],T.prototype,"writeRings",null),T=ot=I([bt("esri.geometry.Polygon")],T),T.prototype.toJSON.isDefaultToJSON=!0;var dt;function Xs(t){return!Array.isArray(t[0])}function Hs(t){return typeof t[0]?.[0]=="number"}function Ks(t){if(!t)return;let{paths:e,hasM:r,hasZ:s,spatialReference:n}=t;switch(e??=[],Hs(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,r??=!0;break;case 3:s??=r!==!0,r??=!s;break;default:s??=!1,r??=!1}return n??=Pt.WGS84,{...t,hasM:r,hasZ:s,paths:e,spatialReference:n}}let C=dt=class extends vt{constructor(t){super(Ks(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=j(t)}get extent(){const t=qe(this),{spatialReference:e}=this;return t?new ht({...t,spatialReference:e}):null}writePaths(t,e){e.paths=j(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(Xs(t)){const s=[];for(let n=0,a=t.length;n<a;n++)s[n]=t[n].toArray();e[r]=s}else e[r]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new dt;return t.spatialReference=this.spatialReference,t.paths=j(this.paths),t.curvePaths=j(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new S(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new S(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new S(r[0],r[1],r[2],r[3],this.spatialReference):new S(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(W(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,s=e.map(n=>new S(n,r));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new S(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(W(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(r&&(e<0||e>s.length)||!r&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};I([z({readOnly:!0})],C.prototype,"cache",null),I([z({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],C.prototype,"curvePaths",void 0),I([H("curvePaths")],C.prototype,"writeCurvePaths",null),I([z({readOnly:!0})],C.prototype,"extent",null),I([z({type:[[[Number]]],json:{write:{isRequired:!0}}})],C.prototype,"paths",void 0),I([H("paths")],C.prototype,"writePaths",null),C=dt=I([bt("esri.geometry.Polyline")],C),C.prototype.toJSON.isDefaultToJSON=!0;export{Ts as $,xt as A,$n as B,_ as C,_t as D,B as E,ee as F,$r as G,Vn as H,Q as I,hn as J,yn as K,Nn as L,Tn as M,Be as N,wr as O,T as P,Fn as Q,Vs as R,Gn as S,ns as T,Jr as U,on as V,kn as W,jn as X,ws as Y,Wn as Z,De as _,L as a,ae as a$,nn as a0,Oe as a1,Rr as a2,wt as a3,ys as a4,Je as a5,Ye as a6,rs as a7,Wr as a8,an as a9,wn as aA,Vr as aB,qn as aC,ds as aD,Ln as aE,D as aF,_e as aG,ks as aH,Qn as aI,Mn as aJ,Ys as aK,Ht as aL,ne as aM,xr as aN,ie as aO,pr as aP,dr as aQ,me as aR,yr as aS,Hr as aT,Dn as aU,Jn as aV,ar as aW,Pr as aX,Ar as aY,or as aZ,mr as a_,xn as aa,Tt as ab,ir as ac,fe as ad,ct as ae,Ur as af,X as ag,sn as ah,te as ai,gt as aj,Kt as ak,Lr as al,Br as am,Qr as an,He as ao,Cs as ap,Un as aq,ps as ar,Xr as as,mn as at,cn as au,at as av,Ae as aw,dn as ax,An as ay,zn as az,Ue as b,Sr as b0,Ke as b1,_r as b2,qr as b3,nt as b4,Bn as b5,hr as b6,lr as b7,Fs as b8,Zs as b9,Js as ba,Xn as bb,O as bc,ln as bd,Kr as be,Tr as bf,gn as bg,Mr as bh,Ut as bi,pn as bj,xs as bk,ss as bl,Lt as bm,Yn as bn,Gr as bo,bn as bp,In as bq,On as br,vn as bs,Rn as bt,Zn as bu,bs as bv,un as bw,vr as bx,fn as by,er as c,Es as d,lt as e,En as f,Sn as g,_n as h,et as i,Mt as j,mt as k,Nt as l,J as m,It as n,Xt as o,St as p,ge as q,tt as r,Le as s,Ve as t,Ge as u,Cn as v,Me as w,vs as x,C as y,F as z};
