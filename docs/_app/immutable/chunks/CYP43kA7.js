import{l as V,G as v,r,m as o,o as N,a as c,n as k,C as $,dQ as A,c_ as H,w as _,cu as T,Y as J,a0 as K,bQ as R,cT as B}from"./-Rap9rN9.js";import{o as a}from"./aQeO9QTD.js";import{r as w}from"./Dw1G2G-_.js";import{l as b}from"./BlYv-CXL.js";const P=new v({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Q=0,d=class extends V{constructor(t){super(t),this.id="sym"+Q++,this.type=null,this.color=new b([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,s){}hash(){return JSON.stringify(this.toJSON())}clone(){}};r([o({type:P.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:P.write,isRequired:!0}}})],d.prototype,"type",void 0),r([o({type:b,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0),r([N("color")],d.prototype,"readColor",null),d=r([c("esri.symbols.Symbol")],d);const ie=["begin","end","begin-end"],W=["arrow","circle","square","diamond","cross","x"];let f=class extends d{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};r([w({esriSLS:"simple-line"},{readOnly:!0})],f.prototype,"type",void 0),r([o({type:Number,cast:a,json:{write:!0}})],f.prototype,"width",void 0),f=r([c("esri.symbols.LineSymbol")],f);var x;let h=x=class extends V{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,s,i){t[s]=i?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,s,i){i?.origin==="web-map"||(t[s]=e)}clone(){return new x({color:$(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};r([o({type:["begin","end","begin-end"],json:{write:!0}})],h.prototype,"placement",void 0),r([w({"line-marker":"line-marker"},{readOnly:!0}),o({json:{origins:{"web-map":{write:!1}}}})],h.prototype,"type",void 0),r([o({type:W})],h.prototype,"style",void 0),r([k("style")],h.prototype,"writeStyle",null),r([o({type:b,value:null,json:{write:{allowNull:!0}}})],h.prototype,"color",null),r([N("color")],h.prototype,"readColor",null),r([k("color")],h.prototype,"writeColor",null),h=x=r([c("esri.symbols.LineSymbolMarker")],h);const G=h;var M;const D=new v({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let n=M=class extends f{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,s,i,l,O){if(e&&typeof e!="string")return e;const m={};return e!=null&&(m.style=e),t!=null&&(m.color=t),s!=null&&(m.width=a(s)),i!=null&&(m.cap=i),l!=null&&(m.join=l),O!=null&&(m.miterLimit=a(O)),m}clone(){return new M({color:$(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};r([w({esriSLS:"simple-line"},{readOnly:!0})],n.prototype,"type",void 0),r([o({type:D.apiValues,json:{read:D.read,write:D.write}})],n.prototype,"style",void 0),r([o({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,s)=>({enabled:e!=="round"&&s?.origin==null})}}})],n.prototype,"cap",void 0),r([o({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,s)=>({enabled:e!=="round"&&s?.origin==null})}}})],n.prototype,"join",void 0),r([o({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":G}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],n.prototype,"marker",void 0),r([o({type:Number,json:{read:!1,write:!1}})],n.prototype,"miterLimit",void 0),n=M=r([c("esri.symbols.SimpleLineSymbol")],n);let g=class extends d{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};r([o({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],g.prototype,"outline",void 0),r([o({type:["simple-fill","picture-fill"],readOnly:!0})],g.prototype,"type",void 0),g=r([c("esri.symbols.FillSymbol")],g);function I(e,t,s){return t.imageData?A({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):q(t.url,s)}function q(e,t){if(!J(e)){const s=E(t);if(s)return K(s,"images",e)}return R(e,t)}function U(e,t,s,i){if(H(e)){const l=_(e);if(!l)return;t.contentType=l.mediaType,t.imageData=l.data,s&&s.imageData===t.imageData&&s.url&&T(s.url,t,"url",i)}else T(e,t,"url",i)}const X={json:{read:{source:["imageData","url"],reader:I},write:{writer(e,t,s,i){U(e,t,this.source,i)}}}},Y={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,s){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=q(t.url,s)),i}}}};function E(e){if(!e)return null;const{origin:t,layer:s}=e;if(t!=="service"&&t!=="portal-item")return null;const i=s?.type;return i==="feature"||i==="stream"?s.parsedUrl?.path:i==="map-image"||i==="tile"?e.url?.path:null}let y=class extends d{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};r([o({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],y.prototype,"angle",void 0),r([o({type:["simple-marker","picture-marker"],readOnly:!0})],y.prototype,"type",void 0),r([o({type:Number,cast:a,json:{write:!0}})],y.prototype,"xoffset",void 0),r([o({type:Number,cast:a,json:{write:!0}})],y.prototype,"yoffset",void 0),r([o({cast:e=>e==="auto"?e:B(a(e)),json:{write:!0}})],y.prototype,"size",void 0),y=r([c("esri.symbols.MarkerSymbol")],y);var z;let p=z=class extends y{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=a(t)),s!=null&&(i.height=a(s)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new z({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",$(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};r([o({json:{write:!1}})],p.prototype,"color",void 0),r([w({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),r([o(X)],p.prototype,"url",void 0),r([o(Y)],p.prototype,"source",void 0),r([o({type:Number,cast:a,json:{write:!0}})],p.prototype,"height",void 0),r([N("height",["height","size"])],p.prototype,"readHeight",null),r([o({type:Number,cast:a,json:{write:!0}})],p.prototype,"width",void 0),r([o({json:{write:!1}})],p.prototype,"size",void 0),p=z=r([c("esri.symbols.PictureMarkerSymbol")],p);var C;const j=new v({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let S=C=class extends g{constructor(...e){super(...e),this.color=new b([0,0,0,.25]),this.outline=new n,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,s){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),s&&(i.color=s),i}clone(){return new C({color:$(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};r([o()],S.prototype,"color",void 0),r([o()],S.prototype,"outline",void 0),r([w({esriSFS:"simple-fill"},{readOnly:!0})],S.prototype,"type",void 0),r([o({type:j.apiValues,json:{read:j.read,write:j.write}})],S.prototype,"style",void 0),S=C=r([c("esri.symbols.SimpleFillSymbol")],S);var F;const L=new v({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let u=F=class extends y{constructor(...e){super(...e),this.color=new b([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new n}normalizeCtorArgs(e,t,s,i){if(e&&typeof e!="string")return e;const l={};return e&&(l.style=e),t!=null&&(l.size=a(t)),s&&(l.outline=s),i&&(l.color=i),l}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new F({angle:this.angle,color:$(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};r([o()],u.prototype,"color",void 0),r([k("color")],u.prototype,"writeColor",null),r([w({esriSMS:"simple-marker"},{readOnly:!0})],u.prototype,"type",void 0),r([o()],u.prototype,"size",void 0),r([o({type:L.apiValues,json:{read:L.read,write:L.write}})],u.prototype,"style",void 0),r([o({type:String,json:{write:!0}})],u.prototype,"path",null),r([o({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":n}},json:{default:null,write:!0}})],u.prototype,"outline",void 0),u=F=r([c("esri.symbols.SimpleMarkerSymbol")],u);export{S as a,p as b,d as c,X as d,ie as e,Y as f,g as l,n as m,W as n,u};
