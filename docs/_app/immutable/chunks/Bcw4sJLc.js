import{c as p,r as l,a as c}from"./DvUDi2Se.js";import{V as f}from"./InWWYu7p.js";import{l as m}from"./Bx7Drccn.js";import"./BYatcg2i.js";import"./CnfuZz2S.js";import{P as n}from"./BDErjlP0.js";import{L as u,s as S}from"./elf00Mmu.js";var o;let i=o=class extends m.JSONSupportMixin(f.ofType(n)){constructor(e){super(e)}clone(){return new o(this.items.map((e=>e.clone())))}write(e,r){return this.toJSON(r)}toJSON(e){const r=e?.layer?.spatialReference;return r?this.toArray().map((t=>{if(!r.equals(t.spatialReference)){if(!u(t.spatialReference,r))return e?.messages?.push(new p("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const a=new n;S(t,a,r),t=a}const s=t.toJSON(e);return delete s.spatialReference,s})).filter((t=>t!=null)):this.toArray().map((t=>t.toJSON(e)))}static fromJSON(e,r){const t=new o;return e.forEach((s=>t.add(n.fromJSON(s,r)))),t}};i=o=l([c("esri.layers.support.PolygonCollection")],i);const R=i;export{R as l};
