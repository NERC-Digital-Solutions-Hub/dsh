import{l as a,U as w,n as P,o as d,a as j,b as U,c as m,t as h,w as L}from"./gvnm7ut2.js";import"./BFGjv385.js";import"./DSdBzmdi.js";function v(n,t,u={}){return f(n,t,u,y)}function g(n,t,u={}){return f(n,t,u,$)}function f(n,t,u={},r){let o=null;const i=u.once?(e,c)=>{r(e)&&(a(o),t(e,c))}:(e,c)=>{r(e)&&t(e,c)};if(o=w(n,i,u.sync,u.equals),u.initial){const e=n();i(e,e)}return o}function k(n,t,u,r={}){let o=null,i=null,e=null;function c(){o&&i&&(i.remove(),r.onListenerRemove?.(o),o=null,i=null)}function s(l){r.once&&r.once&&a(e),u(l)}const p=v(n,(l,q)=>{c(),P(l)&&(o=l,i=d(l,t,s),r.onListenerAdd?.(l))},{sync:r.sync,initial:!0});return e=j(()=>{p.remove(),c()}),e}function z(n,t){return b(n,$,t)}function b(n,t,u){if(U(u))return Promise.reject(m());const r=n();if(t?.(r))return Promise.resolve(r);let o=null;function i(){o=a(o)}return new Promise((e,c)=>{o=h([L(u,()=>{i(),c(m())}),f(n,s=>{i(),e(s)},{sync:!1,once:!0},t??y)])})}function y(n){return!0}function $(n){return!!n}function B(n,t,u={}){let r=!1;const o=v(n,(i,e)=>{r||t(i,e)},u);return{remove(){o.remove()},pause(){r=!0},resume(){r=!1}}}const C={sync:!0},D={initial:!0},E={sync:!0,initial:!0};export{B as P,C as U,k as a,g as f,D as h,z as j,v as l,E as w};
