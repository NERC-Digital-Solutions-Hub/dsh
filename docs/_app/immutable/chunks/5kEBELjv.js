const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BvIqEAWZ.js","./DCkdB7M8.js","./Chf7XshU.js","./D4R7oZu3.js","./iFuBOtDF.js","./DHq0rblm.js","./BfhsIlKo.js","./D9Z9MdNV.js","./BgvLO-3W.js","./DUjReREf.js","./D6KPPgz5.js"])))=>i.map(i=>d[i]);
import{_ as dn}from"./D9Z9MdNV.js";import{s as Jn}from"./BfhsIlKo.js";import{D as Nn,C as Qn,t as yn}from"./iFuBOtDF.js";import{s as Xn}from"./Dt5YSiFI.js";import{n as Hn,P as Yn,y as nt,m as tt}from"./DUjReREf.js";import{aO as q,aP as an,t as h,s as x,Z as et,aQ as Sn,M as Cn,O as En,az as at,D as st,aR as it,F as lt,J as rt,am as ut,an as ot,aS as G,V as Ln,aT as ft,ae as ct,N as L,R as _t,a0 as Rt,f as Rn,_ as St,z as Ct,$ as Et,al as Gn}from"./D4R7oZu3.js";import{r as Pt,M as pt,s as ht,l as At}from"./D6KPPgz5.js";const fe=Math.PI/180,ce=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,N=h.radius,P=h.eccentricitySquared,Mt={a1:N*P,a2:N*P*N*P,a3:N*P*P/2,a4:N*P*N*P*2.5,a5:N*P+N*P*P/2,a6:1-P},_e={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:h.radius,f:h.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:an.radius,f:an.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:q.radius,f:q.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:q.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var s;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(s||(s={}));const Ot={[s.WGS84]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.CGCS2000]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:_,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:Wn,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:In,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:Z,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:Z,[s.SPHERICAL_ECEF]:Nt,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:_,[s.PLATE_CARREE]:mt,[s.WGS84]:Z,[s.WGS84_ECEF]:Lt},[s.WGS84_ECEF]:{[s.CGCS2000]:j,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:j,[s.SPHERICAL_ECEF]:Ht,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:kt,[s.PLATE_CARREE]:It,[s.WGS84]:j,[s.WGS84_ECEF]:_},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:H,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:H,[s.SPHERICAL_ECEF]:_,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:wt,[s.PLATE_CARREE]:Wt,[s.WGS84]:H,[s.WGS84_ECEF]:Tt},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:$n,[s.GCSMOON2000]:null,[s.LON_LAT]:$n,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:_,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:gn,[s.LON_LAT]:gn,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:_,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:_,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:_,[s.GCSMARS2000]:_,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:b,[s.SPHERICAL_MARS_PCPF]:Wn,[s.SPHERICAL_MOON_PCPF]:In,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:w,[s.PLATE_CARREE]:T,[s.WGS84]:_,[s.WGS84_ECEF]:k},[s.PLATE_CARREE]:{[s.CGCS2000]:y,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:y,[s.SPHERICAL_ECEF]:gt,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:$t,[s.PLATE_CARREE]:_,[s.WGS84]:y,[s.WGS84_ECEF]:Ft}};function kn(t,e){return dt(t,e)?.projector}function dt(t,e){if(t==null||e==null)return null;if(O.source.spatialReference===t&&O.dest.spatialReference===e)return O;const n=mn(t,O.source),a=mn(e,O.dest);return n===s.UNKNOWN&&a===s.UNKNOWN?x(t,e)?O.projector=_:O.projector=null:O.projector=Ot[n][a],O}function mn(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=et(t,1)),Sn(t)?e.spatialReferenceId=s.SPHERICAL_ECEF:Cn(t)?e.spatialReferenceId=s.WGS84:En(t)?e.spatialReferenceId=s.WEB_MERCATOR:at(t)?e.spatialReferenceId=s.PLATE_CARREE:t.wkt===st.wkt?e.spatialReferenceId=s.WGS84_ECEF:t.wkid===it.CGCS2000?e.spatialReferenceId=s.CGCS2000:t.wkt===lt.wkt?e.spatialReferenceId=s.SPHERICAL_MARS_PCPF:t.wkt===rt.wkt?e.spatialReferenceId=s.SPHERICAL_MOON_PCPF:ut(t)?e.spatialReferenceId=s.GCSMARS2000:ot(t)?e.spatialReferenceId=s.GCSMOON2000:e.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function _(t,e,n,a){t!==n&&(n[a++]=t[e++],n[a++]=t[e++],n[a]=t[e])}function Z(t,e,n,a){n[a]=K*(t[e]/I),n[a+1]=K*(jn-2*Math.atan(Math.exp(-t[e+1]/I))),n[a+2]=t[e+2]}function Nt(t,e,n,a){const i=t[e]/I,l=jn-2*Math.atan(Math.exp(-t[e+1]/I)),u=I+t[e+2],r=Math.cos(l)*u;n[a]=Math.cos(i)*r,n[a+1]=Math.sin(i)*r,n[a+2]=Math.sin(l)*u}function Lt(t,e,n,a){Z(t,e,n,a),k(n,a,n,a)}function Gt(t,e,n,a,i){const l=.4999999*Math.PI,u=Pt(U*t[e+1],-l,l),r=Math.sin(u);n[a++]=U*t[e]*i.radius,n[a++]=i.halfSemiMajorAxis*Math.log((1+r)/(1-r)),n[a]=t[e+2]}function w(t,e,n,a){Gt(t,e,n,a,h)}function T(t,e,n,a){n[a]=t[e]*Fn,n[a+1]=t[e+1]*Fn,n[a+2]=t[e+2]}function y(t,e,n,a){n[a]=t[e]*wn,n[a+1]=t[e+1]*wn,n[a+2]=t[e+2]}function mt(t,e,n,a){Z(t,e,n,a),T(n,a,n,a)}function It(t,e,n,a){j(t,e,n,a),T(n,a,n,a)}function Wt(t,e,n,a){H(t,e,n,a),T(n,a,n,a)}function gt(t,e,n,a){y(t,e,n,a),b(n,a,n,a)}function $t(t,e,n,a){y(t,e,n,a),w(n,a,n,a)}function Ft(t,e,n,a){y(t,e,n,a),k(n,a,n,a)}function pn(t,e,n,a,i){const l=i+t[e+2],u=U*t[e+1],r=U*t[e],o=Math.cos(u)*l;n[a]=Math.cos(r)*o,n[a+1]=Math.sin(r)*o,n[a+2]=Math.sin(u)*l}function In(t,e,n,a){pn(t,e,n,a,an.radius)}function Wn(t,e,n,a){pn(t,e,n,a,q.radius)}function b(t,e,n,a){pn(t,e,n,a,h.radius)}function hn(t,e,n,a,i){const l=t[e],u=t[e+1],r=t[e+2],o=Math.sqrt(l*l+u*u+r*r),c=At(r/(o===0?1:o)),f=Math.atan2(u,l);n[a++]=K*f,n[a++]=K*c,n[a]=o-i}function gn(t,e,n,a){hn(t,e,n,a,an.radius)}function $n(t,e,n,a){hn(t,e,n,a,q.radius)}function H(t,e,n,a){hn(t,e,n,a,h.radius)}function wt(t,e,n,a){H(t,e,n,a),w(n,a,n,a)}function Tt(t,e,n,a){H(t,e,n,a),k(n,a,n,a)}function yt(t,e,n,a,i){const l=U*t[e],u=U*t[e+1],r=t[e+2],o=Math.sin(u),c=Math.cos(u),f=i.radius/Math.sqrt(1-i.eccentricitySquared*o*o);n[a++]=(f+r)*c*Math.cos(l),n[a++]=(f+r)*c*Math.sin(l),n[a++]=(f*(1-i.eccentricitySquared)+r)*o}function k(t,e,n,a){yt(t,e,n,a,h)}function j(t,e,n,a){const i=Mt,l=t[e],u=t[e+1],r=t[e+2];let o,c,f,S,R,A,M,E,d,z,rn,un,on,g,$,fn,cn,_n,F,Mn,On;o=Math.abs(r),c=l*l+u*u,f=Math.sqrt(c),S=c+r*r,R=Math.sqrt(S),Mn=Math.atan2(u,l),A=r*r/S,M=c/S,g=i.a2/R,$=i.a3-i.a4/R,M>.3?(E=o/R*(1+M*(i.a1+g+A*$)/R),F=Math.asin(E),z=E*E,d=Math.sqrt(1-z)):(d=f/R*(1-A*(i.a5-g-M*$)/R),F=Math.acos(d),z=1-d*d,E=Math.sqrt(z)),rn=1-h.eccentricitySquared*z,un=h.radius/Math.sqrt(rn),on=i.a6*un,g=f-un*d,$=o-on*E,cn=d*g+E*$,fn=d*$-E*g,_n=fn/(on/rn+cn),F+=_n,On=cn+fn*_n/2,r<0&&(F=-F),n[a++]=K*Mn,n[a++]=K*F,n[a]=On}function Ht(t,e,n,a){j(t,e,n,a),b(n,a,n,a)}function kt(t,e,n,a){j(t,e,n,a),w(n,a,n,a)}const O={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:_},U=ht(1),K=pt(1),jn=.5*Math.PI,I=h.radius,Fn=I*Math.PI/180,wn=180/(I*Math.PI);function Q(t,e,n,a,i,l,u=Math.floor(t.length/3)){const r=kn(e,i);if(r==null)return!1;if(r===_){if(t===a&&n===l)return!0;const c=n+3*u;for(let f=n,S=l;f<c;f++,S++)a[S]=t[f];return!0}const o=n+3*u;for(let c=n,f=l;c<o;c+=3,f+=3)r(t,c,a,f);return!0}const Re=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Q},Symbol.toStringTag,{value:"Module"}));function Tn(t,e,n,a,i,l){return Y[0]=t,Y[1]=e,Y[2]=n,Q(Y,a,0,i,l,0)}const Y=Hn();let nn=0;class v{static fromGE(e){const n=new v;return n._wkt=e.wkt,n._wkid=e.wkid,n._isInverse=e.isInverse,n}constructor(e){this.uid=nn++,e?(this._wkt=e.wkt!=null?e.wkt:null,this._wkid=e.wkid!=null?e.wkid:-1,this._isInverse=e.isInverse!=null&&e.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=nn++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=nn++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=nn++}getInverse(){const e=new v;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let sn=class B{static cacheKey(e,n){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(e){const n=new B;let a="";for(const i of e.steps){const l=v.fromGE(i);n.steps.push(l),a+=l.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=a,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const n of e.steps)n instanceof v?this.steps.push(n):this.steps.push(new v({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const e=new B;e.steps=[];for(let n=this.steps.length-1;n>=0;n--){const a=this.steps[n];e.steps.push(a.getInverse())}return e}getGTListEntry(){let e="";for(const n of this.steps)e+=n.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,n,a){this._cachedProjection[B.cacheKey(e,n)]=a}getCachedGeTransformation(e,n){let a="";for(const l of this.steps)a+=l.uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=a);const i=this._cachedProjection[B.cacheKey(e,n)];return i===void 0?null:i}};function jt(t,e,n){if(e==null||n==null||n.vcsWkid||x(e,n)||G(e)||G(n))return null;const a=Ln(e)/Ln(n);if(a===1)return null;switch(t){case"point":case"esriGeometryPoint":return i=>vt(i,a);case"polyline":case"esriGeometryPolyline":return i=>Ut(i,a);case"polygon":case"esriGeometryPolygon":return i=>xt(i,a);case"multipoint":case"esriGeometryMultipoint":return i=>Kt(i,a);case"extent":case"esriGeometryEnvelope":return i=>zt(i,a);default:return null}}function vt(t,e){t?.z!=null&&(t.z*=e)}function xt(t,e){if(t)for(const n of t.rings)for(const a of n)a.length>2&&(a[2]*=e)}function Ut(t,e){if(t)for(const n of t.paths)for(const a of n)a.length>2&&(a[2]*=e)}function Kt(t,e){if(t)for(const n of t.points)n.length>2&&(n[2]*=e)}function zt(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let p=null,m=null,D=null,tn={};const An=new Xn;function X(){return!!p&&Et()}function vn(){return!!X()||(yn(An),V(),!1)}function Bt(t,e){return!t||!e||W(t,e)||vn()}function qt(t,e){return!W(t,e)&&!X()}function V(t){return D==null&&(D=Promise.all([_t(),dn(()=>import("./BvIqEAWZ.js"),__vite__mapDeps([0,1]),import.meta.url).then((e=>e.g)),dn(()=>import("./Chf7XshU.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10]),import.meta.url)])),D.then((([,e,{hydratedAdapter:n}])=>{Qn(t),m=n,p=e.default,p._enableProjection(Rt),An.notify()}))}function xn(t,e,n=null,a=null){return Array.isArray(t)?t.length===0?[]:(ft(t),Pn(m,t,t[0].spatialReference,e,n,a)):(ct(t),Pn(m,[t],t.spatialReference,e,n,a)[0])}function Pn(t,e,n,a,i=null,l=null){if(n==null||a==null)return e;if(W(n,a,i))return e.map((u=>en(u,n,a)));if(i==null&&Sn(n))return e.map((u=>en(u,n,Rn.WGS84))).map((u=>J(u,a)));if(i==null&&Sn(a))return e.map((u=>J(u,Rn.WGS84))).map((u=>en(u,Rn.WGS84,a)));if(i==null){const u=sn.cacheKey(n,a);tn[u]!==void 0?i=tn[u]:((i=Kn(n,a,void 0))==null&&(i=new sn),tn[u]=i)}if(p==null||t==null)throw new ln;return l!=null?p._project(t,e,n,a,i,l):p._project(t,e,n,a,i)}function Zt(t,e){const n=Un([t],e);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function Un(t,e){if(!X()){for(const n of t)if(n!=null&&!x(n.spatialReference,e)&&L(n.spatialReference)&&L(e)&&!W(n.spatialReference,e))return yn(An),{pending:V(),geometries:null}}return{pending:null,geometries:t.map((n=>n==null?null:x(n.spatialReference,e)?n:L(n.spatialReference)&&L(e)?J(n,e):null))}}function Kn(t,e,n=null){if(t==null||e==null)return null;if(p==null||m==null)throw new ln;const a=p._getTransformation(m,t,e,n,n?.spatialReference);return a!==null?sn.fromGE(a):null}function bt(t,e,n=null){if(p==null||m==null)throw new ln;const a=p._getTransformationBySuitability(m,t,e,n,n?.spatialReference);if(a!==null){const i=[];for(const l of a)i.push(sn.fromGE(l));return i}return[]}class ln extends Jn{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Dt(){p=null,m=null,D=null,tn={}}const Vt={get loadPromise(){return D}};function J(t,e){try{const n=xn(t,e);if(n==null)return null;"xmin"in t&&"xmin"in n&&(n.zmin=t.zmin,n.zmax=t.zmax);const a=jt(n.type,t.spatialReference,e);return a?.(n),n}catch(n){if(!(n instanceof ln))throw n;return null}}async function Jt(t,e,n){const a=t.spatialReference;return a!=null&&e!=null&&await zn(a,e,null,n),J(t,e)}function W(t,e,n){return!n&&(!!x(t,e)||L(t)&&L(e)&&!!kn(t,e))}function Qt(t,e){if(x(t,e))return!0;if(!L(t)||!L(e))return!1;const n=Cn(t)||En(t)||Gn(t),a=Cn(e)||En(e)||Gn(e);return n&&a}async function zn(t,e,n,a){if(X())return Nn(a);if(Array.isArray(t)){for(const{source:i,dest:l,geographicTransformation:u}of t)if(i&&l&&!W(i,l,u))return V(a)}else if(t&&e&&!W(t,e,n))return V(a);return Nn(a)}function en(t,e,n){return t?"x"in t?Bn(t,e,new St,n,0):"xmin"in t?Dn(t,e,new Ct,n,0):"rings"in t?bn(t,e,new Yn,n,0):"paths"in t?Zn(t,e,new nt,n,0):"points"in t?qn(t,e,new tt,n,0):null:null}function Xt(t,e,n=e.spatialReference,a=0){return n!=null&&t.spatialReference!=null&&Bn(t,t.spatialReference,e,n,a)!=null}function Bn(t,e,n,a,i){C[0]=t.x,C[1]=t.y;const l=t.z;return C[2]=l!==void 0?l:i,Q(C,e,0,C,a,0)?(n.x=C[0],n.y=C[1],n.spatialReference=a,l!==void 0||G(a)?(n.z=C[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),t.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=t.m,n.hasM=!0),n):null}function Yt(t,e,n=e.spatialReference,a=0){return t.spatialReference!=null&&n!=null&&qn(t,t.spatialReference,e,n,a)!=null}function qn(t,e,n,a,i){const{points:l,hasZ:u,hasM:r}=t,o=[],c=l.length,f=[];for(const R of l)f.push(R[0],R[1],u?R[2]:i);if(!Q(f,e,0,f,a,0,c))return null;const S=u||G(a);for(let R=0;R<c;++R){const A=3*R,M=f[A],E=f[A+1];S&&r?o.push([M,E,f[A+2],l[R][3]]):S?o.push([M,E,f[A+2]]):r?o.push([M,E,l[R][2]]):o.push([M,E])}return n.points=o,n.spatialReference=a,n.hasZ=u,n.hasM=r,n}function ne(t,e,n=e.spatialReference,a=0){return t.spatialReference!=null&&n!=null&&Zn(t,t.spatialReference,e,n,a)!=null}function Zn(t,e,n,a,i){const{paths:l,hasZ:u,hasM:r}=t,o=[];if(!Vn(l,u??!1,r??!1,e,o,a,i))return null;const c=u||G(a);return n.paths=o,n.spatialReference=a,n.hasZ=c,n.hasM=r,n}function te(t,e,n=e.spatialReference,a=0){return t.spatialReference!=null&&n!=null&&bn(t,t.spatialReference,e,n,a)!=null}function bn(t,e,n,a,i){const{rings:l,hasZ:u,hasM:r}=t,o=[];if(!Vn(l,u??!1,r??!1,e,o,a,i))return null;const c=u||G(a);return n.rings=o,n.spatialReference=a,n.hasZ=c,n.hasM=r,n}function ee(t,e,n=e.spatialReference,a=0){return t.spatialReference!=null&&n!=null&&Dn(t,t.spatialReference,e,n,a)!=null}function Dn(t,e,n,a,i){const{xmin:l,ymin:u,xmax:r,ymax:o,hasZ:c,hasM:f}=t,S=c?t.zmin:i;if(!Tn(l,u,S,e,C,a))return null;const R=c||G(a);n.xmin=C[0],n.ymin=C[1],R&&(n.zmin=C[2]);const A=c?t.zmax:i;return Tn(r,o,A,e,C,a)?(n.xmax=C[0],n.ymax=C[1],R&&(n.zmax=C[2]),f&&(n.mmin=t.mmin,n.mmax=t.mmax),n.spatialReference=a,n):null}function Vn(t,e,n,a,i,l,u=0){const r=new Array;for(const f of t)for(const S of f)r.push(S[0],S[1],e?S[2]:u);if(!Q(r,a,0,r,l,0))return!1;let o=0;i.length=0;const c=e||G(l);for(const f of t){const S=new Array;for(const R of f)c&&n?S.push([r[o++],r[o++],r[o++],R[3]]):c?S.push([r[o++],r[o++],r[o++]]):n?(S.push([r[o++],r[o++],R[2]]),o++):(S.push([r[o++],r[o++]]),o++);i.push(S)}return!0}const C=Hn(),Se=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:W,getTransformation:Kn,getTransformations:bt,initializeProjection:zn,isEqualBaseGCS:Qt,isLoaded:X,isLoadedOrLoad:vn,isLoadedOrLoadFor:Bt,load:V,project:xn,projectExtent:ee,projectMany:Pn,projectMultipoint:Yt,projectOrLoad:Zt,projectOrLoadMany:Un,projectPoint:Xt,projectPolygon:te,projectPolyline:ne,projectWithZConversion:Jt,projectWithoutEngine:en,requiresLoad:qt,test:Vt,tryProjectWithZConversion:J,unload:Dt},Symbol.toStringTag,{value:"Module"}));export{en as $,dt as F,kn as G,J as I,Jt as J,V as K,W as L,Qt as N,xn as O,zn as Q,Bt as U,Pn as V,Zt as X,Un as Y,Q as a,s as b,Ot as c,_e as d,Tn as e,Se as f,Gt as h,fe as i,X as k,Xt as n,jt as o,Re as p,Kn as q,te as s,ce as t,hn as v};
