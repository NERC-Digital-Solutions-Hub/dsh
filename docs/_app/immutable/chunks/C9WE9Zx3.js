import{r as l,m as r,p as m,a as v}from"./iFuBOtDF.js";import"./DHq0rblm.js";import"./BfhsIlKo.js";import{f as x}from"./pCx8oau_.js";import{j as d}from"./BQ2D4CO5.js";import{e as S}from"./DL_GCMQq.js";import{T as I}from"./C2RkjyMH.js";const w=f=>{let e=class extends f{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(p,t){return t.minLOD!=null&&t.maxLOD!=null?p:0}readMaxScale(p,t){return t.minLOD!=null&&t.maxLOD!=null?p:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(p,t,h){const y=t.capabilities?.includes("Tilemap");let{minLOD:o,maxLOD:n,minScale:s,maxScale:c}=t;if(o==null&&n==null&&(s!==0||c!==0)){const i=a=>Math.round(1e4*a)/1e4;s=i(s||t.tileInfo.lods[0].scale),c=i(c||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(const a of t.tileInfo.lods){const u=i(a.scale);o=u>=s?a.level:o,n=u>=c?a.level:n}}if(y)return new I({layer:this,minLOD:o,maxLOD:n});if(t.tileInfo){const i=new d;return i.read(t.tileInfo,h),new S(i,o,n)}return null}};return l([r({json:{read:{source:"copyrightText"}}})],e.prototype,"copyright",void 0),l([r()],e.prototype,"minScale",void 0),l([m("service","minScale")],e.prototype,"readMinScale",null),l([r()],e.prototype,"maxScale",void 0),l([m("service","maxScale")],e.prototype,"readMaxScale",null),l([r({type:x})],e.prototype,"spatialReference",void 0),l([r({readOnly:!0})],e.prototype,"supportsBlankTile",null),l([r({type:d})],e.prototype,"tileInfo",void 0),l([r()],e.prototype,"tilemapCache",void 0),l([m("service","tilemapCache",["capabilities","tileInfo"])],e.prototype,"readTilemapCache",null),l([r()],e.prototype,"version",void 0),e=l([v("esri.layers.mixins.ArcGISCachedService")],e),e};export{w as p};
