import{l,e as p,r as c,a as f}from"./BNOt8YR4.js";import{V as u}from"./CUIWi6G4.js";import"./Rwg6dtTd.js";import{P as o,L as m,s as S}from"./DXt7o69B.js";var n;let a=n=class extends l.JSONSupportMixin(u.ofType(o)){constructor(e){super(e)}clone(){return new n(this.items.map((e=>e.clone())))}write(e,r){return this.toJSON(r)}toJSON(e){const r=e?.layer?.spatialReference;return r?this.toArray().map((t=>{if(!r.equals(t.spatialReference)){if(!m(t.spatialReference,r))return e?.messages?.push(new p("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const i=new o;S(t,i,r),t=i}const s=t.toJSON(e);return delete s.spatialReference,s})).filter((t=>t!=null)):this.toArray().map((t=>t.toJSON(e)))}static fromJSON(e,r){const t=new n;return e.forEach((s=>t.add(o.fromJSON(s,r)))),t}};a=n=c([f("esri.layers.support.PolygonCollection")],a);const N=a;export{N as l};
