import{l as a,n as d,o as h,a as P,b as j,c as m,t as U,w as b}from"./B2reeZpr.js";import{U as x}from"./Ckkezzl2.js";import{i as F}from"./Ckkezzl2.js";function y(n,e,u={}){return f(n,e,u,v)}function I(n,e,u={}){return f(n,e,u,$)}function f(n,e,u={},o){let r=null;const i=u.once?(t,c)=>{o(t)&&(a(r),e(t,c))}:(t,c)=>{o(t)&&e(t,c)};if(r=x(n,i,u.sync,u.equals),u.initial){const t=n();i(t,t)}return r}function O(n,e,u,o={}){let r=null,i=null,t=null;function c(){r&&i&&(i.remove(),o.onListenerRemove?.(r),r=null,i=null)}function l(s){o.once&&o.once&&a(t),u(s)}const w=y(n,(s,A)=>{c(),d(s)&&(r=s,i=h(s,e,l),o.onListenerAdd?.(s))},{sync:o.sync,initial:!0});return t=P(()=>{w.remove(),c()}),t}function R(n,e){return p(n,null,e)}function g(n,e){return p(n,$,e)}function p(n,e,u){if(j(u))return Promise.reject(m());const o=n();if(e?.(o))return Promise.resolve(o);let r=null;function i(){r=a(r)}return new Promise((t,c)=>{r=U([b(u,()=>{i(),c(m())}),f(n,l=>{i(),t(l)},{sync:!1,once:!0},e??v)])})}function v(n){return!0}function $(n){return!!n}function k(n,e,u={}){let o=!1;const r=y(n,(i,t)=>{o||e(i,t)},u);return{remove(){r.remove()},pause(){o=!0},resume(){o=!1}}}const z={sync:!0},B={initial:!0},C={sync:!0,initial:!0};export{F as autorun,B as initial,O as on,R as once,k as pausable,z as sync,C as syncAndInitial,y as watch,I as when,g as whenOnce};
