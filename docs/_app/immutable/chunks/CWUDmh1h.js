const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DzloPlE7.js","./hffy0Rzx.js","./waHvktcX.js","./dEtOPjM5.js","./Fcs8KMhh.js","./2T-d3wGY.js","./PPVm8Dsz.js","./PYsgr6Cv.js","./DFCWshoE.js","./DkF1Z4lU.js","./BjgcUERr.js","./Oc_h9hZE.js","./DbYAGCI-.js","./CBqrEbVM.js","./DJAGoG_l.js","./pqN3HtPu.js","./CzHqZRs8.js","./CK9ZvJtL.js","./D6KPPgz5.js","./MKHGQsnA.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./PPVm8Dsz.js";import{l as O,r as i,m as a,c as w,d as b,a as A,f as U}from"./2T-d3wGY.js";import{z as S,f,H as V}from"./Fcs8KMhh.js";import{i as I,s as v}from"./hffy0Rzx.js";import{e as y,I as $,P as L,D as x,o as j}from"./DbYAGCI-.js";import{n as P}from"./DNJNSHpN.js";import{p as M}from"./DFCWshoE.js";import{I as z}from"./PYsgr6Cv.js";import{s as B}from"./waHvktcX.js";async function J(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:r}=await E(async()=>{const{fromItem:n}=await import("./DzloPlE7.js");return{fromItem:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url);try{return await r(e)}catch(n){const s=e?.portalItem,o=s?.id||"unset",u=s?.portal?.url||B.portalUrl;throw I.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+o+"')",n),n}}const g={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function h(t,e,r,n=y){const s=new $(L(n)),o=x.fromJSDate(t,{zone:s}),u=r==="decades"||r==="centuries"?"year":_(r);return r==="decades"&&(e*=10),r==="centuries"&&(e*=100),o.plus({[u]:e}).toJSDate()}function Y(t,e,r="milliseconds"){const n=t.getTime(),s=q(e,r,"milliseconds");return new Date(n+s)}function T(t,e,r=y){const n=new $(L(r)),s=x.fromJSDate(t,{zone:n});if(e==="decades"||e==="centuries"){const u=s.startOf("year"),{year:m}=u,N=m-m%(e==="decades"?10:100);return u.set({year:N}).toJSDate()}const o=_(e);return s.startOf(o).toJSDate()}function q(t,e,r){return t===0?0:t*g[e]/g[r]}function ee(t,e){return t&&e?t.intersection(e):t||e}function _(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var d,c;let p=(c=class extends O{static get allTime(){return D}static get empty(){return R}static fromArray(e){return new d({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,r){return r.end!=null?new Date(r.end):null}writeEnd(e,r){r.end=e?.getTime()??null}get isAllTime(){return this.equals(d.allTime)}get isEmpty(){return this.equals(d.empty)}readStart(e,r){return r.start!=null?new Date(r.start):null}writeStart(e,r){r.start=e?.getTime()??null}clone(){return new d({end:this.end,start:this.start})}equals(e){if(!e)return!1;const r=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,s=e.start?.getTime()??e.start,o=e.end?.getTime()??e.end;return r===s&&n===o}expandTo(e,r=y){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=T(n,e,r));let s=this.end;if(s){const o=T(s,e,r);s=s.getTime()===o.getTime()?o:h(o,1,e,r)}return new d({start:n,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return d.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,s=e.start?.getTime()??-1/0,o=e.end?.getTime()??1/0;let u,m;return s>=r&&s<=n?u=s:r>=s&&r<=o&&(u=r),n>=s&&n<=o?m=n:o>=r&&o<=n&&(m=o),u==null||m==null||isNaN(u)||isNaN(m)?d.empty:new d({start:u===-1/0?null:new Date(u),end:m===1/0?null:new Date(m)})}offset(e,r,n=y){if(this.isEmpty||this.isAllTime)return this.clone();const s=new d,{start:o,end:u}=this;return o!=null&&(s.start=h(o,e,r,n)),u!=null&&(s.end=h(u,e,r,n)),s}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return D.clone();const r=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new d({start:r,end:n})}},d=c,c);i([a({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),i([w("end")],p.prototype,"readEnd",null),i([b("end")],p.prototype,"writeEnd",null),i([a({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),i([a({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),i([a({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),i([w("start")],p.prototype,"readStart",null),i([b("start")],p.prototype,"writeStart",null),p=d=i([A("esri.time.TimeExtent")],p);const D=new p,R=new p({start:void 0,end:void 0});let k=0,l=class extends j.EventedMixin(P.IdentifiableMixin(M)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new S(-180,-90,180,90,f.WGS84),this.id=Date.now().toString(16)+"-layer-"+k++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=f.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=typeof t=="string"?{url:t}:t;return(await E(async()=>{const{fromUrl:r}=await import("./MKHGQsnA.js");return{fromUrl:r}},__vite__mapDeps([19,6,1,2,7,4,5,3,8,9,10,11,12,14]),import.meta.url)).fromUrl(e)}static fromPortalItem(t){return J(t)}initialize(){this.when().catch((t=>{U(t)||I.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const e=this.parent;return t&&e&&"effectiveVisible"in e&&(t&&=e.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return z(this.url)}createLayerView(t,e){return Promise.reject(new v("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await V(t,{query:{f:"json"},responseType:"json"})).data;throw new v("layer:no-attribution-data","Layer does not have attribution data")}};i([a({type:String})],l.prototype,"attributionDataUrl",void 0),i([a({readOnly:!0})],l.prototype,"effectiveVisible",null),i([a({type:S})],l.prototype,"fullExtent",void 0),i([a({readOnly:!0})],l.prototype,"hasAttributionData",null),i([a({type:String,clonable:!1})],l.prototype,"id",void 0),i([a({type:Boolean,nonNullable:!0})],l.prototype,"legendEnabled",void 0),i([a({type:["show","hide","hide-children"]})],l.prototype,"listMode",void 0),i([a({type:Number,range:{min:0,max:1},nonNullable:!0})],l.prototype,"opacity",void 0),i([a({clonable:!1})],l.prototype,"parent",void 0),i([a({readOnly:!0})],l.prototype,"parsedUrl",null),i([a({type:Boolean,readOnly:!0})],l.prototype,"persistenceEnabled",void 0),i([a({type:Boolean})],l.prototype,"popupEnabled",void 0),i([a({type:Boolean})],l.prototype,"attributionVisible",void 0),i([a({type:f})],l.prototype,"spatialReference",void 0),i([a({type:String})],l.prototype,"title",void 0),i([a({readOnly:!0,json:{read:!1}})],l.prototype,"type",void 0),i([a()],l.prototype,"url",void 0),i([a({type:p})],l.prototype,"visibilityTimeExtent",void 0),i([a({type:Boolean,nonNullable:!0})],l.prototype,"visible",void 0),l=i([A("esri.layers.Layer")],l);export{ee as g,l as h,Y as i,q as m,h as o,g as r,p as u};
