import{l as f,w as d,c as w,d as m,t as P,f as j,n as h,o as L,e as q}from"./CtNvT6K6.js";import"./ZGrc7RNF.js";import"./Bxh34c20.js";function v(n,t,u={}){return a(n,t,u,y)}function g(n,t,u={}){return a(n,t,u,$)}function a(n,t,u={},r){let o=null;const i=u.once?(e,c)=>{r(e)&&(f(o),t(e,c))}:(e,c)=>{r(e)&&t(e,c)};if(o=d(n,i,u.sync,u.equals),u.initial){const e=n();i(e,e)}return o}function k(n,t,u,r={}){let o=null,i=null,e=null;function c(){o&&i&&(i.remove(),r.onListenerRemove?.(o),o=null,i=null)}function s(l){r.once&&r.once&&f(e),u(l)}const p=v(n,((l,A)=>{c(),h(l)&&(o=l,i=L(l,t,s),r.onListenerAdd?.(l))}),{sync:r.sync,initial:!0});return e=q((()=>{p.remove(),c()})),e}function z(n,t){return x(n,$,t)}function x(n,t,u){if(w(u))return Promise.reject(m());const r=n();if(t?.(r))return Promise.resolve(r);let o=null;function i(){o=f(o)}return new Promise(((e,c)=>{o=P([j(u,(()=>{i(),c(m())})),a(n,(s=>{i(),e(s)}),{sync:!1,once:!0},t??y)])}))}function y(n){return!0}function $(n){return!!n}function B(n,t,u={}){let r=!1;const o=v(n,((i,e)=>{r||t(i,e)}),u);return{remove(){o.remove()},pause(){r=!0},resume(){r=!1}}}const C={sync:!0},D={initial:!0},E={sync:!0,initial:!0};export{B as P,C as U,k as a,g as f,D as h,z as j,v as l,E as w};
