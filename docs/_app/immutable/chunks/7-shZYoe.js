import{M}from"./bnayRBMH.js";import{c as $,u as a,E as A,s as v,l as z,d as G,R as x}from"./YTLdojGG.js";import{r as c,n as d}from"./DFoMxmW4.js";import{f as _,z as R,G as U}from"./CeRhhlE3.js";import{g as S}from"./CUKvHaKn.js";import{a as V}from"./CBhtnfFj.js";function p(r,y){if(!Array.isArray(r)||r.length<y)return!1;for(const u of r)if(typeof u!="number")return!1;return!0}const I=7645211,k={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new S({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new S({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new S({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function H(r){return!(!(r.extensions?.ESRI_crs?.wkid||r.extensions?.ESRI_crs?.latestWkid||r.extensions?.ESRI_crs?.wkt)||!r.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!r.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function q(r,y=!1){let u=new _({wkid:4326,vcsWkid:115700}),s=r.root?.boundingVolume,E=!1,g=r?.root?.transform;if(y&&(r.extensions?.ESRI_crs?.wkid||r.extensions?.ESRI_crs?.latestWkid||r.extensions?.ESRI_crs?.wkt)&&(r.root?.extensions?.ESRI_crs?.boundingVolume?.box||r.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))u=new _(r.extensions?.ESRI_crs),s=r.root?.extensions?.ESRI_crs?.boundingVolume,g=r.root?.transform,E=!0;else if(!s)return new R(-180,-90,180,90,u);if(s.box){const t=s?.box;if(t[3]>I&&t[7]>I&&t[11]>I)return new R({...k,spatialReference:u})}const w=d();if(!E&&s.region&&p(s.region,6)){const t=s.region,m=M(t[0]),o=M(t[1]),n=t[4],i=M(t[2]),e=M(t[3]),h=t[5];return new R({xmin:m,ymin:o,zmin:n,xmax:i,ymax:e,zmax:h,spatialReference:u})}if(s.sphere&&p(s.sphere,4)){const t=s.sphere,m=c(t[0],t[1],t[2]),o=t[3]/Math.sqrt(3),n=d();$(n,m,c(o,o,o));const i=d();if(a(i,m,c(o,o,o)),g&&p(g,16)){const f=g;A(w,n,f),v(n,w),A(w,i,f),v(i,w)}E||(V(n,U,0,n,_.WGS84,0),V(i,U,0,i,_.WGS84,0));const e=d(),h=d();return z(e,n,i),G(h,n,i),new R({xmin:e[0],ymin:e[1],zmin:e[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}if(s.box&&p(s.box,12)){const t=s.box,m=c(t[0],t[1],t[2]),o=c(t[3],t[4],t[5]),n=c(t[6],t[7],t[8]),i=c(t[9],t[10],t[11]),e=[];for(let l=0;l<8;++l)e.push(d());if(a(e[0],m,o),a(e[0],e[0],n),a(e[0],e[0],i),x(e[1],m,o),a(e[1],e[1],n),a(e[1],e[1],i),a(e[2],m,o),x(e[2],e[2],n),a(e[2],e[2],i),x(e[3],m,o),x(e[3],e[3],n),a(e[3],e[3],i),a(e[4],m,o),a(e[4],e[4],n),x(e[4],e[4],i),x(e[5],m,o),a(e[5],e[5],n),x(e[5],e[5],i),a(e[6],m,o),x(e[6],e[6],n),x(e[6],e[6],i),x(e[7],m,o),x(e[7],e[7],n),x(e[7],e[7],i),g&&p(g,16)){const l=g;for(let b=0;b<8;++b)A(e[b],e[b],l)}const h=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let l=0;l<8;++l)E||V(e[l],U,0,e[l],_.WGS84,0),z(f,f,e[l]),G(h,h,e[l]);return new R({xmin:f[0],ymin:f[1],zmin:f[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}return new R(-180,-90,180,90,u)}export{q as E,H as R};
