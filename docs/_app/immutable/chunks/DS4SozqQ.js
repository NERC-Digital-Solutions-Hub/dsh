import"./r_tU0ZMk.js";import{l as R,v as L,s as A,u as k}from"./BqElk1ee.js";import{s as d}from"./DSdBzmdi.js";import"./BFGjv385.js";import{$ as E,a as M}from"./gvnm7ut2.js";import{H as D}from"./DE7MWQCs.js";import{n as U}from"./CSadq5My.js";const B={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function j(t){return t in B}function $(t){if(j(t)){const e=B[t];return e===!0?t:e}return null}const f=[],a=new Map;function _(t){for(const e of a.keys())F(t.pattern,e)&&a.delete(e)}function z(t){return f.includes(t)||(_(t),f.unshift(t)),M(()=>{const e=f.indexOf(t);e>-1&&(f.splice(e,1),_(t))})}async function X(t){const e=R();a.has(t)||a.set(t,S(t,e));const n=a.get(t);return n&&await W.add(n),n}function C(t){const e=A(t);return e?$(t)??$(e):null}async function S(t,e){const n=[];for(const r of f)if(F(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(u){n.push(u)}throw n.length?new d("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:n}):new d("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function F(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}L(()=>{a.clear()});const W=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=E())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},G={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let g=new WeakMap,N={};function w(t){const e=t||N;if(!g.has(e)){const n=A(),r=n&&G[n]||k();g.set(e,new Intl.NumberFormat(r,t))}return g.get(e)}function Y(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function Z(t){const{minimumFractionDigits:e,maximumFractionDigits:n,useGrouping:r}=t;return{minimumFractionDigits:e,maximumFractionDigits:n,useGrouping:r==="auto"?"auto":r==="always"}}function tt(t,e){return Object.is(t,-0)&&(t=0),w(e).format(t)}function et(t,e=R()){if(!t)return null;let n=b.get(e);if(!n){const r=w().formatToParts(12345.6),u=[...w({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(u.map((i,o)=>[i,o])),h=new RegExp(`[${r.find(i=>i.type==="group")?.value}]`,"g"),p=new RegExp(`[${r.find(i=>i.type==="decimal")?.value}]`),c=new RegExp(`[${u.join("")}]`,"g"),m=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,l=/[-\u2212\u2013\u2014\u2015]/g;n=i=>{if((i=i.trim().replaceAll(h,"").replace(p,".").replace(c,v=>String(s.get(v))).replaceAll(m,"").replaceAll(l,"-"))==="")return null;const o=Number(i);return isNaN(o)?null:o},b.set(e,n)}return n(t)}L(()=>{g=new WeakMap,N={}});const b=new Map;async function T(t,e,n,r){const u=e.exec(n);if(!u)throw new d("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${e}"`);const s=u[1]?`${u[1]}/`:"",h=u[2],p=C(r),c=`${s}${h}.json`,m=p?`${s}${h}_${p}.json`:c;let l;try{l=await y(t(m))}catch(i){if(m===c)throw new d("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:i});try{l=await y(t(c))}catch(o){throw new d("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:o})}}return l}async function y(t){if(x.fetchBundleAsset!=null)return x.fetchBundleAsset(t);const e=await D(t,{responseType:"text"});return JSON.parse(e.data)}class H{constructor({base:e="",pattern:n,location:r=new URL(window.location.href)}){let u;u=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof n=="string"?new RegExp(`^${n}`):n,this.getAssetUrl=u,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,n){return T(this.getAssetUrl,this.matcher,e,n)}}function O(t){return new H(t)}const x={};z(O({pattern:"esri/",location:U}));export{et as a,tt as c,X as f,Y as l,C as m,Z as s};
