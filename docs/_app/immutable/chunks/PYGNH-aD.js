import{a as R,n as T}from"./B87vTgcy.js";import{h as z,c}from"./D8hBCRIy.js";import{N as w,T as $}from"./2lNp6ocP.js";import{n as u,O as I}from"./ftSj4mLm.js";import{n as P,_ as k}from"./Cgb6qxNH.js";import{H as C,s as H,o as d}from"./CVUrXWRd.js";import{n as p}from"./B2y3dQj0.js";import{N as b,q as L,b as O,j as U}from"./Dq7W9tU0.js";function V(r,n){if(r==null||n==null)return;const e=v(r,n);return e!=null?c(e,"radians","geographic"):void 0}const v=(()=>{const r=u(),n=u();return(e,t)=>(d(r,e.x,e.y,e.z??0),d(n,t.x,t.y,t.z??0),_(r,n,e.spatialReference,t.spatialReference))})(),_=(()=>{const r=P(),n=u(),e=u();return(t,i,l,f)=>{if(C(t,i))return;const a=b(l),s=b(f);if(a&&s&&$(a,s)&&p(t,l,n,a)&&p(i,f,e,s)){const{azimuth:g}=L(B,n,e,a);return g!=null?w(g,"degrees","radians"):void 0}r[0]=i[0]-t[0],r[1]=i[1]-t[1];let o=I(k,r);return r[0]<0&&(o=D-o),o}})();function Y(r,n,e,t="absolute"){if(n&&e)switch(t){case"absolute":return V(n,e);case"relative":return M(y(r,n,e),"relative");case"relative-bilateral":return M(y(r,n,e),"relative-bilateral")}}function y(r,n,e){if(!r||!n||!e)return;const t=v(r,n),i=v(n,e);return t!=null&&i!=null?c(i-t,"radians","geographic"):void 0}function M(r,n){if(r!=null)switch(n){case"absolute":return A(r);case"relative":{const e=h(r);let t=j.normalize(e,0,!0);return t===-180&&(t=180),c(t,"degrees","geographic")}case"relative-bilateral":{const e=h(r),t=Math.abs(j.normalize(e,0,!0));return c(t,"degrees","geographic")}}}function A(r){const n=h(r),e=E.normalize(n,0,!0);return c(e,"degrees","geographic")}const Z=(()=>{const r=u();return(n,e,t,i,l,f="geodesic")=>{H(r,e);const a=h(l);if(f==="geodesic"){const m=b(t);if(m&&p(r,t,r,m))return U(n,r,a,i,m),n[2]=e[2],!!p(n,m,n,t)}const s=z(a,"geographic","arithmetic"),o=w(s,"degrees","radians"),g=e[0]+i*Math.cos(o),q=e[1]+i*Math.sin(o),N=e[2];return d(n,g,q,N),!0}})();function h(r){if(r!=null)return z(x(r),r.rotationType,"geographic")}function rr(r){if(r!=null)return z(x(r),r.rotationType,"arithmetic")}function x(r){return w(r.value,r.unit,"degrees")}const B=new O,D=2*Math.PI,E=R,j=new T(-180,180);export{A as M,h as R,Z as U,V as j,rr as q,M as w,Y as x,_ as y};
