const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C1OJHNRA.js","./k6TpQ-vv.js","./BO0zSyDw.js","./llofLU5n.js","./f3N8RNee.js","./PPVm8Dsz.js","./CzvYEThE.js","./BoGhUpgK.js","./llusru1W.js","./Bz8ODP7-.js","./ju9f9SUf.js","./DGk5f3jX.js","./CBgN-qFR.js","./DIOoDXIw.js","./DBjaQYpy.js","./B5lVMRid.js","./DSPk0Ak5.js","./BTaqRh0J.js","./Cq4_PSk6.js","./C9a4683v.js","./sBBCdBvc.js","./CrZcHcIt.js","./CHGTeQb_.js","./C8GVJd0n.js","./D6KPPgz5.js","./B4g-elGr.js","./BNgneZ8b.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./PPVm8Dsz.js";import{r as i,m as n,a as D,d as L}from"./BoGhUpgK.js";import{H as x}from"./f3N8RNee.js";import{i as A,s as f}from"./k6TpQ-vv.js";import{e as b,o as _}from"./DSPk0Ak5.js";import{n as $}from"./6MRGLEa9.js";import{p as S}from"./llusru1W.js";import{I as N}from"./CzvYEThE.js";import{s as U}from"./BO0zSyDw.js";import{z as I,f as c}from"./DGk5f3jX.js";import{l as O,o as v,r as w}from"./Bz8ODP7-.js";import{c as g,o as h}from"./Ctqntsjr.js";async function V(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await E(async()=>{const{fromItem:l}=await import("./C1OJHNRA.js");return{fromItem:l}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url);try{return await r(t)}catch(l){const o=t?.portalItem,a=o?.id||"unset",d=o?.portal?.url||U.portalUrl;throw A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+d+"', id: '"+a+"')",l),l}}var p,y;let u=(y=class extends O{static get allTime(){return T}static get empty(){return j}static fromArray(t){return new p({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return r.end!=null?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(p.allTime)}get isEmpty(){return this.equals(p.empty)}readStart(t,r){return r.start!=null?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new p({end:this.end,start:this.start})}equals(t){if(!t)return!1;const r=this.start?.getTime()??this.start,l=this.end?.getTime()??this.end,o=t.start?.getTime()??t.start,a=t.end?.getTime()??t.end;return r===o&&l===a}expandTo(t,r=b){if(this.isEmpty||this.isAllTime)return this.clone();let l=this.start;l&&(l=g(l,t,r));let o=this.end;if(o){const a=g(o,t,r);o=o.getTime()===a.getTime()?a:h(a,1,t,r)}return new p({start:l,end:o})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return p.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,l=this.end?.getTime()??1/0,o=t.start?.getTime()??-1/0,a=t.end?.getTime()??1/0;let d,m;return o>=r&&o<=l?d=o:r>=o&&r<=a&&(d=r),l>=o&&l<=a?m=l:a>=r&&a<=l&&(m=a),d==null||m==null||isNaN(d)||isNaN(m)?p.empty:new p({start:d===-1/0?null:new Date(d),end:m===1/0?null:new Date(m)})}offset(t,r,l=b){if(this.isEmpty||this.isAllTime)return this.clone();const o=new p,{start:a,end:d}=this;return a!=null&&(o.start=h(a,t,r,l)),d!=null&&(o.end=h(d,t,r,l)),o}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return T.clone();const r=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,l=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new p({start:r,end:l})}},p=y,y);i([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"end",void 0),i([v("end")],u.prototype,"readEnd",null),i([w("end")],u.prototype,"writeEnd",null),i([n({readOnly:!0,json:{read:!1}})],u.prototype,"isAllTime",null),i([n({readOnly:!0,json:{read:!1}})],u.prototype,"isEmpty",null),i([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"start",void 0),i([v("start")],u.prototype,"readStart",null),i([w("start")],u.prototype,"writeStart",null),u=p=i([D("esri.time.TimeExtent")],u);const T=new u,j=new u({start:void 0,end:void 0});let P=0,s=class extends _.EventedMixin($.IdentifiableMixin(S)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new I(-180,-90,180,90,c.WGS84),this.id=Date.now().toString(16)+"-layer-"+P++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=c.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e;return(await E(async()=>{const{fromUrl:r}=await import("./BNgneZ8b.js");return{fromUrl:r}},__vite__mapDeps([26,5,1,2,6,4,7,3,8,9,10,11,12,13,14,15,16,17,18,20]),import.meta.url)).fromUrl(t)}static fromPortalItem(e){return V(e)}initialize(){this.when().catch((e=>{L(e)||A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return N(this.url)}createLayerView(e,t){return Promise.reject(new f("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await x(e,{query:{f:"json"},responseType:"json"})).data;throw new f("layer:no-attribution-data","Layer does not have attribution data")}};i([n({type:String})],s.prototype,"attributionDataUrl",void 0),i([n({readOnly:!0})],s.prototype,"effectiveVisible",null),i([n({type:I})],s.prototype,"fullExtent",void 0),i([n({readOnly:!0})],s.prototype,"hasAttributionData",null),i([n({type:String,clonable:!1})],s.prototype,"id",void 0),i([n({type:Boolean,nonNullable:!0})],s.prototype,"legendEnabled",void 0),i([n({type:["show","hide","hide-children"]})],s.prototype,"listMode",void 0),i([n({type:Number,range:{min:0,max:1},nonNullable:!0})],s.prototype,"opacity",void 0),i([n({clonable:!1})],s.prototype,"parent",void 0),i([n({readOnly:!0})],s.prototype,"parsedUrl",null),i([n({type:Boolean,readOnly:!0})],s.prototype,"persistenceEnabled",void 0),i([n({type:Boolean})],s.prototype,"popupEnabled",void 0),i([n({type:Boolean})],s.prototype,"attributionVisible",void 0),i([n({type:c})],s.prototype,"spatialReference",void 0),i([n({type:String})],s.prototype,"title",void 0),i([n({readOnly:!0,json:{read:!1}})],s.prototype,"type",void 0),i([n()],s.prototype,"url",void 0),i([n({type:u})],s.prototype,"visibilityTimeExtent",void 0),i([n({type:Boolean,nonNullable:!0})],s.prototype,"visible",void 0),s=i([D("esri.layers.Layer")],s);export{s as h,u};
