import{r as M}from"./CyrTv1RS.js";import{A as p}from"./C2mOOkww.js";import{c as l}from"./C6k8CR_f.js";function y(r){return r<=l?new Array(r):new Int16Array(r)}function A(r,a,o,t,n,e=2){const s=1/(Math.abs(o)+Math.abs(t)+Math.abs(n)),u=o*s,c=t*s,b=n<=0?(u>=0?1:-1)*(1-Math.abs(c)):u,m=n<=0?(c>=0?1:-1)*(1-Math.abs(u)):c,f=a*e;r[f]=h(b),r[f+1]=h(m)}function x(r){const a=r.length/3,o=y(2*a);let t=0;for(let n=0;n<a;++n)A(o,n,r[t++],r[t++],r[t++]);return o}function I(r,a,o,t=2){const n=o*t,e=i(a[n]),s=i(a[n+1]),u=1-Math.abs(e)-Math.abs(s);return r[2]=u,u<0?(r[0]=(e>=0?1:-1)*(1-Math.abs(s)),r[1]=(s>=0?1:-1)*(1-Math.abs(e))):(r[0]=e,r[1]=s),p(r,r)}function h(r){return M(Math.round(32767*r),-32767,32767)}function i(r){return M(r/32767,-1,1)}export{x as c,A as e,y as t,I as u};
