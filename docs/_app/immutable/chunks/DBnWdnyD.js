const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BvIqEAWZ.js","./DCkdB7M8.js","./B0d42t_b.js","./CtNvT6K6.js","./Bxh34c20.js","./ZGrc7RNF.js","./BWd15Xoh.js","./DW1sk3HX.js"])))=>i.map(i=>d[i]);
import{_ as Kt}from"./BWd15Xoh.js";import{i as ke,s as He}from"./Bxh34c20.js";import{h as Ft,z as It,_ as E,r as d,m as x,C as gt,a as zt,al as je,cC as be,bA as Ue,aR as Ke,cD as qe,H as ct,cE as ft,cF as Et,ad as v,s as nt,a7 as Be,cG as vt,aM as wt,ak as Gt,bS as Ve,aF as Ye,cH as De,aI as Je,aJ as Xe,bx as Qe,by as tn,cI as j,a5 as qt,D as Bt,cJ as en,bh as nn,aN as Z,G as ie,aO as sn,a2 as rn,aQ as an,aP as ln,bw as Vt}from"./CtNvT6K6.js";import{s as on}from"./BHaUclSc.js";import{u as ae,r as un,M as cn,s as fn,w as hn,n as le}from"./BP-CeWEJ.js";import{a as G,g as oe}from"./ZGrc7RNF.js";function st(t,e,n=!1){let{hasM:s,hasZ:r}=t;Array.isArray(e)?e.length!==4||s||r?e.length===3&&n&&!s?(r=!0,s=!1):e.length===3&&s&&r&&(s=!1,r=!1):(s=!0,r=!0):(r=!r&&e.hasZ&&(!s||e.hasM),s=!s&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=s}var Lt;function Yt(t){return(e,n)=>e==null?n:n==null?e:t(e,n)}function pn(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let z=Lt=class extends Ft{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const n={};Array.isArray(t)?(n.points=t,n.spatialReference=e):pn(t)?n.spatialReference=t:(t.points&&(n.points=t.points),t.spatialReference&&(n.spatialReference=t.spatialReference),t.hasZ&&(n.hasZ=t.hasZ),t.hasM&&(n.hasM=t.hasM));const s=n.points?.[0];return s&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=s.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=s.length>3:n.hasM===void 0&&(n.hasM=s.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new It,n=this.hasZ,s=this.hasM,r=n?3:2,l=t[0],i=Yt(Math.min),o=Yt(Math.max);let u,c,f,h,[p,m]=l,[R,g]=l;for(let y=0,S=t.length;y<S;y++){const P=t[y],[M,I]=P;if(p=i(p,M),m=i(m,I),R=o(R,M),g=o(g,I),n&&P.length>2){const C=P[2];u=i(u,C),f=o(f,C)}if(s&&P.length>r){const C=P[r];c=i(c,C),h=o(h,C)}}return e.xmin=p,e.ymin=m,e.xmax=R,e.ymax=g,e.spatialReference=this.spatialReference,n?(e.zmin=u,e.zmax=f):(e.zmin=void 0,e.zmax=void 0),s?(e.mmin=c,e.mmax=h):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=G(this.points)}addPoint(t){return st(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:G(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new Lt(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(n.z=e[2],s=3),this.hasM&&(n.m=e[s]),new E(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new E(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(st(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};d([x({readOnly:!0})],z.prototype,"cache",null),d([x()],z.prototype,"extent",null),d([x({type:[[Number]],json:{write:{isRequired:!0}}})],z.prototype,"points",void 0),d([gt("points")],z.prototype,"writePoints",null),z=Lt=d([zt("esri.geometry.Multipoint")],z),z.prototype.toJSON.isDefaultToJSON=!0;function $s(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function mn(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var xt;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(xt||(xt={}));function Os(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,n=t.hasM;if(t.type==="point")return n&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:n?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const s=t.clone().normalize();if(!s)return null;let r=!1,l=!1;return s.forEach((i=>{i.hasZ&&(r=!0),i.hasM&&(l=!0)})),s.map((i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(r&&i.hasZ){const u=.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(l&&i.hasM){const u=.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o}))}return null}function $t(t,e){const n=e[0]-t[0],s=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(n*n+s*s+r*r)}return Math.sqrt(n*n+s*s)}function ue(t,e,n){const s=t[0]+n*(e[0]-t[0]),r=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[s,r,t[2]+n*(e[2]-t[2])]:[s,r]}function vs(t,e,n,s){return gn(t,e,n[s],n[s+1])}function gn(t,e,n,s){const[r,l]=e,[i,o]=n,[u,c]=s,f=u-i,h=c-o,p=f*f+h*h,m=(r-i)*f+(l-o)*h,R=Math.min(1,Math.max(0,m/p));return t[0]=i+f*R,t[1]=o+h*R,t}function ws(t,e,n,s,r,l){let i=n,o=s,u=r-i,c=l-o;if(u!==0||c!==0){const f=((t-i)*u+(e-o)*c)/(u*u+c*c);f>1?(i=r,o=l):f>0&&(i+=u*f,o+=c*f)}return u=t-i,c=e-o,u*u+c*c}function ce(t,e){return ue(t,e,.5)}function Gs(t){const e=t.length;let n=0;for(let s=0;s<e-1;++s)n+=$t(t[s],t[s+1]);return n}function Ls(t,e){if(e<=0)return t[0];const n=t.length;let s=0;for(let r=0;r<n-1;++r){const l=$t(t[r],t[r+1]);if(e-s<l){const i=(e-s)/l;return ue(t[r],t[r+1],i)}s+=l}return t[n-1]}function fe(t,e=xt.X,n=xt.Y){let s=0;const r=t.length;let l=t[0];for(let i=1;i<r;i++){const o=t[i];s+=(o[e]-l[e])*(o[n]+l[n]),l=o}if(he(t)){const i=t[0];s+=(i[e]-l[e])*(i[n]+l[n])}return s>=0}function he(t){const e=t.length;return e>0&&!oe(t[0],t[e-1])}function Ts(t){"rings"in t&&(Rn(t),yn(t))}function Rn(t){if("rings"in t)for(const e of t.rings)he(e)&&e.push(e[0].slice())}function yn(t){if(!("rings"in t)||t.rings.length===0||fe(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Ws(t){return t.type!=="polygon"&&t.type!=="polyline"||Pn(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Pn(t,e){const n=je(e);if(!n)return;const s=n.valid[0],r=n.valid[1],l=r-s;for(const i of t){let o=1/0,u=-1/0;for(const f of i){const h=_n(f[0],s,r);o=Math.min(o,h),u=Math.max(u,h),f[0]=h}const c=u-o;l-c<c&&i.forEach((f=>{f[0]<0&&(f[0]+=l)}))}}function _n(t,e,n){const s=n-e;return t<e?n-(e-t)%s:t>n?e+(t-e)%s:t}function Fs(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,s]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===s.length&&n.every(((r,l)=>r.length===s[l].length))}function zs(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Sn(t){return t?dn(t.rings,t.hasZ??!1):null}function dn(t,e){if(!t?.length)return null;const n=[],s=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let l=0,i=t.length;l<i;l++){const o=pe(t[l],e,r);o&&s.push(o)}if(s.sort(((l,i)=>{let o=l[2]-i[2];return o===0&&e&&(o=l[4]-i[4]),o})),s.length&&(n[0]=s[0][0],n[1]=s[0][1],e&&(n[2]=s[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||e&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const l=t[0]&&t[0].length?Cn(t[0],e):null;if(!l)return null;n[0]=l[0],n[1]=l[1],e&&l.length>2&&(n[2]=l[2])}return n}function pe(t,e,n){let s=0,r=0,l=0,i=0,o=0;const u=t.length?t[0][0]:0,c=t.length?t[0][1]:0,f=t.length&&e?t[0][2]:0;for(let p=0;p<t.length;p++){const m=t[p],R=t[(p+1)%t.length],[g,y,S]=m,P=g-u,M=y-c,[I,C,W]=R,U=I-u,V=C-c,K=P*V-U*M;if(i+=K,s+=(P+U)*K,r+=(M+V)*K,e&&m.length>2&&R.length>2){const L=S-f,lt=W-f,ot=P*lt-U*L;l+=(L+lt)*ot,o+=ot}g<n[0]&&(n[0]=g),g>n[1]&&(n[1]=g),y<n[2]&&(n[2]=y),y>n[3]&&(n[3]=y),e&&(S<n[4]&&(n[4]=S),S>n[5]&&(n[5]=S))}if(i>0&&(i*=-1),o>0&&(o*=-1),!i)return null;i*=.5,o*=.5;const h=[s/(6*i)+u,r/(6*i)+c,i];return e&&(n[4]===n[5]||o===0?(h[3]=(n[4]+n[5])/2,h[4]=0):(h[3]=l/(6*o)+f,h[4]=o)),h}function Zs(t,e){let n=0,s=0,r=0;t.nextPoint();const l=t.pathSize?t.x:0,i=t.pathSize?t.y:0;for(let o=0;o<t.pathSize;o++){t.seekInPath(o);const u=[t.x,t.y];t.seekInPath((o+1)%t.pathSize);const c=[t.x,t.y],[f,h]=u,p=f-l,m=h-i,[R,g]=c,y=R-l,S=g-i,P=p*S-y*m;r+=P,n+=(p+y)*P,s+=(m+S)*P,f<e[0]&&(e[0]=f),f>e[1]&&(e[1]=f),h<e[2]&&(e[2]=h),h>e[3]&&(e[3]=h)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+l,s/(6*r)+i,r]):null}function Cn(t,e){const n=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let r=0,l=0,i=0,o=0;for(let u=0,c=t.length;u<c-1;u++){const f=t[u],h=t[u+1];if(f&&h){n[0]=f[0],n[1]=f[1],s[0]=h[0],s[1]=h[1],e&&f.length>2&&h.length>2&&(n[2]=f[2],s[2]=h[2]);const p=$t(n,s);if(p){r+=p;const m=ce(f,h);l+=p*m[0],i+=p*m[1],e&&m.length>2&&(o+=p*m[2])}}}return r>0?e?[l/r,i/r,o/r]:[l/r,i/r]:t.length?t[0]:null}function Mn(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const s=[],r=[],l=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const i=pe(mn(t),t.hasZ,l);i&&r.push(i)}if(r.sort(((i,o)=>{let u=i[2]-o[2];return u===0&&e&&(u=i[4]-o[4]),u})),r.length&&(s[0]=r[0][0],s[1]=r[0][1],e&&(s[2]=r[0][3]),(s[0]<l[0]||s[0]>l[1]||s[1]<l[2]||s[1]>l[3]||e&&(s[2]<l[4]||s[2]>l[5]))&&(s.length=0)),!s.length){t.reset(),t.nextPath();const i=t.pathSize?An(t):null;if(!i)return null;s[0]=i[0],s[1]=i[1],e&&i.length>2&&(s[2]=i[2])}return s}function An(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],s=e?[0,0,0]:[0,0];let r=0,l=0,i=0,o=0;if(t.nextPoint()){let u=t.x,c=t.y,f=t.z;for(;t.nextPoint();){const h=t.x,p=t.y,m=t.z;n[0]=u,n[1]=c,s[0]=h,s[1]=p,e&&(n[2]=f,s[2]=m);const R=$t(n,s);if(R){r+=R;const g=ce(n,s);l+=R*g[0],i+=R*g[1],e&&g.length>2&&(o+=R*g[2])}u=h,c=p,f=m}}return r>0?e?[l/r,i/r,o/r]:[l/r,i/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const En=1e-6;function ks(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<En){const r=Mn(t);return r?[r[0],r[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const s=[t.x,t.y];for(t.reset();t.nextPath();)Nn(n,s,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=s[0],n[1]+=s[1],n}const xn=1/3;function Nn(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const s=n.x,r=n.y;n.nextPoint();let l,i=n.x-s,o=n.y-r,u=0,c=0;for(;n.nextPoint();)u=n.x-s,c=n.y-r,l=.5*xn*(u*o-c*i),t[0]+=l*(i+u),t[1]+=l*(o+c),i=u,o=c;const f=n.getCurrentRingArea(),h=[s,r];return h[0]-=e[0],h[1]-=e[1],h[0]*=f,h[1]*=f,t[0]+=h[0],t[1]+=h[1],t}function me(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function ge(t){return t.points!==void 0}function Re(t){return t.x!==void 0&&t.y!==void 0}function ye(t){return t.paths!==void 0}function Pe(t){return t.rings!==void 0}function _e(t){function e(n,s){return n==null?s:s==null?n:t(n,s)}return e}const k=_e(Math.min),H=_e(Math.max);function Hs(t,e){return ye(e)?rt(t,e.paths,!1,!1):Pe(e)?rt(t,e.rings,!1,!1):ge(e)?Zt(t,e.points,!1,!1,!1,!1):me(e)?Se(t,e):(Re(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function js(t){let e,n,s,r;for(t.reset(),e=s=1/0,n=r=-1/0;t.nextPath();){const l=In(t);e=Math.min(l[0],e),s=Math.min(l[1],s),n=Math.max(l[2],n),r=Math.max(l[3],r)}return ae([e,s,n,r])}function In(t){let e,n,s,r;for(e=s=1/0,n=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),s=Math.min(t.y,s),n=Math.max(t.x,n),r=Math.max(t.y,r);return ae([e,s,n,r])}function bs(t,e){return ye(e)?rt(t,e.paths,!0,!1):Pe(e)?rt(t,e.rings,!0,!1):ge(e)?Zt(t,e.points,!0,!1,!0,!1):me(e)?Se(t,e,!0,!1,!0,!1):(Re(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function rt(t,e,n,s){const r=n?3:2;if(!e.length||!e[0].length)return null;let l,i,o,u,[c,f]=e[0][0],[h,p]=e[0][0];for(let m=0;m<e.length;m++){const R=e[m];for(let g=0;g<R.length;g++){const y=R[g],[S,P]=y;if(c=k(c,S),f=k(f,P),h=H(h,S),p=H(p,P),n&&y.length>2){const M=y[2];l=k(l,M),i=H(i,M)}if(s&&y.length>r){const M=y[r];o=k(l,M),u=H(i,M)}}}return n?s?(t[0]=c,t[1]=f,t[2]=l,t[3]=o,t[4]=h,t[5]=p,t[6]=i,t[7]=u,t.length=8,t):(t[0]=c,t[1]=f,t[2]=l,t[3]=h,t[4]=p,t[5]=i,t.length=6,t):s?(t[0]=c,t[1]=f,t[2]=o,t[3]=h,t[4]=p,t[5]=u,t.length=6,t):(t[0]=c,t[1]=f,t[2]=h,t[3]=p,t.length=4,t)}function Se(t,e,n,s,r,l){const i=e.xmin,o=e.xmax,u=e.ymin,c=e.ymax;let f=e.zmin,h=e.zmax,p=e.mmin,m=e.mmax;return r?(f=f||0,h=h||0,l?(p=p||0,m=m||0,t[0]=i,t[1]=u,t[2]=f,t[3]=p,t[4]=o,t[5]=c,t[6]=h,t[7]=m,t):(t[0]=i,t[1]=u,t[2]=f,t[3]=o,t[4]=c,t[5]=h,t)):l?(p=p||0,m=m||0,t[0]=i,t[1]=u,t[2]=p,t[3]=o,t[4]=c,t[5]=m,t):(t[0]=i,t[1]=u,t[2]=o,t[3]=c,t)}function Zt(t,e,n,s,r,l){const i=n?3:2,o=s&&l,u=n&&r;if(!e.length||!e[0].length)return null;let c,f,h,p,[m,R]=e[0],[g,y]=e[0];for(let S=0;S<e.length;S++){const P=e[S],[M,I]=P;if(m=k(m,M),R=k(R,I),g=H(g,M),y=H(y,I),u&&P.length>2){const C=P[2];c=k(c,C),f=H(f,C)}if(o&&P.length>i){const C=P[i];h=k(c,C),p=H(f,C)}}return r?(c=c||0,f=f||0,l?(h=h||0,p=p||0,t[0]=m,t[1]=R,t[2]=c,t[3]=h,t[4]=g,t[5]=y,t[6]=f,t[7]=p,t):(t[0]=m,t[1]=R,t[2]=c,t[3]=g,t[4]=y,t[5]=f,t)):l?(h=h||0,p=p||0,t[0]=m,t[1]=R,t[2]=h,t[3]=g,t[4]=y,t[5]=p,t):(t[0]=m,t[1]=R,t[2]=g,t[3]=y,t)}function $n(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function On(t){return t.points!==void 0}function vn(t){return t.x!==void 0&&t.y!==void 0}function wn(t){return t.paths!==void 0}function Gn(t){return t.rings!==void 0}const kt=[];function de(t,e,n,s){return{xmin:t,ymin:e,xmax:n,ymax:s}}function Ce(t,e,n,s,r,l){return{xmin:t,ymin:e,zmin:n,xmax:s,ymax:r,zmax:l}}function Me(t,e,n,s,r,l){return{xmin:t,ymin:e,mmin:n,xmax:s,ymax:r,mmax:l}}function Ae(t,e,n,s,r,l,i,o){return{xmin:t,ymin:e,zmin:n,mmin:s,xmax:r,ymax:l,zmax:i,mmax:o}}function Ht(t,e=!1,n=!1){return e?n?Ae(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):Ce(t[0],t[1],t[2],t[3],t[4],t[5]):n?Me(t[0],t[1],t[2],t[3],t[4],t[5]):de(t[0],t[1],t[2],t[3])}function Us(t){return t?$n(t)?t:vn(t)?Tn(t):Gn(t)?Ee(t):wn(t)?xe(t):On(t)?Ln(t):null:null}function Ln(t){const{hasZ:e,hasM:n,points:s}=t;return Ht(Zt(kt,s,e??!1,n??!1),e,n)}function Tn(t){const{x:e,y:n,z:s,m:r}=t,l=r!=null;return s!=null?l?Ae(e,n,s,r,e,n,s,r):Ce(e,n,s,e,n,s):l?Me(e,n,r,e,n,r):de(e,n,e,n)}function Ee(t){const{hasZ:e,hasM:n,rings:s}=t,r=rt(kt,s,e??!1,n??!1);return r?Ht(r,e,n):null}function xe(t){const{hasZ:e,hasM:n,paths:s}=t,r=rt(kt,s,e??!1,n??!1);return r?Ht(r,e,n):null}var Ct;function Dt(t){return!Array.isArray(t[0])}function Wn(t){return typeof t[0]?.[0]=="number"}function Fn(t){if(!t)return;let{rings:e,hasM:n,hasZ:s,spatialReference:r}=t;switch(e??=[],Wn(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,n??=!0;break;case 3:s??=n!==!0,n??=!s;break;default:s??=!1,n??=!1}return r??=ct.WGS84,{...t,hasM:n,hasZ:s,rings:e,spatialReference:r}}let N=Ct=class extends Ft{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let s=!1,r=!1;for(const i of e)i.hasZ&&(s=!0),i.hasM&&(r=!0);const l={rings:e.map((i=>{const o=[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]];if(s&&i.hasZ){const u=i.zmin+.5*(i.zmax-i.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(r&&i.hasM){const u=i.mmin+.5*(i.mmax-i.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o})),spatialReference:n};return s&&(l.hasZ=!0),r&&(l.hasM=!0),new Ct(l)}constructor(t){super(Fn(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Sn(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new E;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=G(t)}get extent(){const t=Ee(this),{spatialReference:e}=this;return t?new It({...t,spatialReference:e}):null}get isSelfIntersecting(){return Ue(ke.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),be(this.rings)}writeRings(t,e){e.rings=G(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(Dt(t)){const s=[];for(let r=0,l=t.length;r<l;r++)s[r]=t[r].toArray();e[n]=s}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new Ct;return t.spatialReference=this.spatialReference,t.rings=G(this.rings),t.curveRings=G(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const s=([r,l,i,o],[u,c,f,h])=>r===u&&l===c&&(i==null&&f==null||i===f)&&(o==null&&h==null||o===h);for(let r=0;r<this.rings.length;r++){const l=this.rings[r],i=t.rings[r];if(!oe(l,i,s))return!1}return!0}contains(t){if(!t)return!1;const e=Ke(t,this.spatialReference);return qe(this,e??t)}isClockwise(t){const e=Dt(t)?t.map((n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y])):t;return fe(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],s=this.hasZ,r=this.hasM;return s&&!r?new E(n[0],n[1],n[2],void 0,this.spatialReference):r&&!s?new E(n[0],n[1],void 0,n[2],this.spatialReference):s&&r?new E(n[0],n[1],n[2],n[3],this.spatialReference):new E(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(st(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new E(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,s=e.map((r=>new E(r,n)));return this.notifyChange("rings"),s}setPoint(t,e,n){return this._validateInputs(t,e)?(st(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const s=this.rings[t];if(n&&(e<0||e>s.length)||!n&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([x({readOnly:!0})],N.prototype,"cache",null),d([x({readOnly:!0})],N.prototype,"centroid",null),d([x({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],N.prototype,"curveRings",void 0),d([gt("curveRings")],N.prototype,"writeCurveRings",null),d([x({readOnly:!0})],N.prototype,"extent",null),d([x({readOnly:!0})],N.prototype,"isSelfIntersecting",null),d([x({type:[[[Number]]],json:{write:{isRequired:!0}}})],N.prototype,"rings",void 0),d([gt("rings")],N.prototype,"writeRings",null),N=Ct=d([zt("esri.geometry.Polygon")],N),N.prototype.toJSON.isDefaultToJSON=!0;var Tt;function zn(t){return!Array.isArray(t[0])}function Zn(t){return typeof t[0]?.[0]=="number"}function kn(t){if(!t)return;let{paths:e,hasM:n,hasZ:s,spatialReference:r}=t;switch(e??=[],Zn(e)&&(e=[e]),e[0]?.[0]?.length){case 4:s??=!0,n??=!0;break;case 3:s??=n!==!0,n??=!s;break;default:s??=!1,n??=!1}return r??=ct.WGS84,{...t,hasM:n,hasZ:s,paths:e,spatialReference:r}}let w=Tt=class extends Ft{constructor(t){super(kn(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=G(t)}get extent(){const t=xe(this),{spatialReference:e}=this;return t?new It({...t,spatialReference:e}):null}writePaths(t,e){e.paths=G(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(zn(t)){const s=[];for(let r=0,l=t.length;r<l;r++)s[r]=t[r].toArray();e[n]=s}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new Tt;return t.spatialReference=this.spatialReference,t.paths=G(this.paths),t.curvePaths=G(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],s=this.hasZ,r=this.hasM;return s&&!r?new E(n[0],n[1],n[2],void 0,this.spatialReference):r&&!s?new E(n[0],n[1],void 0,n[2],this.spatialReference):s&&r?new E(n[0],n[1],n[2],n[3],this.spatialReference):new E(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(st(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,s=e.map((r=>new E(r,n)));return this.notifyChange("paths"),s}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new E(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(st(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const s=this.paths[t];if(n&&(e<0||e>s.length)||!n&&(e<0||e>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};d([x({readOnly:!0})],w.prototype,"cache",null),d([x({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],w.prototype,"curvePaths",void 0),d([gt("curvePaths")],w.prototype,"writeCurvePaths",null),d([x({readOnly:!0})],w.prototype,"extent",null),d([x({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"paths",void 0),d([gt("paths")],w.prototype,"writePaths",null),w=Tt=d([zt("esri.geometry.Polyline")],w),w.prototype.toJSON.isDefaultToJSON=!0;const Ks=Math.PI/180,qs=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,F=v.radius,$=v.eccentricitySquared,Hn={a1:F*$,a2:F*$*F*$,a3:F*$*$/2,a4:F*$*F*$*2.5,a5:F*$+F*$*$/2,a6:1-$},Bs={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:v.radius,f:v.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Et.radius,f:Et.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:ft.radius,f:ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var a;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(a||(a={}));const jn={[a.WGS84]:{[a.CGCS2000]:_,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:_,[a.SPHERICAL_ECEF]:pt,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Y,[a.PLATE_CARREE]:D,[a.WGS84]:_,[a.WGS84_ECEF]:Q},[a.CGCS2000]:{[a.CGCS2000]:_,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:_,[a.SPHERICAL_ECEF]:pt,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Y,[a.PLATE_CARREE]:D,[a.WGS84]:_,[a.WGS84_ECEF]:Q},[a.GCSMARS2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:_,[a.GCSMOON2000]:null,[a.LON_LAT]:_,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:Qt,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.GCSMOON2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:_,[a.LON_LAT]:_,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:Xt,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.WEB_MERCATOR]:{[a.CGCS2000]:ht,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:ht,[a.SPHERICAL_ECEF]:Un,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:_,[a.PLATE_CARREE]:Bn,[a.WGS84]:ht,[a.WGS84_ECEF]:Kn},[a.WGS84_ECEF]:{[a.CGCS2000]:tt,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:tt,[a.SPHERICAL_ECEF]:ns,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:ss,[a.PLATE_CARREE]:Vn,[a.WGS84]:tt,[a.WGS84_ECEF]:_},[a.SPHERICAL_ECEF]:{[a.CGCS2000]:X,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:X,[a.SPHERICAL_ECEF]:_,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Qn,[a.PLATE_CARREE]:Yn,[a.WGS84]:X,[a.WGS84_ECEF]:ts},[a.SPHERICAL_MARS_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:ee,[a.GCSMOON2000]:null,[a.LON_LAT]:ee,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:_,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.SPHERICAL_MOON_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:te,[a.LON_LAT]:te,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:_,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.UNKNOWN]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:_,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.LON_LAT]:{[a.CGCS2000]:_,[a.GCSMARS2000]:_,[a.GCSMOON2000]:_,[a.LON_LAT]:_,[a.SPHERICAL_ECEF]:pt,[a.SPHERICAL_MARS_PCPF]:Qt,[a.SPHERICAL_MOON_PCPF]:Xt,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Y,[a.PLATE_CARREE]:D,[a.WGS84]:_,[a.WGS84_ECEF]:Q},[a.PLATE_CARREE]:{[a.CGCS2000]:J,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:J,[a.SPHERICAL_ECEF]:Dn,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Jn,[a.PLATE_CARREE]:_,[a.WGS84]:J,[a.WGS84_ECEF]:Xn}};function Ne(t,e){return bn(t,e)?.projector}function bn(t,e){if(t==null||e==null)return null;if(T.source.spatialReference===t&&T.dest.spatialReference===e)return T;const n=Jt(t,T.source),s=Jt(e,T.dest);return n===a.UNKNOWN&&s===a.UNKNOWN?nt(t,e)?T.projector=_:T.projector=null:T.projector=jn[n][s],T}function Jt(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=Be(t,1)),vt(t)?e.spatialReferenceId=a.SPHERICAL_ECEF:wt(t)?e.spatialReferenceId=a.WGS84:Gt(t)?e.spatialReferenceId=a.WEB_MERCATOR:Ve(t)?e.spatialReferenceId=a.PLATE_CARREE:t.wkt===Ye.wkt?e.spatialReferenceId=a.WGS84_ECEF:t.wkid===De.CGCS2000?e.spatialReferenceId=a.CGCS2000:t.wkt===Je.wkt?e.spatialReferenceId=a.SPHERICAL_MARS_PCPF:t.wkt===Xe.wkt?e.spatialReferenceId=a.SPHERICAL_MOON_PCPF:Qe(t)?e.spatialReferenceId=a.GCSMARS2000:tn(t)?e.spatialReferenceId=a.GCSMOON2000:e.spatialReferenceId=a.UNKNOWN):a.UNKNOWN}function _(t,e,n,s){t!==n&&(n[s++]=t[e++],n[s++]=t[e++],n[s]=t[e])}function ht(t,e,n,s){n[s]=at*(t[e]/q),n[s+1]=at*(Ie-2*Math.atan(Math.exp(-t[e+1]/q))),n[s+2]=t[e+2]}function Un(t,e,n,s){const r=t[e]/q,l=Ie-2*Math.atan(Math.exp(-t[e+1]/q)),i=q+t[e+2],o=Math.cos(l)*i;n[s]=Math.cos(r)*o,n[s+1]=Math.sin(r)*o,n[s+2]=Math.sin(l)*i}function Kn(t,e,n,s){ht(t,e,n,s),Q(n,s,n,s)}function qn(t,e,n,s,r){const l=.4999999*Math.PI,i=un(it*t[e+1],-l,l),o=Math.sin(i);n[s++]=it*t[e]*r.radius,n[s++]=r.halfSemiMajorAxis*Math.log((1+o)/(1-o)),n[s]=t[e+2]}function Y(t,e,n,s){qn(t,e,n,s,v)}function D(t,e,n,s){n[s]=t[e]*ne,n[s+1]=t[e+1]*ne,n[s+2]=t[e+2]}function J(t,e,n,s){n[s]=t[e]*se,n[s+1]=t[e+1]*se,n[s+2]=t[e+2]}function Bn(t,e,n,s){ht(t,e,n,s),D(n,s,n,s)}function Vn(t,e,n,s){tt(t,e,n,s),D(n,s,n,s)}function Yn(t,e,n,s){X(t,e,n,s),D(n,s,n,s)}function Dn(t,e,n,s){J(t,e,n,s),pt(n,s,n,s)}function Jn(t,e,n,s){J(t,e,n,s),Y(n,s,n,s)}function Xn(t,e,n,s){J(t,e,n,s),Q(n,s,n,s)}function jt(t,e,n,s,r){const l=r+t[e+2],i=it*t[e+1],o=it*t[e],u=Math.cos(i)*l;n[s]=Math.cos(o)*u,n[s+1]=Math.sin(o)*u,n[s+2]=Math.sin(i)*l}function Xt(t,e,n,s){jt(t,e,n,s,Et.radius)}function Qt(t,e,n,s){jt(t,e,n,s,ft.radius)}function pt(t,e,n,s){jt(t,e,n,s,v.radius)}function bt(t,e,n,s,r){const l=t[e],i=t[e+1],o=t[e+2],u=Math.sqrt(l*l+i*i+o*o),c=hn(o/(u===0?1:u)),f=Math.atan2(i,l);n[s++]=at*f,n[s++]=at*c,n[s]=u-r}function te(t,e,n,s){bt(t,e,n,s,Et.radius)}function ee(t,e,n,s){bt(t,e,n,s,ft.radius)}function X(t,e,n,s){bt(t,e,n,s,v.radius)}function Qn(t,e,n,s){X(t,e,n,s),Y(n,s,n,s)}function ts(t,e,n,s){X(t,e,n,s),Q(n,s,n,s)}function es(t,e,n,s,r){const l=it*t[e],i=it*t[e+1],o=t[e+2],u=Math.sin(i),c=Math.cos(i),f=r.radius/Math.sqrt(1-r.eccentricitySquared*u*u);n[s++]=(f+o)*c*Math.cos(l),n[s++]=(f+o)*c*Math.sin(l),n[s++]=(f*(1-r.eccentricitySquared)+o)*u}function Q(t,e,n,s){es(t,e,n,s,v)}function tt(t,e,n,s){const r=Hn,l=t[e],i=t[e+1],o=t[e+2];let u,c,f,h,p,m,R,g,y,S,P,M,I,C,W,U,V,K,L,lt,ot;u=Math.abs(o),c=l*l+i*i,f=Math.sqrt(c),h=c+o*o,p=Math.sqrt(h),lt=Math.atan2(i,l),m=o*o/h,R=c/h,C=r.a2/p,W=r.a3-r.a4/p,R>.3?(g=u/p*(1+R*(r.a1+C+m*W)/p),L=Math.asin(g),S=g*g,y=Math.sqrt(1-S)):(y=f/p*(1-m*(r.a5-C-R*W)/p),L=Math.acos(y),S=1-y*y,g=Math.sqrt(S)),P=1-v.eccentricitySquared*S,M=v.radius/Math.sqrt(P),I=r.a6*M,C=f-M*y,W=u-I*g,V=y*C+g*W,U=y*W-g*C,K=U/(I/P+V),L+=K,ot=V+U*K/2,o<0&&(L=-L),n[s++]=at*lt,n[s++]=at*L,n[s]=ot}function ns(t,e,n,s){tt(t,e,n,s),pt(n,s,n,s)}function ss(t,e,n,s){tt(t,e,n,s),Y(n,s,n,s)}const T={source:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},projector:_},it=fn(1),at=cn(1),Ie=.5*Math.PI,q=v.radius,ne=q*Math.PI/180,se=180/(q*Math.PI);function Pt(t,e,n,s,r,l,i=Math.floor(t.length/3)){const o=Ne(e,r);if(o==null)return!1;if(o===_){if(t===s&&n===l)return!0;const c=n+3*i;for(let f=n,h=l;f<c;f++,h++)s[h]=t[f];return!0}const u=n+3*i;for(let c=n,f=l;c<u;c+=3,f+=3)o(t,c,s,f);return!0}const Vs=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Pt},Symbol.toStringTag,{value:"Module"}));function re(t,e,n,s,r,l){return St[0]=t,St[1]=e,St[2]=n,Pt(St,s,0,r,l,0)}const St=le();let dt=0;class et{static fromGE(e){const n=new et;return n._wkt=e.wkt,n._wkid=e.wkid,n._isInverse=e.isInverse,n}constructor(e){this.uid=dt++,e?(this._wkt=e.wkt!=null?e.wkt:null,this._wkid=e.wkid!=null?e.wkid:-1,this._isInverse=e.isInverse!=null&&e.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=dt++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=dt++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=dt++}getInverse(){const e=new et;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let Nt=class ut{static cacheKey(e,n){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}static fromGE(e){const n=new ut;let s="";for(const r of e.steps){const l=et.fromGE(r);n.steps.push(l),s+=l.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=s,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const n of e.steps)n instanceof et?this.steps.push(n):this.steps.push(new et({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}getInverse(){const e=new ut;e.steps=[];for(let n=this.steps.length-1;n>=0;n--){const s=this.steps[n];e.steps.push(s.getInverse())}return e}getGTListEntry(){let e="";for(const n of this.steps)e+=n.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,n,s){this._cachedProjection[ut.cacheKey(e,n)]=s}getCachedGeTransformation(e,n){let s="";for(const l of this.steps)s+=l.uid.toString()+",";s!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=s);const r=this._cachedProjection[ut.cacheKey(e,n)];return r===void 0?null:r}};function rs(t,e,n){if(e==null||n==null||n.vcsWkid||nt(e,n)||j(e)||j(n))return null;const s=qt(e)/qt(n);if(s===1)return null;switch(t){case"point":case"esriGeometryPoint":return r=>is(r,s);case"polyline":case"esriGeometryPolyline":return r=>ls(r,s);case"polygon":case"esriGeometryPolygon":return r=>as(r,s);case"multipoint":case"esriGeometryMultipoint":return r=>os(r,s);case"extent":case"esriGeometryEnvelope":return r=>us(r,s);default:return null}}function is(t,e){t?.z!=null&&(t.z*=e)}function as(t,e){if(t)for(const n of t.rings)for(const s of n)s.length>2&&(s[2]*=e)}function ls(t,e){if(t)for(const n of t.paths)for(const s of n)s.length>2&&(s[2]*=e)}function os(t,e){if(t)for(const n of t.points)n.length>2&&(n[2]*=e)}function us(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let O=null,b=null,mt=null,Mt={};const Ut=new on;function _t(){return!!O&&ln()}function $e(){return!!_t()||(ie(Ut),Rt(),!1)}function cs(t,e){return!t||!e||B(t,e)||$e()}function fs(t,e){return!B(t,e)&&!_t()}function Rt(t){return mt==null&&(mt=Promise.all([sn(),Kt(()=>import("./BvIqEAWZ.js"),__vite__mapDeps([0,1]),import.meta.url).then((e=>e.g)),Kt(()=>import("./B0d42t_b.js"),__vite__mapDeps([2,3,4,5,6,7]),import.meta.url)])),mt.then((([,e,{hydratedAdapter:n}])=>{rn(t),b=n,O=e.default,O._enableProjection(an),Ut.notify()}))}function Oe(t,e,n=null,s=null){return Array.isArray(t)?t.length===0?[]:(en(t),Wt(b,t,t[0].spatialReference,e,n,s)):(nn(t),Wt(b,[t],t.spatialReference,e,n,s)[0])}function Wt(t,e,n,s,r=null,l=null){if(n==null||s==null)return e;if(B(n,s,r))return e.map((i=>At(i,n,s)));if(r==null&&vt(n))return e.map((i=>At(i,n,ct.WGS84))).map((i=>yt(i,s)));if(r==null&&vt(s))return e.map((i=>yt(i,ct.WGS84))).map((i=>At(i,ct.WGS84,s)));if(r==null){const i=Nt.cacheKey(n,s);Mt[i]!==void 0?r=Mt[i]:((r=we(n,s,void 0))==null&&(r=new Nt),Mt[i]=r)}if(O==null||t==null)throw new Ot;return l!=null?O._project(t,e,n,s,r,l):O._project(t,e,n,s,r)}function hs(t,e){const n=ve([t],e);return n.pending!=null?{pending:n.pending,geometry:null}:n.geometries!=null?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function ve(t,e){if(!_t()){for(const n of t)if(n!=null&&!nt(n.spatialReference,e)&&Z(n.spatialReference)&&Z(e)&&!B(n.spatialReference,e))return ie(Ut),{pending:Rt(),geometries:null}}return{pending:null,geometries:t.map((n=>n==null?null:nt(n.spatialReference,e)?n:Z(n.spatialReference)&&Z(e)?yt(n,e):null))}}function we(t,e,n=null){if(t==null||e==null)return null;if(O==null||b==null)throw new Ot;const s=O._getTransformation(b,t,e,n,n?.spatialReference);return s!==null?Nt.fromGE(s):null}function ps(t,e,n=null){if(O==null||b==null)throw new Ot;const s=O._getTransformationBySuitability(b,t,e,n,n?.spatialReference);if(s!==null){const r=[];for(const l of s)r.push(Nt.fromGE(l));return r}return[]}class Ot extends He{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function ms(){O=null,b=null,mt=null,Mt={}}const gs={get loadPromise(){return mt}};function yt(t,e){try{const n=Oe(t,e);if(n==null)return null;"xmin"in t&&"xmin"in n&&(n.zmin=t.zmin,n.zmax=t.zmax);const s=rs(n.type,t.spatialReference,e);return s?.(n),n}catch(n){if(!(n instanceof Ot))throw n;return null}}async function Rs(t,e,n){const s=t.spatialReference;return s!=null&&e!=null&&await Ge(s,e,null,n),yt(t,e)}function B(t,e,n){return!n&&(!!nt(t,e)||Z(t)&&Z(e)&&!!Ne(t,e))}function ys(t,e){if(nt(t,e))return!0;if(!Z(t)||!Z(e))return!1;const n=wt(t)||Gt(t)||Vt(t),s=wt(e)||Gt(e)||Vt(e);return n&&s}async function Ge(t,e,n,s){if(_t())return Bt(s);if(Array.isArray(t)){for(const{source:r,dest:l,geographicTransformation:i}of t)if(r&&l&&!B(r,l,i))return Rt(s)}else if(t&&e&&!B(t,e,n))return Rt(s);return Bt(s)}function At(t,e,n){return t?"x"in t?Le(t,e,new E,n,0):"xmin"in t?ze(t,e,new It,n,0):"rings"in t?Fe(t,e,new N,n,0):"paths"in t?We(t,e,new w,n,0):"points"in t?Te(t,e,new z,n,0):null:null}function Ps(t,e,n=e.spatialReference,s=0){return n!=null&&t.spatialReference!=null&&Le(t,t.spatialReference,e,n,s)!=null}function Le(t,e,n,s,r){A[0]=t.x,A[1]=t.y;const l=t.z;return A[2]=l!==void 0?l:r,Pt(A,e,0,A,s,0)?(n.x=A[0],n.y=A[1],n.spatialReference=s,l!==void 0||j(s)?(n.z=A[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),t.m===void 0?(n.m=void 0,n.hasM=!1):(n.m=t.m,n.hasM=!0),n):null}function _s(t,e,n=e.spatialReference,s=0){return t.spatialReference!=null&&n!=null&&Te(t,t.spatialReference,e,n,s)!=null}function Te(t,e,n,s,r){const{points:l,hasZ:i,hasM:o}=t,u=[],c=l.length,f=[];for(const p of l)f.push(p[0],p[1],i?p[2]:r);if(!Pt(f,e,0,f,s,0,c))return null;const h=i||j(s);for(let p=0;p<c;++p){const m=3*p,R=f[m],g=f[m+1];h&&o?u.push([R,g,f[m+2],l[p][3]]):h?u.push([R,g,f[m+2]]):o?u.push([R,g,l[p][2]]):u.push([R,g])}return n.points=u,n.spatialReference=s,n.hasZ=i,n.hasM=o,n}function Ss(t,e,n=e.spatialReference,s=0){return t.spatialReference!=null&&n!=null&&We(t,t.spatialReference,e,n,s)!=null}function We(t,e,n,s,r){const{paths:l,hasZ:i,hasM:o}=t,u=[];if(!Ze(l,i??!1,o??!1,e,u,s,r))return null;const c=i||j(s);return n.paths=u,n.spatialReference=s,n.hasZ=c,n.hasM=o,n}function ds(t,e,n=e.spatialReference,s=0){return t.spatialReference!=null&&n!=null&&Fe(t,t.spatialReference,e,n,s)!=null}function Fe(t,e,n,s,r){const{rings:l,hasZ:i,hasM:o}=t,u=[];if(!Ze(l,i??!1,o??!1,e,u,s,r))return null;const c=i||j(s);return n.rings=u,n.spatialReference=s,n.hasZ=c,n.hasM=o,n}function Cs(t,e,n=e.spatialReference,s=0){return t.spatialReference!=null&&n!=null&&ze(t,t.spatialReference,e,n,s)!=null}function ze(t,e,n,s,r){const{xmin:l,ymin:i,xmax:o,ymax:u,hasZ:c,hasM:f}=t,h=c?t.zmin:r;if(!re(l,i,h,e,A,s))return null;const p=c||j(s);n.xmin=A[0],n.ymin=A[1],p&&(n.zmin=A[2]);const m=c?t.zmax:r;return re(o,u,m,e,A,s)?(n.xmax=A[0],n.ymax=A[1],p&&(n.zmax=A[2]),f&&(n.mmin=t.mmin,n.mmax=t.mmax),n.spatialReference=s,n):null}function Ze(t,e,n,s,r,l,i=0){const o=new Array;for(const f of t)for(const h of f)o.push(h[0],h[1],e?h[2]:i);if(!Pt(o,s,0,o,l,0))return!1;let u=0;r.length=0;const c=e||j(l);for(const f of t){const h=new Array;for(const p of f)c&&n?h.push([o[u++],o[u++],o[u++],p[3]]):c?h.push([o[u++],o[u++],o[u++]]):n?(h.push([o[u++],o[u++],p[2]]),u++):(h.push([o[u++],o[u++]]),u++);r.push(h)}return!0}const A=le(),Ys=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:B,getTransformation:we,getTransformations:ps,initializeProjection:Ge,isEqualBaseGCS:ys,isLoaded:_t,isLoadedOrLoad:$e,isLoadedOrLoadFor:cs,load:Rt,project:Oe,projectExtent:Cs,projectMany:Wt,projectMultipoint:_s,projectOrLoad:hs,projectOrLoadMany:ve,projectPoint:Ps,projectPolygon:ds,projectPolyline:Ss,projectWithZConversion:Rs,projectWithoutEngine:At,requiresLoad:fs,test:gs,tryProjectWithZConversion:yt,unload:ms},Symbol.toStringTag,{value:"Module"}));export{At as $,Ps as A,Ls as B,Gs as C,dn as D,Fs as E,bn as F,Ne as G,Pn as H,yt as I,$s as J,Rt as K,B as L,Ws as M,ys as N,Oe as O,N as P,Ge as Q,mn as R,js as S,Mn as T,cs as U,Wt as V,In as W,hs as X,ve as Y,Zs as Z,gn as _,Hs as a,ks as a0,qn as a1,Rs as a2,vs as a3,re as a4,bt as a5,Vs as a6,Ys as a7,bs as b,Pt as c,Bs as d,Os as e,Us as f,Rn as g,a as h,Ks as i,jn as j,_t as k,ws as l,z as m,xt as n,rs as o,fe as p,Ts as q,ce as r,ds as s,qs as t,Sn as u,Ee as v,zs as w,rt as x,w as y,we as z};
