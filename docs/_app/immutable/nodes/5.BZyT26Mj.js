import"../chunks/DsnmJJEf.js";import{o as br}from"../chunks/abz7ldbj.js";import{aB as K,v as i,a5 as V,a4 as Pe,aD as I,q as yr,u as ye,aF as ne,D as E,f as T,H as P,ay as W,I as C,a as l,G,aC as w,E as y,J as L,n as ve,aE as be,F as ae}from"../chunks/BiQf5hs2.js";import{a as O,s as he,d as Yt}from"../chunks/DZ07zUo8.js";import{s as mt,a as xr,b as Sr,h as ft,G as Dt,F as zt,T as wr,c as Le,d as kr,e as Y,t as Oe,f as _e,g as Cr,C as De,i as Ir,j as Ar,M as Pr,S as Ze,k as Tr,l as Vr,W as Nr,U as Mr,m as it,n as Er}from"../chunks/DzYWJ3XF.js";import{p as v,r as z,i as H,s as re,c as R}from"../chunks/CGceYaTr.js";import{C as $e,a as Ne,l as ie,o as pt,M as Gr,N as Jt,O as Rr,Q as Fr,A as Lr,U as Or,V as Dr,W as zr,X as Br,v as Hr,x as jr,Y as qr,Z as Ur,_ as Kr,w as Te,d as Wr,y as Be,z as He,B as oe,b as A,F as ee,G as le,n as je,k as Qt,H as $t,$ as Xr,a0 as _t,p as Bt,R as Zr,K as te,I as bt,L as Yr,a1 as er,a2 as qe,a3 as vt,q as Jr}from"../chunks/Ow1_tztM.js";import{b as Je}from"../chunks/DWaPUN1f.js";import{T as tr}from"../chunks/CstnqTdL.js";function Qr(d,e){let t=d.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function $r(d,e){let t=d.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function rr(d){if(typeof CSS<"u"&&typeof CSS.escape=="function")return CSS.escape(d);const e=d.length;let t=-1,r,s="";const a=d.charCodeAt(0);if(e===1&&a===45)return"\\"+d;for(;++t<e;){if(r=d.charCodeAt(t),r===0){s+="ï¿½";continue}if(r>=1&&r<=31||r===127||t===0&&r>=48&&r<=57||t===1&&r>=48&&r<=57&&a===45){s+="\\"+r.toString(16)+" ";continue}if(r>=128||r===45||r===95||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122){s+=d.charAt(t);continue}s+="\\"+d.charAt(t)}return s}const Ae="data-value",de=pt({component:"command",parts:["root","list","input","separator","loading","empty","group","group-items","group-heading","item","viewport","input-label"]}),Me=de.selector("group"),ot=de.selector("group-items"),Ht=de.selector("group-heading"),sr=de.selector("item"),lt=`${de.selector("item")}:not([aria-disabled="true"])`,ke=new $e("Command.Root"),es=new $e("Command.List"),Ue=new $e("Command.Group"),jt={search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}};class yt{static create(e){return ke.set(new yt(e))}opts;attachment;#e=!1;#t=!0;sortAfterTick=!1;sortAndFilterAfterTick=!1;allItems=new Set;allGroups=new Map;allIds=new Map;#r=K(0);get key(){return i(this.#r)}set key(e){V(this.#r,e,!0)}#s=K(null);get viewportNode(){return i(this.#s)}set viewportNode(e){V(this.#s,e,!0)}#a=K(null);get inputNode(){return i(this.#a)}set inputNode(e){V(this.#a,e,!0)}#n=K(null);get labelNode(){return i(this.#n)}set labelNode(e){V(this.#n,e,!0)}#o=K(jt);get commandState(){return i(this.#o)}set commandState(e){V(this.#o,e)}#l=K(Pe(jt));get _commandState(){return i(this.#l)}set _commandState(e){V(this.#l,e,!0)}#k(){return mt(this._commandState)}#f(){this.#e||(this.#e=!0,Ne(()=>{this.#e=!1;const e=this.#k();!Object.is(this.commandState,e)&&(this.commandState=e,this.opts.onStateChange?.current?.(e))}))}setState(e,t,r){Object.is(this._commandState[e],t)||(this._commandState[e]=t,e==="search"?(this.#m(),this.#v()):e==="value"&&(r||this.#C()),this.#f())}constructor(e){this.opts=e,this.attachment=ie(this.opts.ref);const t={...this._commandState,value:this.opts.value.current??""};this._commandState=t,this.commandState=t,this.onkeydown=this.onkeydown.bind(this)}#p(e,t){const r=this.opts.filter.current??nr;return e?r(e,this._commandState.search,t):0}#v(){if(!this._commandState.search||this.opts.shouldFilter.current===!1){this.#g();return}const e=this._commandState.filtered.items,t=[];for(const n of this._commandState.filtered.groups){const o=this.allGroups.get(n);let c=0;if(!o){t.push([n,c]);continue}for(const u of o){const m=e.get(u);c=Math.max(m??0,c)}t.push([n,c])}const r=this.viewportNode,s=this.getValidItems().sort((n,o)=>{const c=n.getAttribute("data-value"),u=o.getAttribute("data-value"),m=e.get(c)??0;return(e.get(u)??0)-m});for(const n of s){const o=n.closest(ot);if(o){const c=n.parentElement===o?n:n.closest(`${ot} > *`);c&&o.appendChild(c)}else{const c=n.parentElement===r?n:n.closest(`${ot} > *`);c&&r?.appendChild(c)}}const a=t.sort((n,o)=>o[1]-n[1]);for(const n of a){const o=r?.querySelector(`${Me}[${Ae}="${rr(n[0])}"]`);o?.parentElement?.appendChild(o)}this.#g()}setValue(e,t){e!==this.opts.value.current&&e===""&&Ne(()=>{this.key++}),this.setState("value",e,t),this.opts.value.current=e}#g(){Ne(()=>{const t=this.getValidItems().find(s=>s.getAttribute("aria-disabled")!=="true")?.getAttribute(Ae),r=this.#t&&this.opts.disableInitialScroll.current;this.setValue(t??"",r),this.#t=!1})}#m(){if(!this._commandState.search||this.opts.shouldFilter.current===!1){this._commandState.filtered.count=this.allItems.size;return}this._commandState.filtered.groups=new Set;let e=0;for(const t of this.allItems){const r=this.allIds.get(t)?.value??"",s=this.allIds.get(t)?.keywords??[],a=this.#p(r,s);this._commandState.filtered.items.set(t,a),a>0&&e++}for(const[t,r]of this.allGroups)for(const s of r){const a=this._commandState.filtered.items.get(s);if(a&&a>0){this._commandState.filtered.groups.add(t);break}}this._commandState.filtered.count=e}getValidItems(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(lt)).filter(r=>!!r):[]}getVisibleItems(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(sr)).filter(r=>!!r):[]}get itemsGrid(){if(!this.isGrid)return[];const e=this.opts.columns.current??1,t=this.getVisibleItems(),r=[[]];let s=t[0]?.getAttribute("data-group"),a=0,n=0;for(let o=0;o<t.length;o++){const c=t[o],u=c?.getAttribute("data-group");s!==u?(s=u,a=1,n++,r.push([{index:o,firstRowOfGroup:!0,ref:c}])):(a++,a>e&&(n++,a=1,r.push([])),r[n]?.push({index:o,firstRowOfGroup:r[n]?.[0]?.firstRowOfGroup??o===0,ref:c}))}return r}#i(){const e=this.opts.ref.current;if(!e)return;const t=e.querySelector(`${lt}[data-selected]`);if(t)return t}#C(){Ne(()=>{const e=this.#i();if(!e)return;const t=e.parentElement?.parentElement;if(t){if(this.isGrid){const r=this.#I(e);if(e.scrollIntoView({block:"nearest"}),r){e?.closest(Me)?.querySelector(Ht)?.scrollIntoView({block:"nearest"});return}}else{const r=Gr(t);if(r&&r.dataset?.value===e.dataset?.value){e?.closest(Me)?.querySelector(Ht)?.scrollIntoView({block:"nearest"});return}}e.scrollIntoView({block:"nearest"})}})}#I(e){const t=this.itemsGrid;if(t.length===0)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(s!==void 0)for(let a=0;a<s.length;a++){const n=s[a];if(!(n===void 0||n.ref!==e))return n.firstRowOfGroup}}return!1}updateSelectedToIndex(e){const t=this.getValidItems()[e];t&&this.setValue(t.getAttribute(Ae)??"")}updateSelectedByItem(e){const t=this.#i(),r=this.getValidItems(),s=r.findIndex(n=>n===t);let a=r[s+e];this.opts.loop.current&&(a=s+e<0?r[r.length-1]:s+e===r.length?r[0]:r[s+e]),a&&this.setValue(a.getAttribute(Ae)??"")}updateSelectedByGroup(e){let r=this.#i()?.closest(Me),s;for(;r&&!s;)r=e>0?Qr(r,Me):$r(r,Me),s=r?.querySelector(lt);s?this.setValue(s.getAttribute(Ae)??""):this.updateSelectedByItem(e)}registerValue(e,t){return e&&e===this.allIds.get(e)?.value||this.allIds.set(e,{value:e,keywords:t}),this._commandState.filtered.items.set(e,this.#p(e,t)),this.sortAfterTick||(this.sortAfterTick=!0,Ne(()=>{this.#v(),this.sortAfterTick=!1})),()=>{this.allIds.delete(e)}}registerItem(e,t){return this.allItems.add(e),t&&(this.allGroups.has(t)?this.allGroups.get(t).add(e):this.allGroups.set(t,new Set([e]))),this.sortAndFilterAfterTick||(this.sortAndFilterAfterTick=!0,Ne(()=>{this.#m(),this.#v(),this.sortAndFilterAfterTick=!1})),this.#f(),()=>{const r=this.#i();this.allItems.delete(e),this.commandState.filtered.items.delete(e),this.#m(),r?.getAttribute("id")===e&&this.#g(),this.#f()}}registerGroup(e){return this.allGroups.has(e)||this.allGroups.set(e,new Set),()=>{this.allIds.delete(e),this.allGroups.delete(e)}}get isGrid(){return this.opts.columns.current!==null}#_(){return this.updateSelectedToIndex(this.getValidItems().length-1)}#d(e){e.preventDefault(),e.metaKey?this.#_():e.altKey?this.updateSelectedByGroup(1):this.updateSelectedByItem(1)}#b(e){this.opts.columns.current!==null&&(e.preventDefault(),e.metaKey?this.updateSelectedByGroup(1):this.updateSelectedByItem(this.#A(e)))}#y(e,t){if(t.length===0)return null;for(let r=0;r<t.length;r++){const s=t[r];if(s!==void 0)for(let a=0;a<s.length;a++){const n=s[a];if(!(n===void 0||n.ref!==e))return{columnIndex:a,rowIndex:r}}}return null}#A(e){const t=this.itemsGrid,r=this.#i();if(!r)return 0;const s=this.#y(r,t);if(!s)return 0;let a=null;const n=e.altKey?1:0;if(e.altKey&&s.rowIndex===t.length-2&&!this.opts.loop.current)a=this.#c({start:t.length-1,end:t.length,expectedColumnIndex:s.columnIndex,grid:t});else if(s.rowIndex===t.length-1){if(!this.opts.loop.current)return 0;a=this.#c({start:0+n,end:s.rowIndex,expectedColumnIndex:s.columnIndex,grid:t})}else a=this.#c({start:s.rowIndex+1+n,end:t.length,expectedColumnIndex:s.columnIndex,grid:t}),a===null&&this.opts.loop.current&&(a=this.#c({start:0,end:s.rowIndex,expectedColumnIndex:s.columnIndex,grid:t}));return this.#x(r,a)}#c({start:e,end:t,grid:r,expectedColumnIndex:s}){let a=null;for(let n=e;n<t;n++){const o=r[n];if(a=o[s]?.ref??null,a!==null&&Ye(a)){a=null;continue}if(a===null)for(let c=o.length-1;c>=0;c--){const u=o[o.length-1];if(!(u===void 0||Ye(u.ref))){a=u.ref;break}}break}return a}#x(e,t){if(t===null)return 0;const r=this.getValidItems(),s=r.findIndex(n=>n===e);return r.findIndex(n=>n===t)-s}#S(e){this.opts.columns.current!==null&&(e.preventDefault(),e.metaKey?this.updateSelectedByGroup(-1):this.updateSelectedByItem(this.#P(e)))}#P(e){const t=this.itemsGrid,r=this.#i();if(r===void 0)return 0;const s=this.#y(r,t);if(s===null)return 0;let a=null;const n=e.altKey?1:0;if(e.altKey&&s.rowIndex===1&&this.opts.loop.current===!1)a=this.#u({start:0,end:0,expectedColumnIndex:s.columnIndex,grid:t});else if(s.rowIndex===0){if(this.opts.loop.current===!1)return 0;a=this.#u({start:t.length-1-n,end:s.rowIndex+1,expectedColumnIndex:s.columnIndex,grid:t})}else a=this.#u({start:s.rowIndex-1-n,end:0,expectedColumnIndex:s.columnIndex,grid:t}),a===null&&this.opts.loop.current&&(a=this.#u({start:t.length-1,end:s.rowIndex+1,expectedColumnIndex:s.columnIndex,grid:t}));return this.#x(r,a)}#u({start:e,end:t,grid:r,expectedColumnIndex:s}){let a=null;for(let n=e;n>=t;n--){const o=r[n];if(o!==void 0){if(a=o[s]?.ref??null,a!==null&&Ye(a)){a=null;continue}if(a===null)for(let c=o.length-1;c>=0;c--){const u=o[o.length-1];if(!(u===void 0||Ye(u.ref))){a=u.ref;break}}break}}return a}#h(e){e.preventDefault(),e.metaKey?this.updateSelectedToIndex(0):e.altKey?this.updateSelectedByGroup(-1):this.updateSelectedByItem(-1)}onkeydown(e){const t=this.opts.vimBindings.current&&e.ctrlKey;switch(e.key){case Kr:case Ur:{t&&(this.isGrid?this.#b(e):this.#d(e));break}case qr:{t&&this.isGrid&&this.#d(e);break}case jr:this.isGrid?this.#b(e):this.#d(e);break;case Hr:if(!this.isGrid)break;this.#d(e);break;case Br:case zr:{t&&(this.isGrid?this.#S(e):this.#h(e));break}case Dr:{t&&this.isGrid&&this.#h(e);break}case Or:this.isGrid?this.#S(e):this.#h(e);break;case Lr:if(!this.isGrid)break;this.#h(e);break;case Fr:e.preventDefault(),this.updateSelectedToIndex(0);break;case Rr:e.preventDefault(),this.#_();break;case Jt:if(!e.isComposing&&e.keyCode!==229){e.preventDefault();const r=this.#i();r&&r?.click()}}}#w=I(()=>({id:this.opts.id.current,role:"application",[de.root]:"",tabindex:-1,onkeydown:this.onkeydown,...this.attachment}));get props(){return i(this.#w)}set props(e){V(this.#w,e)}}function Ye(d){return d.getAttribute("aria-disabled")==="true"}class xt{static create(e){return new xt(e,ke.get())}opts;root;attachment;#e=I(()=>this.root._commandState.filtered.count===0&&this.#t===!1||this.opts.forceMount.current);get shouldRender(){return i(this.#e)}set shouldRender(e){V(this.#e,e)}#t=!0;constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref),yr(()=>{this.#t=!1})}#r=I(()=>({id:this.opts.id.current,role:"presentation",[de.empty]:"",...this.attachment}));get props(){return i(this.#r)}set props(e){V(this.#r,e)}}class St{static create(e){return Ue.set(new St(e,ke.get()))}opts;root;attachment;#e=I(()=>this.opts.forceMount.current||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search?!0:this.root._commandState.filtered.groups.has(this.trueValue));get shouldRender(){return i(this.#e)}set shouldRender(e){V(this.#e,e)}#t=K(null);get headingNode(){return i(this.#t)}set headingNode(e){V(this.#t,e,!0)}#r=K("");get trueValue(){return i(this.#r)}set trueValue(e){V(this.#r,e,!0)}constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref),this.trueValue=e.value.current??e.id.current,Te(()=>this.trueValue,()=>this.root.registerGroup(this.trueValue)),ye(()=>this.opts.value.current?(this.trueValue=this.opts.value.current,this.root.registerValue(this.opts.value.current)):this.headingNode&&this.headingNode.textContent?(this.trueValue=this.headingNode.textContent.trim().toLowerCase(),this.root.registerValue(this.trueValue)):(this.trueValue=`-----${this.opts.id.current}`,this.root.registerValue(this.trueValue)))}#s=I(()=>({id:this.opts.id.current,role:"presentation",hidden:this.shouldRender?void 0:!0,"data-value":this.trueValue,[de.group]:"",...this.attachment}));get props(){return i(this.#s)}set props(e){V(this.#s,e)}}class wt{static create(e){return new wt(e,Ue.get())}opts;group;attachment;constructor(e,t){this.opts=e,this.group=t,this.attachment=ie(this.opts.ref,r=>this.group.headingNode=r)}#e=I(()=>({id:this.opts.id.current,[de["group-heading"]]:"",...this.attachment}));get props(){return i(this.#e)}set props(e){V(this.#e,e)}}class kt{static create(e){return new kt(e,Ue.get())}opts;group;attachment;constructor(e,t){this.opts=e,this.group=t,this.attachment=ie(this.opts.ref)}#e=I(()=>({id:this.opts.id.current,role:"group",[de["group-items"]]:"","aria-labelledby":this.group.headingNode?.id??void 0,...this.attachment}));get props(){return i(this.#e)}set props(e){V(this.#e,e)}}class Ct{static create(e){return new Ct(e,ke.get())}opts;root;attachment;#e=I(()=>{const e=this.root.viewportNode?.querySelector(`${sr}[${Ae}="${rr(this.root.opts.value.current)}"]`);if(e!=null)return e.getAttribute("id")??void 0});constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref,r=>this.root.inputNode=r),Te(()=>this.opts.ref.current,()=>{const r=this.opts.ref.current;r&&this.opts.autofocus.current&&Wr(10,()=>r.focus())}),Te(()=>this.opts.value.current,()=>{this.root.commandState.search!==this.opts.value.current&&this.root.setState("search",this.opts.value.current)})}#t=I(()=>({id:this.opts.id.current,type:"text",[de.input]:"",autocomplete:"off",autocorrect:"off",spellcheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":Be(!0),"aria-controls":this.root.viewportNode?.id??void 0,"aria-labelledby":this.root.labelNode?.id??void 0,"aria-activedescendant":i(this.#e),...this.attachment}));get props(){return i(this.#t)}set props(e){V(this.#t,e)}}class It{static create(e){const t=Ue.getOr(null);return new It({...e,group:t},ke.get())}opts;root;attachment;#e=null;#t=I(()=>this.opts.forceMount.current||this.#e?.opts.forceMount.current===!0);#r=I(()=>{if(this.opts.ref.current,i(this.#t)||this.root.opts.shouldFilter.current===!1||!this.root.commandState.search)return!0;const e=this.root.commandState.filtered.items.get(this.trueValue);return e===void 0?!1:e>0});get shouldRender(){return i(this.#r)}set shouldRender(e){V(this.#r,e)}#s=I(()=>this.root.opts.value.current===this.trueValue&&this.trueValue!=="");get isSelected(){return i(this.#s)}set isSelected(e){V(this.#s,e)}#a=K("");get trueValue(){return i(this.#a)}set trueValue(e){V(this.#a,e,!0)}constructor(e,t){this.opts=e,this.root=t,this.#e=Ue.getOr(null),this.trueValue=e.value.current,this.attachment=ie(this.opts.ref),Te([()=>this.trueValue,()=>this.#e?.trueValue,()=>this.opts.forceMount.current],()=>{if(!(this.opts.forceMount.current||!this.trueValue))return this.root.registerItem(this.trueValue,this.#e?.trueValue)}),Te([()=>this.opts.value.current,()=>this.opts.ref.current],()=>{this.opts.value.current?this.trueValue=this.opts.value.current:this.opts.ref.current?.textContent&&(this.trueValue=this.opts.ref.current.textContent.trim()),this.trueValue&&(this.root.registerValue(this.trueValue,e.keywords.current.map(r=>r.trim())),this.opts.ref.current?.setAttribute(Ae,this.trueValue))}),this.onclick=this.onclick.bind(this),this.onpointermove=this.onpointermove.bind(this)}#n(){this.opts.disabled.current||(this.#o(),this.opts.onSelect?.current())}#o(){this.opts.disabled.current||this.root.setValue(this.trueValue,!0)}onpointermove(e){this.opts.disabled.current||this.root.opts.disablePointerSelection.current||this.#o()}onclick(e){this.opts.disabled.current||this.#n()}#l=I(()=>({id:this.opts.id.current,"aria-disabled":Be(this.opts.disabled.current),"aria-selected":Be(this.isSelected),"data-disabled":He(this.opts.disabled.current),"data-selected":He(this.isSelected),"data-value":this.trueValue,"data-group":this.#e?.trueValue,[de.item]:"",role:"option",onpointermove:this.onpointermove,onclick:this.onclick,...this.attachment}));get props(){return i(this.#l)}set props(e){V(this.#l,e)}}class At{static create(e){return new At(e,ke.get())}opts;root;attachment;#e=I(()=>!this.root._commandState.search||this.opts.forceMount.current);get shouldRender(){return i(this.#e)}set shouldRender(e){V(this.#e,e)}constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref)}#t=I(()=>({id:this.opts.id.current,"aria-hidden":"true",[de.separator]:"",...this.attachment}));get props(){return i(this.#t)}set props(e){V(this.#t,e)}}class Pt{static create(e){return es.set(new Pt(e,ke.get()))}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref)}#e=I(()=>({id:this.opts.id.current,role:"listbox","aria-label":this.opts.ariaLabel.current,[de.list]:"",...this.attachment}));get props(){return i(this.#e)}set props(e){V(this.#e,e)}}class Tt{static create(e){return new Tt(e,ke.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(this.opts.ref,r=>this.root.labelNode=r)}#e=I(()=>({id:this.opts.id.current,[de["input-label"]]:"",for:this.opts.for?.current,style:xr,...this.attachment}));get props(){return i(this.#e)}set props(e){V(this.#e,e)}}var ts=T("<label><!></label>");function rs(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","id","ref","children"]);const n=Tt.create({id:A(()=>r()),ref:A(()=>s(),m=>s(m))}),o=I(()=>le(a,n.props));var c=ts();ee(c,()=>({...i(o)}));var u=P(c);O(u,()=>e.children??W),C(c),l(d,c),G()}var ss=T("<!> <!>",1),as=T("<div><!> <!></div>");function ns(d,e){const t=ne();E(e,!0);const r=F=>{rs(F,{children:(X,Z)=>{ve();var J=be();ae(()=>he(J,f())),l(X,J)},$$slots:{default:!0}})};let s=v(e,"id",19,()=>oe(t)),a=v(e,"ref",15,null),n=v(e,"value",15,""),o=v(e,"onValueChange",3,je),c=v(e,"onStateChange",3,je),u=v(e,"loop",3,!1),m=v(e,"shouldFilter",3,!0),_=v(e,"filter",3,nr),f=v(e,"label",3,""),g=v(e,"vimBindings",3,!0),h=v(e,"disablePointerSelection",3,!1),p=v(e,"disableInitialScroll",3,!1),S=v(e,"columns",3,null),k=z(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","onStateChange","loop","shouldFilter","filter","label","vimBindings","disablePointerSelection","disableInitialScroll","columns","children","child"]);const b=yt.create({id:A(()=>s()),ref:A(()=>a(),F=>a(F)),filter:A(()=>_()),shouldFilter:A(()=>m()),loop:A(()=>u()),value:A(()=>n(),F=>{n()!==F&&(n(F),o()(F))}),vimBindings:A(()=>g()),disablePointerSelection:A(()=>h()),disableInitialScroll:A(()=>p()),onStateChange:A(()=>c()),columns:A(()=>S())}),x=F=>b.updateSelectedToIndex(F),N=F=>b.updateSelectedByGroup(F),D=F=>b.updateSelectedByItem(F),M=()=>b.getValidItems(),B=I(()=>le(k,b.props));var j={updateSelectedToIndex:x,updateSelectedByGroup:N,updateSelectedByItem:D,getValidItems:M},q=w(),U=y(q);{var Q=F=>{var X=ss(),Z=y(X);r(Z);var J=L(Z,2);O(J,()=>e.child,()=>({props:i(B)})),l(F,X)},$=F=>{var X=as();ee(X,()=>({...i(B)}));var Z=P(X);r(Z);var J=L(Z,2);O(J,()=>e.children??W),C(X),l(F,X)};H(U,F=>{e.child?F(Q):F($,!1)})}return l(d,q),G(j)}var is=T("<div><!></div>");function os(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=v(e,"forceMount",3,!1),n=z(e,["$$slots","$$events","$$legacy","id","ref","children","child","forceMount"]);const o=xt.create({id:A(()=>r()),ref:A(()=>s(),f=>s(f)),forceMount:A(()=>a())}),c=I(()=>le(o.props,n));var u=w(),m=y(u);{var _=f=>{var g=w(),h=y(g);{var p=k=>{var b=w(),x=y(b);O(x,()=>e.child,()=>({props:i(c)})),l(k,b)},S=k=>{var b=is();ee(b,()=>({...i(c)}));var x=P(b);O(x,()=>e.children??W),C(b),l(k,b)};H(h,k=>{e.child?k(p):k(S,!1)})}l(f,g)};H(m,f=>{o.shouldRender&&f(_)})}l(d,u),G()}var ls=T("<div><!></div>");function ds(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=v(e,"value",3,""),n=v(e,"forceMount",3,!1),o=z(e,["$$slots","$$events","$$legacy","id","ref","value","forceMount","children","child"]);const c=St.create({id:A(()=>r()),ref:A(()=>s(),h=>s(h)),forceMount:A(()=>n()),value:A(()=>a())}),u=I(()=>le(o,c.props));var m=w(),_=y(m);{var f=h=>{var p=w(),S=y(p);O(S,()=>e.child,()=>({props:i(u)})),l(h,p)},g=h=>{var p=ls();ee(p,()=>({...i(u)}));var S=P(p);O(S,()=>e.children??W),C(p),l(h,p)};H(_,h=>{e.child?h(f):h(g,!1)})}l(d,m),G()}var cs=T("<div><!></div>");function us(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const n=wt.create({id:A(()=>r()),ref:A(()=>s(),f=>s(f))}),o=I(()=>le(a,n.props));var c=w(),u=y(c);{var m=f=>{var g=w(),h=y(g);O(h,()=>e.child,()=>({props:i(o)})),l(f,g)},_=f=>{var g=cs();ee(g,()=>({...i(o)}));var h=P(g);O(h,()=>e.children??W),C(g),l(f,g)};H(u,f=>{e.child?f(m):f(_,!1)})}l(d,c),G()}var hs=T("<div><!></div>"),fs=T('<div style="display: contents;"><!></div>');function vs(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const n=kt.create({id:A(()=>r()),ref:A(()=>s(),f=>s(f))}),o=I(()=>le(a,n.props));var c=fs(),u=P(c);{var m=f=>{var g=w(),h=y(g);O(h,()=>e.child,()=>({props:i(o)})),l(f,g)},_=f=>{var g=hs();ee(g,()=>({...i(o)}));var h=P(g);O(h,()=>e.children??W),C(g),l(f,g)};H(u,f=>{e.child?f(m):f(_,!1)})}C(c),l(d,c),G()}var gs=T("<input/>");function ms(d,e){const t=ne();E(e,!0);let r=v(e,"value",15,""),s=v(e,"autofocus",3,!1),a=v(e,"id",19,()=>oe(t)),n=v(e,"ref",15,null),o=z(e,["$$slots","$$events","$$legacy","value","autofocus","id","ref","child"]);const c=Ct.create({id:A(()=>a()),ref:A(()=>n(),h=>n(h)),value:A(()=>r(),h=>{r(h)}),autofocus:A(()=>s()??!1)}),u=I(()=>le(o,c.props));var m=w(),_=y(m);{var f=h=>{var p=w(),S=y(p);O(S,()=>e.child,()=>({props:i(u)})),l(h,p)},g=h=>{var p=gs();ee(p,()=>({...i(u)}),void 0,void 0,void 0,!0),Sr(p,r),l(h,p)};H(_,h=>{e.child?h(f):h(g,!1)})}l(d,m),G()}var ps=T("<div><!></div>"),_s=T('<div style="display: contents;" data-item-wrapper=""><!></div>');function bs(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=v(e,"value",3,""),n=v(e,"disabled",3,!1),o=v(e,"onSelect",3,je),c=v(e,"forceMount",3,!1),u=v(e,"keywords",19,()=>[]),m=z(e,["$$slots","$$events","$$legacy","id","ref","value","disabled","children","child","onSelect","forceMount","keywords"]);const _=It.create({id:A(()=>r()),ref:A(()=>s(),p=>s(p)),value:A(()=>a()),disabled:A(()=>n()),onSelect:A(()=>o()),forceMount:A(()=>c()),keywords:A(()=>u())}),f=I(()=>le(m,_.props));var g=w(),h=y(g);Qt(h,()=>_.root.key,p=>{var S=_s(),k=P(S);{var b=x=>{var N=w(),D=y(N);{var M=j=>{var q=w(),U=y(q);O(U,()=>e.child,()=>({props:i(f)})),l(j,q)},B=j=>{var q=ps();ee(q,()=>({...i(f)}));var U=P(q);O(U,()=>e.children??W),C(q),l(j,q)};H(D,j=>{e.child?j(M):j(B,!1)})}l(x,N)};H(k,x=>{_.shouldRender&&x(b)})}C(S),ae(()=>$t(S,"data-value",_.trueValue)),l(p,S)}),l(d,g),G()}var ys=T("<div><!></div>");function xs(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","id","ref","child","children","aria-label"]);const n=Pt.create({id:A(()=>r()),ref:A(()=>s(),m=>s(m)),ariaLabel:A(()=>e["aria-label"]??"Suggestions...")}),o=I(()=>le(a,n.props));var c=w(),u=y(c);Qt(u,()=>n.root._commandState.search==="",m=>{var _=w(),f=y(_);{var g=p=>{var S=w(),k=y(S);O(k,()=>e.child,()=>({props:i(o)})),l(p,S)},h=p=>{var S=ys();ee(S,()=>({...i(o)}));var k=P(S);O(k,()=>e.children??W),C(S),l(p,S)};H(f,p=>{e.child?p(g):p(h,!1)})}l(m,_)}),l(d,c),G()}var Ss=T("<div><!></div>");function ws(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=v(e,"forceMount",3,!1),n=z(e,["$$slots","$$events","$$legacy","id","ref","forceMount","children","child"]);const o=At.create({id:A(()=>r()),ref:A(()=>s(),f=>s(f)),forceMount:A(()=>a())}),c=I(()=>le(n,o.props));var u=w(),m=y(u);{var _=f=>{var g=w(),h=y(g);{var p=k=>{var b=w(),x=y(b);O(x,()=>e.child,()=>({props:i(c)})),l(k,b)},S=k=>{var b=Ss();ee(b,()=>({...i(c)}));var x=P(b);O(x,()=>e.children??W),C(b),l(k,b)};H(h,k=>{e.child?k(p):k(S,!1)})}l(f,g)};H(m,f=>{o.shouldRender&&f(_)})}l(d,u),G()}const qt=1,ks=.9,Cs=.8,Is=.17,dt=.1,ct=.999,As=.9999,Ps=.99,Ts=/[\\/_+.#"@[({&]/,Vs=/[\\/_+.#"@[({&]/g,Ns=/[\s-]/,ar=/[\s-]/g;function gt(d,e,t,r,s,a,n){if(a===e.length)return s===d.length?qt:Ps;const o=`${s},${a}`;if(n[o]!==void 0)return n[o];const c=r.charAt(a);let u=t.indexOf(c,s),m=0,_,f,g,h;for(;u>=0;)_=gt(d,e,t,r,u+1,a+1,n),_>m&&(u===s?_*=qt:Ts.test(d.charAt(u-1))?(_*=Cs,g=d.slice(s,u-1).match(Vs),g&&s>0&&(_*=ct**g.length)):Ns.test(d.charAt(u-1))?(_*=ks,h=d.slice(s,u-1).match(ar),h&&s>0&&(_*=ct**h.length)):(_*=Is,s>0&&(_*=ct**(u-s))),d.charAt(u)!==e.charAt(a)&&(_*=As)),(_<dt&&t.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&t.charAt(u-1)!==r.charAt(a))&&(f=gt(d,e,t,r,u+1,a+2,n),f*dt>_&&(_=f*dt)),_>m&&(m=_),u=t.indexOf(c,u+1);return n[o]=m,m}function Ut(d){return d.toLowerCase().replace(ar," ")}function nr(d,e,t){return d=t&&t.length>0?`${`${d} ${t?.join(" ")}`}`:d,gt(d,e,Ut(d),Ut(e),0,0,{})}const Ke=pt({component:"tabs",parts:["root","list","trigger","content"]}),et=new $e("Tabs.Root");class Vt{static create(e){return et.set(new Vt(e))}opts;attachment;rovingFocusGroup;#e=K(Pe([]));get triggerIds(){return i(this.#e)}set triggerIds(e){V(this.#e,e,!0)}valueToTriggerId=new Bt;valueToContentId=new Bt;constructor(e){this.opts=e,this.attachment=ie(e.ref),this.rovingFocusGroup=new Zr({candidateAttr:Ke.trigger,rootNode:this.opts.ref,loop:this.opts.loop,orientation:this.opts.orientation})}registerTrigger(e,t){return this.triggerIds.push(e),this.valueToTriggerId.set(t,e),()=>{this.triggerIds=this.triggerIds.filter(r=>r!==e),this.valueToTriggerId.delete(t)}}registerContent(e,t){return this.valueToContentId.set(t,e),()=>{this.valueToContentId.delete(t)}}setValue(e){this.opts.value.current=e}#t=I(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[Ke.root]:"",...this.attachment}));get props(){return i(this.#t)}set props(e){V(this.#t,e)}}class Nt{static create(e){return new Nt(e,et.get())}opts;root;attachment;#e=I(()=>this.root.opts.disabled.current);constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(e.ref)}#t=I(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":this.root.opts.orientation.current,"data-orientation":this.root.opts.orientation.current,[Ke.list]:"","data-disabled":He(i(this.#e)),...this.attachment}));get props(){return i(this.#t)}set props(e){V(this.#t,e)}}class Mt{static create(e){return new Mt(e,et.get())}opts;root;attachment;#e=K(0);#t=I(()=>this.root.opts.value.current===this.opts.value.current);#r=I(()=>this.opts.disabled.current||this.root.opts.disabled.current);#s=I(()=>this.root.valueToContentId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(e.ref),Te([()=>this.opts.id.current,()=>this.opts.value.current],([r,s])=>this.root.registerTrigger(r,s)),ye(()=>{this.root.triggerIds.length,i(this.#t)||!this.root.opts.value.current?V(this.#e,0):V(this.#e,-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#a(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)}onfocus(e){this.root.opts.activationMode.current!=="automatic"||i(this.#r)||this.#a()}onclick(e){i(this.#r)||this.#a()}onkeydown(e){if(!i(this.#r)){if(e.key===Xr||e.key===Jt){e.preventDefault(),this.#a();return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#n=I(()=>({id:this.opts.id.current,role:"tab","data-state":ir(i(this.#t)),"data-value":this.opts.value.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":He(i(this.#r)),"aria-selected":Be(i(this.#t)),"aria-controls":i(this.#s),[Ke.trigger]:"",disabled:_t(i(this.#r)),tabindex:i(this.#e),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown,...this.attachment}));get props(){return i(this.#n)}set props(e){V(this.#n,e)}}class Et{static create(e){return new Et(e,et.get())}opts;root;attachment;#e=I(()=>this.root.opts.value.current===this.opts.value.current);#t=I(()=>this.root.valueToTriggerId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=ie(e.ref),Te([()=>this.opts.id.current,()=>this.opts.value.current],([r,s])=>this.root.registerContent(r,s))}#r=I(()=>({id:this.opts.id.current,role:"tabpanel",hidden:_t(!i(this.#e)),tabindex:0,"data-value":this.opts.value.current,"data-state":ir(i(this.#e)),"aria-labelledby":i(this.#t),"data-orientation":this.root.opts.orientation.current,[Ke.content]:"",...this.attachment}));get props(){return i(this.#r)}set props(e){V(this.#r,e)}}function ir(d){return d?"active":"inactive"}var Ms=T("<div><!></div>");function Es(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=v(e,"value",15,""),n=v(e,"onValueChange",3,je),o=v(e,"orientation",3,"horizontal"),c=v(e,"loop",3,!0),u=v(e,"activationMode",3,"automatic"),m=v(e,"disabled",3,!1),_=z(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const f=Vt.create({id:A(()=>r()),value:A(()=>a(),b=>{a(b),n()(b)}),orientation:A(()=>o()),loop:A(()=>c()),activationMode:A(()=>u()),disabled:A(()=>m()),ref:A(()=>s(),b=>s(b))}),g=I(()=>le(_,f.props));var h=w(),p=y(h);{var S=b=>{var x=w(),N=y(x);O(N,()=>e.child,()=>({props:i(g)})),l(b,x)},k=b=>{var x=Ms();ee(x,()=>({...i(g)}));var N=P(x);O(N,()=>e.children??W),C(x),l(b,x)};H(p,b=>{e.child?b(S):b(k,!1)})}l(d,h),G()}var Gs=T("<div><!></div>");function Rs(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const n=Et.create({value:A(()=>e.value),id:A(()=>r()),ref:A(()=>s(),f=>s(f))}),o=I(()=>le(a,n.props));var c=w(),u=y(c);{var m=f=>{var g=w(),h=y(g);O(h,()=>e.child,()=>({props:i(o)})),l(f,g)},_=f=>{var g=Gs();ee(g,()=>({...i(o)}));var h=P(g);O(h,()=>e.children??W),C(g),l(f,g)};H(u,f=>{e.child?f(m):f(_,!1)})}l(d,c),G()}var Fs=T("<div><!></div>");function Ls(d,e){const t=ne();E(e,!0);let r=v(e,"id",19,()=>oe(t)),s=v(e,"ref",15,null),a=z(e,["$$slots","$$events","$$legacy","child","children","id","ref"]);const n=Nt.create({id:A(()=>r()),ref:A(()=>s(),f=>s(f))}),o=I(()=>le(a,n.props));var c=w(),u=y(c);{var m=f=>{var g=w(),h=y(g);O(h,()=>e.child,()=>({props:i(o)})),l(f,g)},_=f=>{var g=Fs();ee(g,()=>({...i(o)}));var h=P(g);O(h,()=>e.children??W),C(g),l(f,g)};H(u,f=>{e.child?f(m):f(_,!1)})}l(d,c),G()}var Os=T("<button><!></button>");function Ds(d,e){const t=ne();E(e,!0);let r=v(e,"disabled",3,!1),s=v(e,"id",19,()=>oe(t)),a=v(e,"type",3,"button"),n=v(e,"ref",15,null),o=z(e,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const c=Mt.create({id:A(()=>s()),disabled:A(()=>r()??!1),value:A(()=>e.value),ref:A(()=>n(),h=>n(h))}),u=I(()=>le(o,c.props,{type:a()}));var m=w(),_=y(m);{var f=h=>{var p=w(),S=y(p);O(S,()=>e.child,()=>({props:i(u)})),l(h,p)},g=h=>{var p=Os();ee(p,()=>({...i(u)}));var S=P(p);O(S,()=>e.children??W),C(p),l(h,p)};H(_,h=>{e.child?h(f):h(g,!1)})}l(d,m),G()}const zs=pt({component:"toggle",parts:["root"]});class Gt{static create(e){return new Gt(e)}opts;attachment;constructor(e){this.opts=e,this.attachment=ie(this.opts.ref),this.onclick=this.onclick.bind(this)}onclick(e){this.opts.disabled.current||(this.opts.pressed.current=!this.opts.pressed.current)}#e=I(()=>({pressed:this.opts.pressed.current}));get snippetProps(){return i(this.#e)}set snippetProps(e){V(this.#e,e)}#t=I(()=>({[zs.root]:"",id:this.opts.id.current,"data-disabled":He(this.opts.disabled.current),"aria-pressed":Be(this.opts.pressed.current),"data-state":Bs(this.opts.pressed.current),disabled:_t(this.opts.disabled.current),onclick:this.onclick,...this.attachment}));get props(){return i(this.#t)}set props(e){V(this.#t,e)}}function Bs(d){return d?"on":"off"}var Hs=T("<button><!></button>");function js(d,e){const t=ne();E(e,!0);let r=v(e,"ref",15,null),s=v(e,"id",19,()=>oe(t)),a=v(e,"pressed",15,!1),n=v(e,"onPressedChange",3,je),o=v(e,"disabled",3,!1),c=v(e,"type",3,"button"),u=z(e,["$$slots","$$events","$$legacy","ref","id","pressed","onPressedChange","disabled","type","children","child"]);const m=Gt.create({pressed:A(()=>a(),S=>{a(S),n()(S)}),disabled:A(()=>o()??!1),id:A(()=>s()),ref:A(()=>r(),S=>r(S))}),_=I(()=>le(u,m.props,{type:c()}));var f=w(),g=y(f);{var h=S=>{var k=w(),b=y(k);{let x=I(()=>({props:i(_),...m.snippetProps}));O(b,()=>e.child,()=>i(x))}l(S,k)},p=S=>{var k=Hs();ee(k,()=>({...i(_)}));var b=P(k);O(b,()=>e.children??W,()=>m.snippetProps),C(k),l(S,k)};H(g,S=>{e.child?S(h):S(p,!1)})}l(d,f),G()}var qs=T("<div><!></div>");function ze(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=qs();ee(s,n=>({"data-slot":"card-content",class:n,...r}),[()=>te("px-6",e.class)]);var a=P(s);O(a,()=>e.children??W),C(s),Je(s,n=>t(n),()=>t()),l(d,s),G()}var Us=T("<div><!></div>");function Ks(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=Us();ee(s,n=>({"data-slot":"card-footer",class:n,...r}),[()=>te("[.border-t]:pt-6 flex items-center px-6",e.class)]);var a=P(s);O(a,()=>e.children??W),C(s),Je(s,n=>t(n),()=>t()),l(d,s),G()}class Ws{#e=K(null);get ActiveLayer(){return i(this.#e)}set ActiveLayer(e){V(this.#e,e,!0)}}function Kt(d,e){E(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=z(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m9 18 6-6-6-6"}]];bt(d,re({name:"chevron-right"},()=>t,{get iconNode(){return r},children:(s,a)=>{var n=w(),o=y(n);O(o,()=>e.children??W),l(s,n)},$$slots:{default:!0}})),G()}function Xs(d,e){E(e,!0);let t=v(e,"ref",15,null),r=v(e,"value",15,""),s=z(e,["$$slots","$$events","$$legacy","ref","value","class"]);var a=w(),n=y(a);{let o=I(()=>te("flex flex-col gap-2",e.class));R(n,()=>Es,(c,u)=>{u(c,re({"data-slot":"tabs",get class(){return i(o)}},()=>s,{get ref(){return t()},set ref(m){t(m)},get value(){return r()},set value(m){r(m)}}))})}l(d,a),G()}function ut(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("flex-1 outline-none",e.class));R(a,()=>Rs,(o,c)=>{c(o,re({"data-slot":"tabs-content",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}function Zs(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e.class));R(a,()=>Ls,(o,c)=>{c(o,re({"data-slot":"tabs-list",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}function ht(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e.class));R(a,()=>Ds,(o,c)=>{c(o,re({"data-slot":"tabs-trigger",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}const Ys=tr({base:"hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input shadow-xs hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Js(d,e){E(e,!0);let t=v(e,"ref",15,null),r=v(e,"pressed",15,!1),s=v(e,"size",3,"default"),a=v(e,"variant",3,"default"),n=z(e,["$$slots","$$events","$$legacy","ref","pressed","class","size","variant"]);var o=w(),c=y(o);{let u=I(()=>te(Ys({variant:a(),size:s()}),e.class));R(c,()=>js,(m,_)=>{_(m,re({"data-slot":"toggle",get class(){return i(u)}},()=>n,{get ref(){return t()},set ref(f){t(f)},get pressed(){return r()},set pressed(f){r(f)}}))})}l(d,o),G()}var Qs=T('<div class="flex w-full !items-center !justify-between gap-2"><div class="pointer-events-none !flex min-w-0 flex-1 !items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div>'),$s=T('<button><div class="flex w-full items-center justify-between gap-2"><div class="pointer-events-none flex min-w-0 flex-1 items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div></button>');function Wt(d,e){const t=`calc(100% - ${e.depth*1}rem)`;var r=w(),s=y(r);{var a=o=>{Js(o,{get pressed(){return e.pressed},class:"mb-1 !h-auto !min-h-9 cursor-pointer rounded-md border border-border/30 bg-card/50 p-2 text-left !whitespace-normal transition-colors hover:bg-card/70 data-[state=on]:!bg-accent data-[state=on]:!text-accent-foreground data-[state=on]:hover:!bg-accent data-[state=on]:hover:!text-accent-foreground",variant:"outline",get style(){return`width: ${t};`},get onPressedChange(){return e.onclick},children:(c,u)=>{var m=Qs(),_=P(m),f=P(_),g=P(f);ft(g,()=>e.icon),C(f);var h=L(f,2),p=P(h,!0);C(h),C(_);var S=L(_,2);O(S,()=>e.children??W),C(m),ae(()=>he(p,e.name)),l(c,m)},$$slots:{default:!0}})},n=o=>{var c=$s();c.__click=function(...S){e.onclick?.apply(this,S)};var u=P(c),m=P(u),_=P(m),f=P(_);ft(f,()=>e.icon),C(_);var g=L(_,2),h=P(g,!0);C(g),C(m);var p=L(m,2);O(p,()=>e.children??W),C(u),C(c),ae(()=>{Yr(c,1,`mb-1 cursor-pointer rounded-md border border-border/30 p-2 text-left text-sm font-medium transition-colors hover:bg-card/70 ${e.pressed?"bg-accent text-accent-foreground":"bg-card/50"}`),er(c,`width: ${t};`),he(h,e.name)}),l(o,c)};H(s,o=>{e.isTogglable?o(a):o(n,!1)})}l(d,r)}Yt(["click"]);const ea=(d,e,t,r)=>e?ta(d,t):t?r?'<path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14,2 14,8 20,8"/>',ta=(d,e)=>{switch(d.type){case"group":return Dt;case"feature":return zt;case"tile":return wr;default:return e?Dt:zt}};var ra=T('<div class="ml-4 w-full"></div>'),sa=T('<div class="w-full"><!> <!></div>');function or(d,e){E(e,!0);const t=v(e,"depth",3,0),r=v(e,"useLayerTypeIcon",3,!1),s=!!e.node.layer&&"visible"in e.node.layer,a=!!(e.node.children&&e.node.children.length);let n=K(!1),o=K(!1),c=K("");function u(){return!e.node.children||!e.getNodeVisibility?!1:e.node.children.some(k=>{const b=e.getNodeVisibility(k.id);return b!==void 0?b:k.layer.visible})}ye(()=>{if(e.node){if(a)V(o,u(),!0);else{const k=e.getNodeVisibility?e.getNodeVisibility(e.node.id):void 0;V(o,k!==void 0?k:e.node.layer.visible,!0)}V(c,ea(e.node.layer,r(),a,i(n)),!0)}});function m(){!s||!e.onNodeVisibilityChange||a||(V(o,!i(o)),e.onNodeVisibilityChange(e.node,i(o)))}function _(){a||m(),e.onNodeClick?.(e.node)}function f(){V(n,!i(n)),e.onNodeClick?.(e.node)}var g=w(),h=y(g);{var p=k=>{var b=sa(),x=P(b);Wt(x,{isTogglable:!1,get pressed(){return i(o)},get icon(){return i(c)},get name(){return e.node.name},get depth(){return t()},onclick:f});var N=L(x,2);{var D=M=>{var B=ra();qe(B,21,()=>e.node.children??[],j=>j.id,(j,q)=>{{let U=I(()=>t()+1);or(j,{get node(){return i(q)},get onNodeClick(){return e.onNodeClick},get onNodeVisibilityChange(){return e.onNodeVisibilityChange},get getNodeVisibility(){return e.getNodeVisibility},get depth(){return i(U)},get useLayerTypeIcon(){return r()}})}}),C(B),l(M,B)};H(N,M=>{i(n)&&M(D)})}C(b),l(k,b)},S=k=>{Wt(k,{isTogglable:!0,get pressed(){return i(o)},get icon(){return i(c)},get name(){return e.node.name},get depth(){return t()},onclick:_})};H(h,k=>{a?k(p):k(S,!1)})}l(d,g),G()}function aa(d,e){E(e,!0);const t=v(e,"webMap",3,null),r=v(e,"treeviewConfig",3,null);ye(()=>{if(!t())return;(async()=>{await Le.initializeFromWebMap(t(),r())})()});var s=w(),a=y(s);R(a,()=>kr,(n,o)=>{o(n,{children:(c,u)=>{var m=w(),_=y(m);qe(_,17,()=>Le.layerTree,f=>f.id,(f,g)=>{or(f,{get node(){return i(g)},onNodeClick:()=>{},onNodeVisibilityChange:(h,p)=>Le.handleNodeVisibleToggle(h,p),getNodeVisibility:h=>Le.getNodeVisibility(h),depth:0,useLayerTypeIcon:!0})}),l(c,m)},$$slots:{default:!0}})}),l(d,s),G()}function na(d,e){E(e,!0),ye(()=>{if(!Y.lastAddedArea)return;(async()=>{if(Y.lastAddedArea===null)return;const r=await Y.getAreaNamesById([Y.lastAddedArea.id]);!r||r.length===0||!r[0]||Oe.success(`Area added: ${r?.[0]}`)})()}),ye(()=>{if(!Y.lastRemovedArea)return;(async()=>{if(Y.lastRemovedArea===null)return;const r=await Y.getAreaNamesById([Y.lastRemovedArea.id]);!r||r.length===0||!r[0]||Oe.success(`Area removed: ${r?.[0]}`)})()}),G()}var ia=T("<!> <!> <!> <!> <!>",1),oa=T("<!> <!>",1);function la(d,e){const t=v(e,"value",3,"selection-areas");var r=w(),s=y(r);R(s,()=>Xs,(a,n)=>{n(a,{get value(){return t()},get onValueChange(){return e.onValueChange},class:"w-full",children:(o,c)=>{var u=oa(),m=y(u);R(m,()=>Zs,(f,g)=>{g(f,{class:"tab-list",children:(h,p)=>{var S=ia(),k=y(S);R(k,()=>ht,(M,B)=>{B(M,{value:"define-areas",class:"tab-trigger",children:(j,q)=>{ve();var U=be("Define Areas");l(j,U)},$$slots:{default:!0}})});var b=L(k,2);Kt(b,{class:"separator"});var x=L(b,2);R(x,()=>ht,(M,B)=>{B(M,{value:"select-data",class:"tab-trigger",children:(j,q)=>{ve();var U=be("Select Data");l(j,U)},$$slots:{default:!0}})});var N=L(x,2);Kt(N,{class:"separator"});var D=L(N,2);R(D,()=>ht,(M,B)=>{B(M,{value:"export",class:"tab-trigger",children:(j,q)=>{ve();var U=be("Export");l(j,U)},$$slots:{default:!0}})}),l(h,S)},$$slots:{default:!0}})});var _=L(m,2);O(_,()=>e.children??W),l(o,u)},$$slots:{default:!0}})}),l(d,r)}const Xt=tr({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white",outline:"bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var da=T("<a><!></a>"),ca=T("<button><!></button>");function Qe(d,e){E(e,!0);let t=v(e,"variant",3,"default"),r=v(e,"size",3,"default"),s=v(e,"ref",15,null),a=v(e,"href",3,void 0),n=v(e,"type",3,"button"),o=z(e,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var c=w(),u=y(c);{var m=f=>{var g=da();ee(g,p=>({"data-slot":"button",class:p,href:e.disabled?void 0:a(),"aria-disabled":e.disabled,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,...o}),[()=>te(Xt({variant:t(),size:r()}),e.class)]);var h=P(g);O(h,()=>e.children??W),C(g),Je(g,p=>s(p),()=>s()),l(f,g)},_=f=>{var g=ca();ee(g,p=>({"data-slot":"button",class:p,type:n(),disabled:e.disabled,...o}),[()=>te(Xt({variant:t(),size:r()}),e.class)]);var h=P(g);O(h,()=>e.children??W),C(g),Je(g,p=>s(p),()=>s()),l(f,g)};H(u,f=>{a()?f(m):f(_,!1)})}l(d,c),G()}var ua=T('<li class="area-item svelte-k8qebj"><span class="area-name svelte-k8qebj"> </span> <!></li>'),ha=T('<ul class="selected-list svelte-k8qebj"></ul> <p class="count svelte-k8qebj"> </p>',1),fa=T('<p class="no-selection svelte-k8qebj">No areas selected</p>'),va=T('<li class="data-item svelte-k8qebj"><span class="data-name svelte-k8qebj"> </span> <div class="data-actions svelte-k8qebj"><!> <!></div></li>'),ga=T('<ul class="selected-list svelte-k8qebj"></ul> <p class="count svelte-k8qebj"> </p>',1),ma=T('<p class="no-selection svelte-k8qebj">No data selected</p>'),pa=T('<h2 class="svelte-k8qebj">Export Options</h2> <div class="section svelte-k8qebj"><h3 class="svelte-k8qebj"> </h3> <h4 class="svelte-k8qebj">Selected Areas</h4> <!></div> <div class="section svelte-k8qebj"><h4 class="svelte-k8qebj">Selected Data</h4> <!></div>',1);function _a(d,e){E(e,!0);const t=v(e,"fieldFilterMenuStore",7);let r=K(Pe([]));ye(()=>{if(!Y.layerHighlightState.areaInfos.length){V(r,[],!0);return}(async()=>{const N=await Y.getAreaNamesById(Y.layerHighlightState.areaInfos.map(M=>M.id)),D=[];for(let M=0;M<N.length;M++)D.push({name:N[M]||"Unknown Area",HighlightAreaInfo:Y.layerHighlightState.areaInfos[M]});V(r,D,!0)})()});function s(x){const N=i(r).findIndex(D=>D.name===x);N!==-1&&Y.removeSelectedArea(i(r)[N]?.HighlightAreaInfo.id)}function a(x){console.log("Removing data selection for layerId:",x),_e.DataSelections.delete(x),console.log("Current SelectedData:",mt(_e.DataSelections))}function n(x){t().ActiveLayer?.uid===x?t().ActiveLayer=null:t().ActiveLayer=e.webMapStore.dataLookup.get(x)}function o(x){const N=_e.DataSelections.get(x);return!(!N||!N.fields||N.fields.size===0||N.fields.size===e.webMapStore.dataLookup.get(x).fields?.length)}var c=pa(),u=L(y(c),2),m=P(u),_=P(m,!0);C(m);var f=L(m,4);{var g=x=>{var N=ha(),D=y(N);qe(D,21,()=>i(r),vt,(j,q)=>{var U=ua(),Q=P(U),$=P(Q,!0);C(Q);var F=L(Q,2);Qe(F,{variant:"ghost",size:"sm",class:"area-remove-btn",onclick:()=>s(i(q).name),children:(X,Z)=>{ve();var J=be("Ã");l(X,J)},$$slots:{default:!0}}),C(U),ae(()=>he($,i(q).name)),l(j,U)}),C(D);var M=L(D,2),B=P(M);C(M),ae(()=>he(B,`${i(r).length??""} area(s) selected`)),l(x,N)},h=x=>{var N=fa();l(x,N)};H(f,x=>{i(r).length>0?x(g):x(h,!1)})}C(u);var p=L(u,2),S=L(P(p),2);{var k=x=>{var N=ga(),D=y(N);qe(D,21,()=>[..._e.DataSelections.values()],vt,(j,q)=>{var U=va(),Q=P(U),$=P(Q,!0);C(Q);var F=L(Q,2),X=P(F);{var Z=se=>{Cr(se,{get layerId(){return i(q).layerId},onFilterClicked:n,hasFiltersApplied:o})};H(X,se=>{i(q).fields&&se(Z)})}var J=L(X,2);Qe(J,{variant:"ghost",size:"sm",class:"data-remove-btn",onclick:()=>a(i(q).layerId),children:(se,we)=>{ve();var ce=be("Ã");l(se,ce)},$$slots:{default:!0}}),C(F),C(U),ae(()=>he($,i(q).name)),l(j,U)}),C(D);var M=L(D,2),B=P(M);C(M),ae(()=>he(B,`${_e.DataSelections.size??""} data layer(s) selected`)),l(x,N)},b=x=>{var N=ma();l(x,N)};H(S,x=>{_e.DataSelections.size>0?x(k):x(b,!1)})}C(p),ae(()=>he(_,Le.visibleNode?.layer.title)),l(d,c),G()}var ba=T('<p class="text-sm text-muted-foreground">Click "Export" to begin the download.</p> <!>',1);function ya(d,e){E(e,!0);function t(){if(Y.layerHighlightState.areaInfos.length<=0){Oe.error("Please select at least one area to export.");return}if(_e.DataSelections.size<=0){Oe.error("Please select at least one data layer to export.");return}console.log("Starting export..."),Oe.info("Export started successfully.",{duration:4e3})}var r=ba(),s=L(y(r),2);Qe(s,{onclick:t,children:(a,n)=>{ve();var o=be("Export");l(a,o)},$$slots:{default:!0}}),l(d,r),G()}var xa=T('<p class="text-sm font-medium"> </p>'),Sa=T('<div class="pointer-events-none fixed z-50 transition-opacity duration-200"><!></div>');function wa(d,e){E(e,!0);let t=K(null),r=K(Pe({x:0,y:0}));const s=c=>{V(r,{x:c.clientX,y:c.clientY},!0)};ye(()=>(document.addEventListener("mousemove",s),()=>{document.removeEventListener("mousemove",s)})),ye(()=>{if(!Y.currentHoveredArea){V(t,null);return}(async()=>{if(!Y.currentHoveredArea||Y.currentHoveredArea.id!==Y.currentHoveredArea.id){V(t,null);return}const u=await Y.getAreaNamesById([Y.currentHoveredArea.id]);Y.currentHoveredArea?V(t,u[0]||null,!0):V(t,null)})()});var a=w(),n=y(a);{var o=c=>{var u=Sa(),m=P(u);R(m,()=>De,(_,f)=>{f(_,{class:"max-w-xs border !py-2 shadow-lg",children:(g,h)=>{var p=w(),S=y(p);R(S,()=>ze,(k,b)=>{b(k,{class:"!px-3 !py-0",children:(x,N)=>{var D=xa(),M=P(D,!0);C(D),ae(()=>he(M,i(t))),l(x,D)},$$slots:{default:!0}})}),l(g,p)},$$slots:{default:!0}})}),C(u),ae(()=>er(u,`left: ${i(r).x+10}px; top: ${i(r).y-10}px;`)),l(c,u)};H(n,c=>{i(t)&&c(o)})}l(d,a),G()}function ka(d,e){E(e,!0);let t=v(e,"ref",15,null),r=v(e,"value",15,""),s=z(e,["$$slots","$$events","$$legacy","ref","value","class"]);var a=w(),n=y(a);{let o=I(()=>te("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e.class));R(n,()=>ns,(c,u)=>{u(c,re({"data-slot":"command",get class(){return i(o)}},()=>s,{get value(){return r()},set value(m){r(m)},get ref(){return t()},set ref(m){t(m)}}))})}l(d,a),G()}function Ca(d,e){E(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=z(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];bt(d,re({name:"x"},()=>t,{get iconNode(){return r},children:(s,a)=>{var n=w(),o=y(n);O(o,()=>e.children??W),l(s,n)},$$slots:{default:!0}})),G()}function Ia(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("py-6 text-center text-sm",e.class));R(a,()=>os,(o,c)=>{c(o,re({"data-slot":"command-empty",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}var Aa=T("<!> <!>",1);function Pa(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class","children","heading","value"]);var s=w(),a=y(s);{let n=I(()=>te("text-foreground overflow-hidden p-1",e.class)),o=I(()=>e.value??e.heading??`----${Jr()}`);R(a,()=>ds,(c,u)=>{u(c,re({"data-slot":"command-group",get class(){return i(n)},get value(){return i(o)}},()=>r,{get ref(){return t()},set ref(m){t(m)},children:(m,_)=>{var f=Aa(),g=y(f);{var h=S=>{var k=w(),b=y(k);R(b,()=>us,(x,N)=>{N(x,{class:"text-muted-foreground px-2 py-1.5 text-xs font-medium",children:(D,M)=>{ve();var B=be();ae(()=>he(B,e.heading)),l(D,B)},$$slots:{default:!0}})}),l(S,k)};H(g,S=>{e.heading&&S(h)})}var p=L(g,2);R(p,()=>vs,(S,k)=>{k(S,{get children(){return e.children}})}),l(m,f)},$$slots:{default:!0}}))})}l(d,s),G()}function Ta(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("aria-selected:bg-accent aria-selected:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e.class));R(a,()=>bs,(o,c)=>{c(o,re({"data-slot":"command-item",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}function Va(d,e){E(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=z(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];bt(d,re({name:"search"},()=>t,{get iconNode(){return r},children:(s,a)=>{var n=w(),o=y(n);O(o,()=>e.children??W),l(s,n)},$$slots:{default:!0}})),G()}var Na=T('<div class="flex h-9 items-center gap-2 border-b pl-3 pr-8" data-slot="command-input-wrapper"><!> <!></div>');function Ma(d,e){E(e,!0);let t=v(e,"ref",15,null),r=v(e,"value",15,""),s=z(e,["$$slots","$$events","$$legacy","ref","class","value"]);var a=Na(),n=P(a);Va(n,{class:"size-4 shrink-0 opacity-50"});var o=L(n,2);{let c=I(()=>te("placeholder:text-muted-foreground outline-hidden flex h-10 w-full rounded-md bg-transparent py-3 text-sm disabled:cursor-not-allowed disabled:opacity-50",e.class));R(o,()=>ms,(u,m)=>{m(u,re({"data-slot":"command-input",get class(){return i(c)}},()=>s,{get ref(){return t()},set ref(_){t(_)},get value(){return r()},set value(_){r(_)}}))})}C(a),l(d,a),G()}function Ea(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("scroll-py-1 overflow-x-hidden overflow-y-auto",e.class));R(a,()=>xs,(o,c)=>{c(o,re({"data-slot":"command-list",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}function Ga(d,e){E(e,!0);let t=v(e,"ref",15,null),r=z(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),a=y(s);{let n=I(()=>te("bg-border -mx-1 h-px",e.class));R(a,()=>ws,(o,c)=>{c(o,re({"data-slot":"command-separator",get class(){return i(n)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}l(d,s),G()}var Ra=T('<div data-slot="checkbox-indicator" class="text-current transition-none"><!></div>');function Zt(d,e){E(e,!0);let t=v(e,"ref",15,null),r=v(e,"checked",15,!1),s=v(e,"indeterminate",15,!1),a=z(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var n=w(),o=y(n);{const c=(m,_)=>{let f=()=>_?.().checked,g=()=>_?.().indeterminate;var h=Ra(),p=P(h);{var S=b=>{Ar(b,{class:"size-3.5"})},k=b=>{var x=w(),N=y(x);{var D=M=>{Pr(M,{class:"size-3.5"})};H(N,M=>{g()&&M(D)},!0)}l(b,x)};H(p,b=>{f()?b(S):b(k,!1)})}C(h),l(m,h)};let u=I(()=>te("border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shadow-xs peer flex size-4 shrink-0 items-center justify-center rounded-[4px] border outline-none transition-shadow focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class));R(o,()=>Ir,(m,_)=>{_(m,re({"data-slot":"checkbox",get class(){return i(u)}},()=>a,{get ref(){return t()},set ref(f){t(f)},get checked(){return r()},set checked(f){r(f)},get indeterminate(){return s()},set indeterminate(f){s(f)},children:c,$$slots:{default:!0}}))})}l(d,n),G()}const Fa=`<?xml version="1.0" encoding="utf-8"?>
\r<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\r
  <title>information-circle</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none"/>\r
    </g>\r
    <g id="icons_Q2" data-name="icons Q2">\r
      <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2Zm0,40A18,18,0,1,1,42,24,18.1,18.1,0,0,1,24,42Z"/>\r
      <path d="M24,20a2,2,0,0,0-2,2V34a2,2,0,0,0,4,0V22A2,2,0,0,0,24,20Z"/>\r
      <circle cx="24" cy="14" r="2"/>\r
    </g>\r
  </g>\r
</svg>`;function La(d,e){d.target===d.currentTarget&&e()}var Oa=(d,e)=>d.key==="Escape"&&e(),Da=(d,e,t)=>e(i(t).name),za=T('<div class="info-icon-container svelte-uk3lbf"><!></div>'),Ba=T('<div class="field-content-wrapper svelte-uk3lbf"><!> <button class="field-content svelte-uk3lbf" tabindex="0"><div class="field-name-container svelte-uk3lbf"><span class="field-name svelte-uk3lbf"> </span> <!></div></button></div>'),Ha=T('<div class="master-checkbox-container svelte-uk3lbf"><!> <span class="master-checkbox-label svelte-uk3lbf">Select All Fields</span></div> <!> <!>',1),ja=T("<!> <!>",1),qa=T("<!> <!>",1),Ua=T('<button class="close-button svelte-uk3lbf" aria-label="Close"><!></button> <!>',1),Ka=T('<div class="card-container svelte-uk3lbf" role="dialog" aria-modal="true" tabindex="-1"><!></div>');function Wa(d,e){E(e,!0);const t=v(e,"fieldFilterMenuStore",7);let r=K(null),s=K(Pe(new Ze)),a=I(()=>{if(!i(r)||!i(r).fields)return{checked:!1,indeterminate:!1};const h=i(r).fields.length,p=i(s)?.size||0;return p===0?{checked:!1,indeterminate:!1}:p===h?{checked:!0,indeterminate:!1}:{checked:!1,indeterminate:!0}});ye(()=>{console.log("Active Layer to Filter:",t().ActiveLayer);const h=t().ActiveLayer;if(V(r,h,!0),h){const p=_e.DataSelections.get(h.uid);p?.fields?V(s,new Ze([...p.fields]),!0):V(s,new Ze,!0)}});function n(){o(),t().ActiveLayer=null}function o(){if(!i(r))return;let h=_e.DataSelections.get(i(r).uid);if(h){if((h.fields===void 0||h.fields===null)&&(h.fields=new Ze),i(s).size===0){_e.removeSelection(i(r).uid);return}h.fields.clear(),i(s).forEach(p=>{h.fields?.add(p)})}}function c(h){i(r)&&(i(s).has(h)?i(s).delete(h):i(s).add(h))}function u(){if(!i(r)?.fields)return;(i(s)?.size||0)===0?i(r).fields.forEach(p=>{i(s).add(p.name)}):i(s).clear()}function m(){return i(r)?.fields?i(r).fields.filter(h=>!e.fieldsToHide?.has(h.alias?.toLowerCase()??"")):[]}var _=w(),f=y(_);{var g=h=>{var p=Ka();p.__click=[La,n],p.__keydown=[Oa,n];var S=P(p);R(S,()=>De,(k,b)=>{b(k,{class:"command-card",children:(x,N)=>{var D=Ua(),M=y(D);M.__click=n;var B=P(M);Ca(B,{size:20}),C(M);var j=L(M,2);R(j,()=>ze,(q,U)=>{U(q,{class:"card-content",children:(Q,$)=>{var F=w(),X=y(F);R(X,()=>ka,(Z,J)=>{J(Z,{children:(se,we)=>{var ce=qa(),Ee=y(ce);R(Ee,()=>Ma,(me,xe)=>{xe(me,{placeholder:"Search for fields..."})});var ge=L(Ee,2);R(ge,()=>Ea,(me,xe)=>{xe(me,{children:(Se,Ce)=>{var Ve=ja(),Ie=y(Ve);R(Ie,()=>Ia,(ue,fe)=>{fe(ue,{children:(Re,lr)=>{ve();var We=be("No results found.");l(Re,We)},$$slots:{default:!0}})});var Ge=L(Ie,2);R(Ge,()=>Pa,(ue,fe)=>{fe(ue,{heading:"Fields",children:(Re,lr)=>{var We=Ha(),tt=y(We),dr=P(tt);Zt(dr,{get checked(){return i(a).checked},get indeterminate(){return i(a).indeterminate},onCheckedChange:u}),ve(2),C(tt);var Rt=L(tt,2);R(Rt,()=>Ga,(rt,pe)=>{pe(rt,{})});var cr=L(Rt,2);qe(cr,17,m,vt,(rt,pe)=>{var Ft=w(),ur=y(Ft);R(ur,()=>Ta,(hr,fr)=>{fr(hr,{class:"field-item",onselect:()=>c(i(pe).name),children:(vr,an)=>{var st=Ba(),Lt=P(st);{let Fe=I(()=>i(s)?.has(i(pe).name)??!1);Zt(Lt,{class:"field-checkbox",get checked(){return i(Fe)},onCheckedChange:()=>c(i(pe).name)})}var at=L(Lt,2);at.__click=[Da,c,pe];var Ot=P(at),nt=P(Ot),gr=P(nt,!0);C(nt);var mr=L(nt,2);{var pr=Fe=>{var Xe=za(),_r=P(Xe);ft(_r,()=>Fa),C(Xe),ae(()=>$t(Xe,"title",i(pe).description)),l(Fe,Xe)};H(mr,Fe=>{i(pe).description&&Fe(pr)})}C(Ot),C(at),C(st),ae(()=>he(gr,i(pe).alias||i(pe).name)),l(vr,st)},$$slots:{default:!0}})}),l(rt,Ft)}),l(Re,We)},$$slots:{default:!0}})}),l(Se,Ve)},$$slots:{default:!0}})}),l(se,ce)},$$slots:{default:!0}})}),l(Q,F)},$$slots:{default:!0}})}),l(x,D)},$$slots:{default:!0}})}),C(p),l(h,p)};H(f,h=>{i(r)&&h(g)})}l(d,_),G()}Yt(["click","keydown"]);var Xa=T('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),Za=T('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),Ya=T('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),Ja=T("<!> <!>",1),Qa=T("<!> <!> <!>",1),$a=T('<div class="flex w-120 min-w-0 flex-col gap-6"><!></div>'),en=T('<div class="loading-container svelte-1xwk4vv"><p>Loading map data...</p></div>'),tn=T('<div class="error-container svelte-1xwk4vv"><p> </p> <!></div>'),rn=T('<div class="loading-container svelte-1xwk4vv"><p>Initializing map...</p></div>'),sn=T('<!> <!> <!> <!> <div class="map-section svelte-1xwk4vv"><!></div>',1);function gn(d,e){E(e,!0);const t=b=>{var x=$a(),N=P(x);la(N,{value:"define-areas",children:(D,M)=>{var B=Qa(),j=y(B);R(j,()=>ut,(Q,$)=>{$(Q,{value:"define-areas",class:"w-full",children:(F,X)=>{var Z=w(),J=y(Z);R(J,()=>De,(se,we)=>{we(se,{class:"w-full overflow-hidden",children:(ce,Ee)=>{var ge=w(),me=y(ge);R(me,()=>ze,(xe,Se)=>{Se(xe,{class:"card-content overflow-hidden p-0",children:(Ce,Ve)=>{it(Ce,{class:"h-[300px] w-full",children:(Ie,Ge)=>{var ue=Xa(),fe=P(ue);aa(fe,{get webMap(){return r.data},get treeviewConfig(){return i(a)}}),C(ue),l(Ie,ue)},$$slots:{default:!0}})},$$slots:{default:!0}})}),l(ce,ge)},$$slots:{default:!0}})}),l(F,Z)},$$slots:{default:!0}})});var q=L(j,2);R(q,()=>ut,(Q,$)=>{$(Q,{value:"select-data",class:"w-full",children:(F,X)=>{var Z=w(),J=y(Z);R(J,()=>De,(se,we)=>{we(se,{class:"w-full overflow-hidden",children:(ce,Ee)=>{var ge=w(),me=y(ge);R(me,()=>ze,(xe,Se)=>{Se(xe,{class:"card-content overflow-hidden p-0",children:(Ce,Ve)=>{it(Ce,{class:"h-[300px] w-full",children:(Ie,Ge)=>{var ue=Za(),fe=P(ue);Er(fe,{get webMap(){return r.data},get treeviewConfig(){return i(n)},get fieldFilterMenuStore(){return s}}),C(ue),l(Ie,ue)},$$slots:{default:!0}})},$$slots:{default:!0}})}),l(ce,ge)},$$slots:{default:!0}})}),l(F,Z)},$$slots:{default:!0}})});var U=L(q,2);R(U,()=>ut,(Q,$)=>{$(Q,{value:"export",class:"w-full",children:(F,X)=>{var Z=w(),J=y(Z);R(J,()=>De,(se,we)=>{we(se,{class:"w-full overflow-hidden",children:(ce,Ee)=>{var ge=Ja(),me=y(ge);R(me,()=>ze,(Se,Ce)=>{Ce(Se,{class:"card-content overflow-hidden p-0",children:(Ve,Ie)=>{it(Ve,{class:"h-[300px] w-full",children:(Ge,ue)=>{var fe=Ya(),Re=P(fe);_a(Re,{get webMapStore(){return r},get fieldFilterMenuStore(){return s}}),C(fe),l(Ge,fe)},$$slots:{default:!0}})},$$slots:{default:!0}})});var xe=L(me,2);Ks(xe,{class:"flex items-center justify-between",children:(Se,Ce)=>{ya(Se,{})},$$slots:{default:!0}}),l(ce,ge)},$$slots:{default:!0}})}),l(F,Z)},$$slots:{default:!0}})}),l(D,B)},$$slots:{default:!0}}),C(x),l(b,x)},r=new Nr,s=new Ws;let a=K(null),n=K(null),o=K(Pe([])),c=K(Pe(new Set));br(async()=>{const b=await Vr(),x=b.portalUrl,N=b.portalItemId,D=b.proxy;V(a,b.treeviewSelectionAreasConfig,!0),V(n,b.treeviewDataConfig||null,!0),V(o,b.selectionLayersNameFields?.map(M=>M.layerName)||[],!0),Y.setNameFields(b.selectionLayersNameFields),V(c,new Set(b.fieldsToHide||[]),!0),console.log("Selection Layers:",mt(i(a))),await r.initializeAsync({portalUrl:x,itemId:N||"",proxy:D}),console.log("WebMap loaded")});var u=sn(),m=y(u);Tr(m,{});var _=L(m,2);wa(_,{});var f=L(_,2);Wa(f,{get fieldFilterMenuStore(){return s},get fieldsToHide(){return i(c)}});var g=L(f,2);na(g,{});var h=L(g,2),p=P(h);{var S=b=>{Mr(b,{get webMap(){return r.data},get interactableLayers(){return i(o)},panelPosition:"top-left",menuPosition:"top-right",get panel(){return t}})},k=b=>{var x=w(),N=y(x);{var D=B=>{var j=en();l(B,j)},M=B=>{var j=w(),q=y(j);{var U=$=>{var F=tn(),X=P(F),Z=P(X);C(X);var J=L(X,2);Qe(J,{onclick:()=>r.clearError(),children:(se,we)=>{ve();var ce=be("Retry");l(se,ce)},$$slots:{default:!0}}),C(F),ae(()=>he(Z,`Error loading map: ${r.error??""}`)),l($,F)},Q=$=>{var F=rn();l($,F)};H(q,$=>{r.error?$(U):$(Q,!1)},!0)}l(B,j)};H(N,B=>{r.loading?B(D):B(M,!1)},!0)}l(b,x)};H(p,b=>{r.data?b(S):b(k,!1)})}C(h),l(d,u),G()}export{gn as component};
