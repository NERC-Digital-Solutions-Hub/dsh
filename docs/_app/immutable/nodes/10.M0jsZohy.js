const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/CX4xS0RM.js","../chunks/Chk7m36c.js","../chunks/BFGjv385.js","../chunks/DSdBzmdi.js","../chunks/gvnm7ut2.js","../chunks/VyRghXPR.js","../chunks/PPVm8Dsz.js","../chunks/DE7MWQCs.js","../chunks/DzPnzJx5.js","../chunks/D0eMRWIr.js","../chunks/C3k4-i_w.js","../chunks/DKTxA4NN.js","../chunks/r_tU0ZMk.js","../chunks/BqElk1ee.js","../chunks/rp9n50F-.js","../chunks/CbsNIDjS.js","../chunks/BNYdKLCN.js","../chunks/B2G5FAQI.js","../chunks/ChAwAQaw.js","../chunks/D-HPEf1Q.js","../chunks/ABSTBJkg.js","../chunks/B6nb1bq7.js","../chunks/DMoEL77_.js","../chunks/CSadq5My.js","../chunks/B9pz1KbE.js","../chunks/BgD4SoW1.js","../chunks/DS4SozqQ.js","../chunks/Cp_8tW2x.js","../chunks/C3D8VKKU.js","../chunks/Dr0G06K1.js","../chunks/Ci6C1k20.js","../chunks/bnayRBMH.js","../chunks/CCbunvHC.js","../chunks/DJZuaotA.js","../chunks/D-pqs1wi.js","../chunks/Oe6SV2kF.js","../chunks/BQnflPCl.js","../chunks/MtSiOt06.js","../chunks/C0wm8_Yw.js","../chunks/OROug527.js","../chunks/D1KVx3SZ.js","../chunks/BQr2meHs.js","../chunks/BhL_StXk.js","../chunks/Bo1rbSmH.js","../chunks/Djp3mnm5.js","../chunks/Bagqh7mS.js","../chunks/CdjzvH1A.js","../chunks/DZd2194C.js","../chunks/BUkIcpNm.js","../chunks/B87vTgcy.js","../chunks/B1sFDdA3.js","../chunks/DyQQYa7v.js","../chunks/sd8OvKRi.js","../chunks/hnhOMSya.js","../chunks/DrJtTCsF.js","../chunks/C3wJnOtP.js","../chunks/CsznCSXQ.js","../chunks/CpHHp037.js","../chunks/CwMz22zB.js","../chunks/CzF8iAYG.js","../chunks/DR0YiPaL.js","../chunks/DV9c7aQE.js","../chunks/Dij4so7k.js","../chunks/CYZreaXu.js","../chunks/t32jkqMw.js","../chunks/DyPz5pft.js","../chunks/CVwTD0fV.js","../chunks/DRUkfalY.js","../chunks/BCWY4QD5.js","../chunks/DPJXGPFY.js","../chunks/D8WJzxGJ.js","../chunks/BP4OB8lT.js","../chunks/q_b6UJoq.js","../chunks/BqtQPd1v.js","../chunks/Co1u3Wsh.js","../chunks/DvIwya_1.js","../chunks/BjRHZ4Ms.js","../chunks/CSXZNpHb.js","../chunks/tTW9CROL.js","../chunks/ffk2ZLXj.js","../chunks/CVaG4qBq.js","../chunks/iYT71ALU.js","../chunks/wewVJfGc.js","../chunks/C2gkxv8H.js","../chunks/DLkPJ08D.js","../chunks/C4W4xdQN.js","../chunks/D7R7v3ML.js","../chunks/Bul91sMr.js","../chunks/DrENyhv5.js","../chunks/DxjcnMd0.js","../chunks/w8YLmNZ6.js","../chunks/DQ7eYXXT.js","../chunks/DpTdM6YO.js","../chunks/oqhj-kBa.js","../chunks/Ep-fB0cw.js","../chunks/CWcIrapi.js","../chunks/DCNCAEU4.js","../chunks/JfUWcnCN.js","../chunks/DLkLdcmA.js","../chunks/C241MSq4.js","../chunks/Cb7sy9-d.js","../chunks/CrZGsELy.js","../chunks/DAKjBtBe.js","../chunks/B6l4_VTq.js","../chunks/BE5Q665L.js","../chunks/CxaXXn70.js","../chunks/ByaDm7OS.js","../chunks/CHb1F6u8.js","../chunks/DOO5NTEE.js","../chunks/Bqnzs7Uy.js","../chunks/RIib38cb.js","../chunks/DxXb8iqq.js","../chunks/b5fFk3iC.js","../chunks/8IBn9cjN.js","../chunks/GKolV7NZ.js","../chunks/C3R1K3uw.js","../chunks/BGfv3UUM.js","../chunks/D57M6lha.js","../chunks/BSzd_qLA.js","../chunks/oKV7I5oI.js","../chunks/ddR77hBF.js","../chunks/Dh0unMBw.js","../chunks/D3cXXQ0h.js","../chunks/BubUUh5g.js","../chunks/D1IeoNIK.js","../chunks/DhzudQro.js","../chunks/DIpm-lWd.js","../chunks/BFBBs0wg.js","../chunks/DngBYph4.js","../chunks/B-YBDLbL.js","../chunks/BIuXcUf5.js","../chunks/DC4T6Ptu.js","../chunks/n__Nwz3z.js","../chunks/BL42L05A.js","../chunks/CzTCRS-E.js","../chunks/BBTzYCUx.js","../chunks/DOYnfIXX.js","../chunks/CTKqKRYJ.js","../chunks/XaXpG9zZ.js","../chunks/qyF9FwQ9.js","../chunks/XI-Li77m.js","../chunks/BCjLVN5d.js","../chunks/BakvCIm-.js","../chunks/DPb6J-GU.js","../chunks/7v5q8aUX.js","../chunks/DRkrBRn2.js","../chunks/Bhw6uoWa.js","../chunks/B8wFAfqC.js","../chunks/z9soRYz2.js","../chunks/QNGJxkR2.js","../chunks/BbTkfPiF.js","../chunks/BIrFrgFi.js","../chunks/Au547MSd.js","../chunks/DaK77k4k.js","../chunks/CrDLCNMT.js","../chunks/DvKU1K2H.js","../chunks/CUM0jSDR.js","../chunks/BKzoWmrU.js","../chunks/BzcuiRjs.js","../chunks/DnfBvcwn.js","../chunks/BKiq5auy.js","../chunks/CaYZrGFV.js","../chunks/DdPRMTC3.js","../chunks/gMJdOPVo.js","../chunks/D0XIpr4d.js","../assets/jsxFactory.CQED0rIl.css","../chunks/rvTrjpwt.js","../assets/component-utils.R4SXog4D.css","../chunks/DTbAMoJ0.js","../chunks/CwxH0PWn.js","../chunks/8aBijuJl.js","../chunks/M8_13dxG.js","../chunks/BQBvadb7.js","../chunks/D-YQ4CHs.js","../chunks/-hDURA3H.js","../chunks/CLddNdYj.js","../chunks/DRRm8kuK.js","../chunks/CQArkG19.js","../chunks/DSSEiKYw.js","../chunks/D6tLz4oc.js","../chunks/BT2K4O9G.js","../chunks/OcQ1wrJk.js","../chunks/DlHjpvET.js","../chunks/C_aWxC9C.js","../chunks/DtjklSP3.js","../chunks/BbypZJYP.js","../chunks/CDIMMVqU.js","../chunks/BNHKd0L1.js","../chunks/DZqQMNtl.js","../chunks/B7bWfnCa.js","../chunks/voO_u-lk.js","../chunks/CqTa6Nnr.js","../chunks/BFT4c_WX.js","../chunks/wumdpKNo.js","../chunks/CP8c8qRm.js","../chunks/Caulfaw_.js","../chunks/B3jqpyj_.js","../chunks/BSuX7KuZ.js","../chunks/DKzVzLpH.js","../chunks/BEQnBRaB.js","../chunks/BvOub3JO.js","../chunks/BCEiEn8S.js","../chunks/CxYC-W63.js","../chunks/0MLGeTII.js","../chunks/DDJZA5V1.js","../chunks/ojZocHJM.js","../chunks/BOkxVuTB.js","../chunks/8WtPGj6h.js","../chunks/CG7ZQ6BV.js","../chunks/CK1zn8rH.js","../chunks/D11HDxSh.js","../chunks/BvER9tXK.js","../chunks/Du-fBYp5.js","../chunks/n_VqDs8R.js","../chunks/D5J0HRgs.js","../chunks/mEO5yuVe.js","../chunks/BPTNpVpY.js","../chunks/C2y1nKdd.js","../chunks/Bxxl7NsE.js","../chunks/CaVKkSa6.js","../chunks/CUzevAry.js","../chunks/C8zGwbjb.js","../chunks/DjPuK0Ge.js","../chunks/Bud8soHW.js","../chunks/nsg-ba5s.js","../chunks/CKX-lwZu.js","../chunks/CdNfg1Qi.js","../chunks/BwDSp2MA.js","../chunks/CAifXvE1.js","../chunks/B_Pc1hJe.js","../chunks/Ge4sJ07F.js","../chunks/HTOW8iPe.js","../chunks/BBgJvVNG.js","../chunks/DuIgqnlY.js","../chunks/DZaeaUae.js","../chunks/DaQyK3nQ.js","../chunks/D1G7Tu8N.js","../chunks/DFm1SfpJ.js","../chunks/B74aY3hn.js","../chunks/C66t82nn.js","../chunks/VrHvnLcd.js","../chunks/LNMda2Hb.js","../chunks/Cgb6qxNH.js","../chunks/DM0rBaXl.js","../chunks/BzC5XOqq.js","../chunks/D3rYUQgE.js","../chunks/DhjUpPYF.js","../chunks/B1N-tmtC.js","../chunks/CGOjtv07.js","../chunks/DNKAd1V7.js","../chunks/D-qJO60r.js","../chunks/QQC62dOK.js","../chunks/DMy-0e9p.js","../chunks/DQOO6RKE.js","../chunks/Bi6C4OG6.js"])))=>i.map(i=>d[i]);
import{_ as ze}from"../chunks/PPVm8Dsz.js";import"../chunks/DsnmJJEf.js";import{o as et,a as tt}from"../chunks/DFUKILGv.js";import{f as w,p as fe,c as P,n as ft,r as $,a as me,a8 as H,g as e,u as O,X as we,U as W,aG as b,av as mt,o as Re,ar as n,aZ as Et,a_ as Lt,aM as Ot}from"../chunks/C1YmX2UH.js";import{g as Ye}from"../chunks/CWKS71Yf.js";import{c as k,a as l,f as I,t as Pe}from"../chunks/BMeCtLyR.js";import{l as Nt,s as $e,p as Q,r as rt,i as j}from"../chunks/MYJGKh80.js";import{a as jt,s as zt,b as Dt,d as pt,e as Ae}from"../chunks/Dhg0s-2V.js";import{b as De}from"../chunks/DHTNoGoN.js";import{s as B}from"../chunks/DfAHVaxr.js";import{s as vt,e as Fe,i as Ft}from"../chunks/P1xUTngh.js";import{c as E}from"../chunks/CpUudvot.js";import{I as Ht,s as Tt,e as Kt,f as Ut,S as dt,g as nt,h as at,i as ot}from"../chunks/BKNRumuJ.js";import{c as st}from"../chunks/DVWSbjtQ.js";import"../chunks/69_IOA4Y.js";import{C as Wt}from"../chunks/BVrl1aKD.js";import{A as qt,a as Gt,b as Bt}from"../chunks/A6WY3lLx.js";import{S as gt}from"../chunks/BRJEh25e.js";import{B as Qt}from"../chunks/BofYfrSq.js";import{I as Xt}from"../chunks/D3jE-Yfs.js";import"../chunks/BFGjv385.js";import"../chunks/DzPnzJx5.js";import{j as Zt}from"../chunks/ABSTBJkg.js";import{a as Jt,b as Yt}from"../chunks/CGhtPJox.js";import{H as er}from"../chunks/DE7MWQCs.js";function tr(M){return(Jt||Yt)+M}function rr(M,a){const f=Nt(a,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const v=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"}]];Ht(M,$e({name:"command"},()=>f,{get iconNode(){return v},children:(p,y)=>{var r=k(),_=w(r);Tt(_,a,"default",{}),l(p,r)},$$slots:{default:!0}}))}var nr=I("<span><!></span>");function ar(M,a){fe(a,!0);let f=Q(a,"ref",15,null),v=rt(a,["$$slots","$$events","$$legacy","ref","class","children"]);var p=nr();jt(p,r=>({"data-slot":"command-shortcut",class:r,...v}),[()=>st("text-muted-foreground ml-auto text-xs tracking-widest",a.class)]);var y=P(p);vt(y,()=>a.children??ft),$(p),De(p,r=>f(r),()=>f()),l(M,p),me()}function or(M,a){fe(a,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let f=rt(a,["$$slots","$$events","$$legacy"]);const v=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Xt(M,$e({name:"arrow-left"},()=>f,{get iconNode(){return v},children:(p,y)=>{var r=k(),_=w(r);vt(_,()=>a.children??ft),l(p,r)},$$slots:{default:!0}})),me()}var sr=I('<span class="m-0 ml-[-5px] inline-flex max-w-[10rem] items-center overflow-hidden rounded border border-border px-1 py-0.5 text-xs font-medium text-ellipsis whitespace-nowrap text-muted-foreground"> </span> <span aria-hidden="true" class="h-5 w-px bg-border"></span>',1),ir=I('<div class="flex h-9 items-center gap-2 border-b pl-2" data-slot="command-input-wrapper"><span class="flex h-full min-w-[1.25rem] shrink-0 items-center justify-center text-muted-foreground"><!></span> <!> <!></div>');function lr(M,a){fe(a,!0);let f=Q(a,"ref",15,null),v=Q(a,"value",15,""),p=Q(a,"iconProps",19,()=>({})),y=rt(a,["$$slots","$$events","$$legacy","ref","class","value","icon","iconProps","commandId"]);var r=ir(),_=P(r),S=P(_);{var V=g=>{const C=O(()=>a.icon);var R=k(),i=w(R);E(i,()=>e(C),(u,m)=>{m(u,$e(p))}),l(g,R)},d=g=>{rr(g,{class:"size-4 opacity-50"})};j(S,g=>{a.icon?g(V):g(d,!1)})}$(_);var x=H(_,2);{var N=g=>{var C=sr(),R=w(C),i=P(R,!0);$(R),we(2),W(()=>{zt(R,"title",a.commandId),B(i,a.commandId)}),l(g,C)};j(x,g=>{a.commandId&&g(N)})}var A=H(x,2);{let g=O(()=>st("flex h-10 flex-1 rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a.class));E(A,()=>Kt,(C,R)=>{R(C,$e({"data-slot":"command-input",get class(){return e(g)}},()=>y,{get ref(){return f()},set ref(i){f(i)},get value(){return v()},set value(i){v(i)}}))})}$(r),l(M,r),me()}function ur(M,a){fe(a,!0);const f=Q(a,"disabled",3,!1);Qt(M,{class:"m-0 flex size-7 shrink-0 items-center justify-center rounded-md border-none bg-transparent p-0 text-muted-foreground opacity-50 shadow-none transition hover:bg-transparent hover:text-accent-foreground focus:outline-none focus-visible:border-transparent focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none active:ring-0 active:outline-none disabled:pointer-events-none disabled:opacity-50 has-[>svg]:px-0",onclick:()=>{f()||a.onPress?.()},"aria-label":"Return to command search",get disabled(){return f()},children:(v,p)=>{{let y=O(()=>`size-4 ${a.class}`.trim());or(v,{get class(){return e(y)}})}},$$slots:{default:!0}}),me()}var cr=I('<span class="text-xs text-muted-foreground"> </span>'),dr=I('<div class="flex flex-col gap-0.5"><span class="text-sm leading-tight font-medium"> </span> <!></div> <!>',1),fr=I("<!> <!>",1),mr=I('<div class="px-4 pb-3"><!></div>'),pr=I("<!> <!>",1),vr=I('<div class="px-4 pb-3"><!></div>'),gr=I('<p class="text-sm text-muted-foreground">No panel registered for this command.</p>'),_r=I('<div class="pr-2 pb-2 pl-2"><!></div>'),hr=I("<!> <!> <!>",1),wr=I("<!> <!>",1),yr=I("<div><!></div>");function xr(M,a){fe(a,!0);let f=Q(a,"ref",15,null),v=Q(a,"commands",19,()=>[]),p=Q(a,"placeholder",3,"Search commands..."),y=Q(a,"emptyMessage",3,"No commands found."),r=b(null),_=b(null),S=b(null),V=b(null),d=b(null),x=b(null),N=b(""),A=b(!1),g=b(mt(p())),C=b(null),R=!1,i=b(null),u=!1,m=null,c=null;const h=O(()=>{const t=new Map;for(const o of v())t.set(o.id,o);return Array.from(t.values())}),q=O(()=>{const t=new Map;for(const o of e(h)){const s=o.group??null,L=t.get(s);L?L.push(o):t.set(s,[o])}for(const[,o]of t)o.sort((s,L)=>s.name.localeCompare(L.name));return t});function T(t,o=!1){o&&(R=!0),n(N,t,!0)}function le(){n(C,null),n(g,p()),R=!1}Re(()=>{const t=e(C);if(t){if(R){R=!1;return}t(e(N))}}),Re(()=>{e(r)||n(g,p())});function D(){if(c)try{c()}catch(t){console.error("Failed to dispose command session",t)}c=null,n(S,null),n(V,null),le(),n(_,null)}function K(){e(r)&&(D(),n(r,null),n(x,null),n(d,null),T("",!0),n(A,!0))}function ue(){e(i)?.blur()}function ae(t,o){if(!t.component)return null;const s=t.props;return s?{component:t.component,props:()=>s(o)}:{component:t.component}}function F(t,o){const s=t.createSession?.(o);if(s){c=s.dispose??null,Object.prototype.hasOwnProperty.call(s,"input")?n(S,s.input??null,!0):n(S,null),Object.prototype.hasOwnProperty.call(s,"content")?n(V,s.content??null,!0):n(V,ae(t,o),!0);return}c=null,n(S,null),n(V,ae(t,o),!0)}function oe(t){const o=t.id;return{deactivate:()=>{!e(r)||e(r).id!==o||K()},isActive:s=>!e(r)||e(r).id!==o?!1:s?e(r).id===s:!0,setIsOpen:(s,L)=>{if(!e(r)||e(r).id!==o)return;if(s){u=!1,n(A,!0);return}const te=L?.preserveActive??!0;Me(te)},setInputSurface:s=>{!e(r)||e(r).id!==o||n(S,s,!0)},setContentSurface:s=>{!e(r)||e(r).id!==o||n(V,s,!0)},getInputValue:()=>e(N),setInputValue:s=>{!e(r)||e(r).id!==o||T(s,!0)},setInputHandler:s=>{if(!(!e(r)||e(r).id!==o)){if(n(C,s,!0),!s){R=!1;return}s(e(N))}},setPlaceholder:s=>{!e(r)||e(r).id!==o||n(g,s,!0)},resetPlaceholder:()=>{!e(r)||e(r).id!==o||n(g,p())}}}function pe(t){const o=e(_);if(!t)return o?{runtime:o}:{};if(!o)return{};const{props:s}=t;return s?{...typeof s=="function"?s(o):s,runtime:o}:{runtime:o}}function Ie(t){return`${t.name} ${t.description??""}`.trim()}async function Ee(t){if(e(r)?.id===t.id){K();return}D(),n(x,null),n(d,t.id,!0),n(A,!0),e(i)&&e(i).focus();const o=oe(t);n(_,o,!0),n(r,t,!0),F(t,o);try{await t.execute(o)}catch(s){n(x,s instanceof Error?s:new Error("Failed to execute the command."),!0)}finally{n(d,null),T("",!0)}}function He(t){const o=t.key.toLowerCase();if((t.metaKey||t.ctrlKey)&&o==="p"){if(t.preventDefault(),e(r)){K();return}e(i)&&e(i).focus();return}if(o==="escape"){if(e(r)){t.preventDefault(),K(),ue();return}e(A)&&(t.preventDefault(),n(A,!1),ue());return}if(!e(r))for(const L of e(h)){if(!L.shortcut)continue;const te=L.shortcut.join(" ").toLowerCase(),X=[];if(t.metaKey&&X.push("âŒ˜"),t.ctrlKey&&X.push("Ctrl"),t.altKey&&X.push("Alt"),t.shiftKey&&X.push("Shift"),X.push(t.key.length===1?t.key.toUpperCase():t.key),X.join(" ").toLowerCase()===te.toLowerCase()){t.preventDefault(),Ee(L);break}}}function it(){n(A,!0)}function Me(t=!1){u=t,n(A,!1)}function Te(t){const o=m;if(!o)return;const s=t.target;s&&o.contains(s)||e(A)&&Me(!!e(r))}Re(()=>{if(!e(A)){if(T("",!0),!e(r)){u=!1;return}if(u){u=!1;return}D(),n(r,null),n(x,null)}});var ce=yr();Ye("keydown",Et,He),Ye("pointerdown",Lt,Te);var Ke=P(ce);E(Ke,()=>Ut,(t,o)=>{o(t,{children:(s,L)=>{var te=wr(),X=w(te);{let ve=O(()=>e(r)?e(r).inputPlaceholder??e(g):e(g)),Le=O(()=>e(r)?ur:void 0),Ue=O(()=>e(r)?{onPress:K,disabled:e(d)===e(r).id}:void 0),We=O(()=>e(r)?.id);lr(X,{get placeholder(){return e(ve)},onfocus:()=>it(),get icon(){return e(Le)},get iconProps(){return e(Ue)},get commandId(){return e(We)},get value(){return e(N)},set value(Ve){n(N,Ve,!0)},get ref(){return e(i)},set ref(Ve){n(i,Ve,!0)}})}var ye=H(X,2);{var Se=ve=>{var Le=k(),Ue=w(Le);{var We=xe=>{dt(xe,{children:(Oe,qe)=>{var Ne=k(),je=w(Ne);E(je,()=>nt,(Ge,Be)=>{Be(Ge,{children:(Z,ge)=>{var G=fr(),de=w(G);E(de,()=>at,(se,U)=>{U(se,{children:(J,re)=>{we();var Y=Pe();W(()=>B(Y,y())),l(J,Y)},$$slots:{default:!0}})});var _e=H(de,2);Fe(_e,17,()=>Array.from(e(q).entries()),Ft,(se,U)=>{var J=O(()=>Ot(e(U),2));let re=()=>e(J)[1];var Y=k(),ie=w(Y);Fe(ie,17,re,ee=>ee.id,(ee,z)=>{var be=k(),he=w(be);{let _t=O(()=>Ie(e(z)));E(he,()=>ot,(ht,wt)=>{wt(ht,{get value(){return e(_t)},onclick:()=>Ee(e(z)),children:(yt,Or)=>{var lt=dr(),Qe=w(lt),Xe=P(Qe),xt=P(Xe,!0);$(Xe);var bt=H(Xe,2);{var Ct=ne=>{var Ce=cr(),Ze=P(Ce,!0);$(Ce),W(()=>B(Ze,e(z).description)),l(ne,Ce)};j(bt,ne=>{e(z).description&&ne(Ct)})}$(Qe);var Pt=H(Qe,2);{var $t=ne=>{gt(ne,{class:"ml-auto size-4 text-muted-foreground"})},It=ne=>{var Ce=k(),Ze=w(Ce);{var Mt=Je=>{var ut=k(),St=w(ut);E(St,()=>ar,(Vt,At)=>{At(Vt,{children:(Rt,Nr)=>{we();var ct=Pe();W(kt=>B(ct,kt),[()=>e(z).shortcut?.join(" + ")]),l(Rt,ct)},$$slots:{default:!0}})}),l(Je,ut)};j(Ze,Je=>{e(z).shortcut?.length&&Je(Mt)},!0)}l(ne,Ce)};j(Pt,ne=>{e(d)===e(z).id?ne($t):ne(It,!1)})}W(()=>B(xt,e(z).name)),l(yt,lt)},$$slots:{default:!0}})})}l(ee,be)}),l(se,Y)}),l(Z,G)},$$slots:{default:!0}})}),l(Oe,Ne)},$$slots:{default:!0}})},Ve=xe=>{var Oe=hr(),qe=w(Oe);{var Ne=Z=>{const ge=O(()=>e(S).component);var G=mr(),de=P(G);{let _e=O(()=>pe(e(S)));E(de,()=>e(ge),(se,U)=>{U(se,$e(()=>e(_e)))})}$(G),l(Z,G)};j(qe,Z=>{e(S)&&Z(Ne)})}var je=H(qe,2);{var Ge=Z=>{var ge=vr(),G=P(ge);E(G,()=>qt,(de,_e)=>{_e(de,{variant:"destructive",children:(se,U)=>{var J=pr(),re=w(J);E(re,()=>Gt,(ie,ee)=>{ee(ie,{children:(z,be)=>{we();var he=Pe();W(()=>B(he,`${e(r).name??""} failed`)),l(z,he)},$$slots:{default:!0}})});var Y=H(re,2);E(Y,()=>Bt,(ie,ee)=>{ee(ie,{children:(z,be)=>{we();var he=Pe();W(()=>B(he,e(x).message)),l(z,he)},$$slots:{default:!0}})}),l(se,J)},$$slots:{default:!0}})}),$(ge),l(Z,ge)};j(je,Z=>{e(x)&&Z(Ge)})}var Be=H(je,2);dt(Be,{children:(Z,ge)=>{var G=_r(),de=P(G);{var _e=U=>{const J=O(()=>e(V).component);var re=k(),Y=w(re);{let ie=O(()=>pe(e(V)));E(Y,()=>e(J),(ee,z)=>{z(ee,$e(()=>e(ie)))})}l(U,re)},se=U=>{var J=k(),re=w(J);E(re,()=>Wt,(Y,ie)=>{ie(Y,{class:"px-0",children:(ee,z)=>{var be=gr();l(ee,be)},$$slots:{default:!0}})}),l(U,J)};j(de,U=>{e(V)?U(_e):U(se,!1)})}$(G),l(Z,G)},$$slots:{default:!0}}),l(xe,Oe)};j(Ue,xe=>{e(r)?xe(Ve,!1):xe(We)})}l(ve,Le)};j(ye,ve=>{e(A)&&ve(Se)})}l(s,te)},$$slots:{default:!0}})}),$(ce),De(ce,t=>m=t,()=>m),De(ce,t=>f(t),()=>f()),W(t=>pt(ce,1,t),[()=>Dt(st("space-y-4",a.class))]),l(M,ce),me()}class ke{#e=[];constructor(a){this.#e=a}get organisations(){return this.#e}}class br{#e=b(null);#t=b(!1);#r=b(null);load=async(a,f)=>{n(this.#t,!0),n(this.#r,null);try{const v=await er(a,{...f,responseType:"json"});n(this.#e,v.data,!0)}catch(v){n(this.#r,v,!0)}finally{n(this.#t,!1)}};get data(){return e(this.#e)}get isLoading(){return e(this.#t)}get error(){return e(this.#r)}}var Cr=I('<div class="error-message svelte-11six79"><p class="text-sm text-red-600"> </p></div>'),Pr=I('<div class="flex items-center gap-2"><!> <span class="title-text w-full font-medium text-foreground svelte-11six79"> </span></div>'),$r=I('<span class="description-text text-xs text-gray-500 svelte-11six79"> </span>'),Ir=I('<div class="flex w-full min-w-0 flex-col gap-0.5"><span class="title-text font-medium text-foreground svelte-11six79"> </span> <!></div>'),Mr=I('<div class="item-container svelte-11six79"><!> <!></div>');function Sr(M,a){fe(a,!0);const f=Q(a,"mapView",7),v=Q(a,"runtime",3,null),p=new br;let y=b(null),r=b(null),_=b("");const S=O(()=>{console.log("Filtering web maps with data:",p.data);const i=p.data?.results??[],u=e(_).trim().toLowerCase();return u?i.filter(m=>{const c=typeof m?.title=="string"?m.title.toLowerCase():"",h=typeof m?.description=="string"?m.description.toLowerCase():"";return c.includes(u)||h.includes(u)}):i});et(async()=>{const i=a.commandSearchContext.get(ke)?.organisations[1];if(!i){console.warn("No organisation configuration found in MapsConfig");return}console.log("Organisation configuration found:",i),await p.load(i.portalUrl+i.endpoint,{query:{q:'type:"Web Map"',num:100,f:"json"}}),console.log("Portal query result:",p.data);const u=p.data?.results.map(m=>({id:m.id,title:m.title,description:m.description,owner:m.owner,tags:m.tags}));console.log("Web map metadata extracted:",u)});let V=null,d=null,x=a.inputPlaceholder??"Search...";Re(()=>{const i=v(),u=a.inputPlaceholder??"Search...";if(!i){d?.(),d=null,V=null,n(_,""),x=u;return}if(i===V){u!==x&&(i.setPlaceholder(u),x=u);return}d?.(),d=null,V=null,x=u;const m=h=>{n(_,h,!0)};i.setPlaceholder(u),i.setInputHandler(m);const c=i.getInputValue();n(_,c,!0),c&&(i.setInputValue(""),n(_,"")),d=()=>{i.setInputHandler(null),i.resetPlaceholder(),i.setInputValue(""),V===i&&(V=null),n(_,"")},V=i}),tt(()=>{d?.(),d=null,V=null});async function N(i){if(!f()){console.error("MapView is not initialized"),n(r,"MapView is not ready. Please wait and try again.");return}n(y,i,!0),n(r,null);try{console.log(`Loading web map with ID: ${i}`);const u=a.commandSearchContext.get(ke)?.organisations[1];if(!u){console.warn("No organisation configuration found in MapsConfig");return}const[{default:m}]=await Promise.all([ze(()=>import("../chunks/CX4xS0RM.js").then(q=>q.W),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161]),import.meta.url)]),c=new m({portalItem:{id:i,portal:{url:u.portalUrl}}});await c.load(),console.log("Web map loaded successfully"),console.log("Applying web map to MapView",f().ui),f().map=c,console.log("Web map applied to MapView"),await Zt(()=>f().ready),console.log("MapView updated with new web map");const h=c.initialViewProperties?.viewpoint?.targetGeometry;h&&(console.log("Navigating to web map initial viewpoint"),await f().goTo(h),console.log("MapView navigated to web map initial viewpoint")),v()?.setIsOpen(!1)}catch(u){console.error("Error loading web map:",u),n(r,u instanceof Error?u.message:"Failed to load web map",!0)}finally{n(y,null)}}var A=Mr(),g=P(A);{var C=i=>{var u=Cr(),m=P(u),c=P(m,!0);$(m),$(u),W(()=>B(c,e(r))),l(i,u)};j(g,i=>{e(r)&&i(C)})}var R=H(g,2);E(R,()=>nt,(i,u)=>{u(i,{children:(m,c)=>{var h=k(),q=w(h);{var T=D=>{var K=k(),ue=w(K);E(ue,()=>at,(ae,F)=>{F(ae,{children:(oe,pe)=>{we();var Ie=Pe("No web maps match your search.");l(oe,Ie)},$$slots:{default:!0}})}),l(D,K)},le=D=>{var K=k(),ue=w(K);Fe(ue,17,()=>e(S),ae=>ae.id,(ae,F)=>{var oe=k(),pe=w(oe);E(pe,()=>ot,(Ie,Ee)=>{Ee(Ie,{onclick:()=>N(e(F).id),children:(He,it)=>{var Me=k(),Te=w(Me);{var ce=t=>{var o=Pr(),s=P(o);gt(s,{class:"size-4"});var L=H(s,2),te=P(L);$(L),$(o),W(()=>B(te,`Loading ${e(F).title??"Untitled web map"??""}...`)),l(t,o)},Ke=t=>{var o=Ir(),s=P(o),L=P(s,!0);$(s);var te=H(s,2);{var X=ye=>{var Se=$r(),ve=P(Se,!0);$(Se),W(()=>B(ve,e(F).description)),l(ye,Se)};j(te,ye=>{e(F).description&&ye(X)})}$(o),W(()=>B(L,e(F).title??"Untitled web map")),l(t,o)};j(Te,t=>{e(y)===e(F).id?t(ce):t(Ke,!1)})}l(He,Me)},$$slots:{default:!0}})}),l(ae,oe)}),l(D,K)};j(q,D=>{e(S).length===0?D(T):D(le,!1)})}l(m,h)},$$slots:{default:!0}})}),$(A),l(M,A),me()}var Vr=I('<div class="flex w-full min-w-0 flex-col gap-0.5"><span class="title-text font-medium text-foreground svelte-1w2u78y"> </span></div>'),Ar=I('<div class="item-container svelte-1w2u78y"><!></div>');function Rr(M,a){fe(a,!0);const f=Q(a,"runtime",3,null);let v=b(mt([])),p=b("");et(async()=>{const d=a.commandSearchContext.get(ke)?.organisations;if(!d){console.warn("No organisation configuration found in MapsConfig");return}n(v,d,!0)});let y=null,r=null,_=a.inputPlaceholder??"Search...";Re(()=>{const d=f(),x=a.inputPlaceholder??"Search...";if(!d){r?.(),r=null,y=null,n(p,""),_=x;return}if(d===y){x!==_&&(d.setPlaceholder(x),_=x);return}r?.(),r=null,y=null,_=x;const N=g=>{n(p,g,!0)};d.setPlaceholder(x),d.setInputHandler(N);const A=d.getInputValue();n(p,A,!0),A&&(d.setInputValue(""),n(p,"")),r=()=>{d.setInputHandler(null),d.resetPlaceholder(),d.setInputValue(""),y===d&&(y=null),n(p,"")},y=d}),tt(()=>{r?.(),r=null,y=null});var S=Ar(),V=P(S);E(V,()=>nt,(d,x)=>{x(d,{children:(N,A)=>{var g=k(),C=w(g);{var R=u=>{var m=k(),c=w(m);E(c,()=>at,(h,q)=>{q(h,{children:(T,le)=>{we();var D=Pe("No organisations match your search.");l(T,D)},$$slots:{default:!0}})}),l(u,m)},i=u=>{var m=k(),c=w(m);Fe(c,17,()=>e(v),h=>h.name,(h,q)=>{var T=k(),le=w(T);E(le,()=>ot,(D,K)=>{K(D,{onclick:()=>{},children:(ue,ae)=>{var F=Vr(),oe=P(F),pe=P(oe,!0);$(oe),$(F),W(()=>B(pe,e(q).name??"Untitled organisation")),l(ue,F)},$$slots:{default:!0}})}),l(h,T)}),l(u,m)};j(C,u=>{e(v).length===0?u(R):u(i,!1)})}l(N,g)},$$slots:{default:!0}})}),$(S),l(M,S),me()}class kr{services=new Map;add(a,f){this.services.set(a,f)}get(a){const f=this.services.get(a);if(!f)throw new Error(`Service not found for token: ${a.name}`);return f}has(a){return this.services.has(a)}}var Er=I('<div id="search-slot" class="absolute top-3 left-1/2 z-10 -translate-x-1/2"><!></div>'),Lr=I("<arcgis-map><!> <arcgis-layer-list></arcgis-layer-list> <arcgis-legend></arcgis-legend></arcgis-map>",2);function un(M,a){fe(a,!0);const f=new kr;let v=b(null),p=b(null),y=b(null),r=b(null),_=b(null),S=b(null);et(async()=>{const c=await V();f.add(ke,c),await x(),n(v,e(y)?.view,!0),e(v).ui.move("zoom","bottom-right"),n(r,N(),!0),n(_,A(),!0),n(S,g(),!0)});async function V(){const c=await fetch(tr("/config/maps/config.json"));if(!c.ok)throw new Error(`Failed to load maps config: ${c.status} ${c.statusText}`);const h=await c.json();return new ke(h.organisations)}function d(){}async function x(){await ze(()=>import("../chunks/DdPRMTC3.js").then(c=>c.a),__vite__mapDeps([162,163,164,155,4,2,3,20,165,166,14,5,1,167,6,11,12,13,8,168,169,26,7,23,35,19,16,21,22,170,171,172,65,173,174]),import.meta.url),await ze(()=>import("../chunks/CLddNdYj.js"),__vite__mapDeps([175,176,164,155,4,2,3,20,165,177,178,179,180,181,182,183,184,185,166,186,187,163,14,5,1,167,26,12,13,7,6,8,23,171,188,69,11,19,16,21,22,64,189,29,30,31,18,42,89,90,44,45,190,139,140,131,132,67,33,68,15,24,34,70,71,72,73,74,75,191,142,143,192,112,113,114,193,194,195,196,94,197,93,198,199,200,128,129,130,107,108,109,110,62,63,65,50,41,51,66,104,111,117,133,52,134,135,56,136,137,138,141,106,115,116,118,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,174]),import.meta.url),await ze(()=>import("../chunks/B_Pc1hJe.js"),__vite__mapDeps([229,176,164,155,4,2,3,20,165,177,178,230,181,183,231,186,166,185,232,233,234,235,193,163,14,5,1,167,236,6,47,48,34,49,31,23,7,8,22,21,50,41,42,51,29,30,52,11,12,13,32,81,82,26,237,62,63,64,33,65,66,67,68,69,15,24,16,70,71,72,73,74,75,43,238,239,169,35,240,18,19,241,9,10,17,25,27,28,36,37,38,39,40,44,45,46,101,56,168,99,79,61,242,192,243,244,59,60,219,245,246,247,248,249,250,251,218,252,253,224,254,228,173,0,53,54,55,57,58,76,77,78,80,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,100,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,156,157,158,159,160,161]),import.meta.url)}tt(()=>{n(r,null),n(_,null),n(S,null),e(v)&&e(v).destroy()});function N(){const c={id:"add-web-map",name:"Add web map",description:"Fetch and display our web maps.",group:"Maps",shortcut:["Ctrl","M"],inputPlaceholder:"Search web maps...",execute:async h=>{},component:Sr,props:h=>({commandSearchContext:f,mapView:e(v),inputPlaceholder:c.inputPlaceholder})};return c}function A(){return{id:"add-layer",name:"Add layers",description:"Fetch and display our layers.",group:"Maps",shortcut:["Ctrl","L"],execute:async c=>{}}}function g(){return{id:"add-organisation",name:"Add organisation",description:"Find and add an organisation to filter items by.",group:"Maps",shortcut:["Ctrl","O"],inputPlaceholder:"Search organisations...",component:Rr,execute:async c=>{},props:c=>({commandSearchContext:f,inputPlaceholder:"Search organisations..."})}}var C=Lr();pt(C,1,"relative h-full w-full"),Ae(C,"basemap","gray"),Ae(C,"center","-2.231774828836059,53.46531847221502"),Ae(C,"zoom","15");var R=P(C);{var i=c=>{var h=Er(),q=P(h);{let T=O(()=>[e(r),e(_),e(S)]);xr(q,{class:"w-full max-w-md",get commands(){return e(T)},get ref(){return e(p)},set ref(le){n(p,le,!0)}})}$(h),l(c,h)};j(R,c=>{e(r)&&e(_)&&e(S)&&c(i)})}var u=H(R,2);Ae(u,"position","top-left");var m=H(u,2);Ae(m,"position","top-right"),$(C),De(C,c=>n(y,c),()=>e(y)),Ye("arcgisViewReadyChange",C,d),l(M,C),me()}export{un as component};
