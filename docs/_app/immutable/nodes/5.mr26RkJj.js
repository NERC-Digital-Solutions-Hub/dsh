import"../chunks/DsnmJJEf.js";import{o as st}from"../chunks/Bzs1IGhx.js";import{aD as A,v as i,a5 as L,aB as Y,u as le,a4 as Ke,aI as me,D as M,aC as T,E as w,a as n,G as D,f as C,H as P,ay as U,I as x,J as N,F as te,n as fe,aE as ge}from"../chunks/CU6wUyX1.js";import{h as Fe,G as He,F as Ee,T as nt,a as he,S as it,b as ot,s as B,t as Re,c as Ce,g as lt,d as Ge,W as dt,M as ct,C as Te,e as Ae,f as ut}from"../chunks/rGYuOrMa.js";import{p as g,i as W,r as O,s as de,c as z}from"../chunks/CjfPyj--.js";import{C as vt,f as _e,s as Ve,h as ke,H as ht,j as Ze,w as Qe,J as ft,K as gt,L as Xe,M as bt,S as Be,R as mt,N as _t,v as pe,n as Ye,b as j,x as Z,y as ye,O as pt,F as Q,I as yt,G as wt,Q as xt,U as we,V as Oe}from"../chunks/BXAS5bMg.js";import{a as q,d as kt,s as ae}from"../chunks/CMZp0cv5.js";import{b as xe}from"../chunks/DP0V16Nu.js";import{c as $e}from"../chunks/CXdMk6uD.js";const be=Ze({component:"tabs",parts:["root","list","trigger","content"]}),Pe=new vt("Tabs.Root");class ze{static create(e){return Pe.set(new ze(e))}opts;attachment;rovingFocusGroup;#t=Y(Ke([]));get triggerIds(){return i(this.#t)}set triggerIds(e){L(this.#t,e,!0)}valueToTriggerId=new Be;valueToContentId=new Be;constructor(e){this.opts=e,this.attachment=_e(e.ref),this.rovingFocusGroup=new mt({candidateAttr:be.trigger,rootNode:this.opts.ref,loop:this.opts.loop,orientation:this.opts.orientation})}registerTrigger(e,t){return this.triggerIds.push(e),this.valueToTriggerId.set(t,e),()=>{this.triggerIds=this.triggerIds.filter(s=>s!==e),this.valueToTriggerId.delete(t)}}registerContent(e,t){return this.valueToContentId.set(t,e),()=>{this.valueToContentId.delete(t)}}setValue(e){this.opts.value.current=e}#e=A(()=>({id:this.opts.id.current,"data-orientation":ke(this.opts.orientation.current),[be.root]:"",...this.attachment}));get props(){return i(this.#e)}set props(e){L(this.#e,e)}}class je{static create(e){return new je(e,Pe.get())}opts;root;attachment;#t=A(()=>this.root.opts.disabled.current);constructor(e,t){this.opts=e,this.root=t,this.attachment=_e(e.ref)}#e=A(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":ht(this.root.opts.orientation.current),"data-orientation":ke(this.root.opts.orientation.current),[be.list]:"","data-disabled":Ve(i(this.#t)),...this.attachment}));get props(){return i(this.#e)}set props(e){L(this.#e,e)}}class Me{static create(e){return new Me(e,Pe.get())}opts;root;attachment;#t=Y(0);#e=A(()=>this.root.opts.value.current===this.opts.value.current);#a=A(()=>this.opts.disabled.current||this.root.opts.disabled.current);#n=A(()=>this.root.valueToContentId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=_e(e.ref),Qe([()=>this.opts.id.current,()=>this.opts.value.current],([s,r])=>this.root.registerTrigger(s,r)),le(()=>{this.root.triggerIds.length,i(this.#e)||!this.root.opts.value.current?L(this.#t,0):L(this.#t,-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#r(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)}onfocus(e){this.root.opts.activationMode.current!=="automatic"||i(this.#a)||this.#r()}onclick(e){i(this.#a)||this.#r()}onkeydown(e){if(!i(this.#a)){if(e.key===ft||e.key===gt){e.preventDefault(),this.#r();return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#s=A(()=>({id:this.opts.id.current,role:"tab","data-state":et(i(this.#e)),"data-value":this.opts.value.current,"data-orientation":ke(this.root.opts.orientation.current),"data-disabled":Ve(i(this.#a)),"aria-selected":bt(i(this.#e)),"aria-controls":i(this.#n),[be.trigger]:"",disabled:Xe(i(this.#a)),tabindex:i(this.#t),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown,...this.attachment}));get props(){return i(this.#s)}set props(e){L(this.#s,e)}}class De{static create(e){return new De(e,Pe.get())}opts;root;attachment;#t=A(()=>this.root.opts.value.current===this.opts.value.current);#e=A(()=>this.root.valueToTriggerId.get(this.opts.value.current));constructor(e,t){this.opts=e,this.root=t,this.attachment=_e(e.ref),Qe([()=>this.opts.id.current,()=>this.opts.value.current],([s,r])=>this.root.registerContent(s,r))}#a=A(()=>({id:this.opts.id.current,role:"tabpanel",hidden:_t(!i(this.#t)),tabindex:0,"data-value":this.opts.value.current,"data-state":et(i(this.#t)),"aria-labelledby":i(this.#e),"data-orientation":ke(this.root.opts.orientation.current),[be.content]:"",...this.attachment}));get props(){return i(this.#a)}set props(e){L(this.#a,e)}}function et(v){return v?"active":"inactive"}var Pt=C("<div><!></div>");function Ct(v,e){const t=me();M(e,!0);let s=g(e,"id",19,()=>pe(t)),r=g(e,"ref",15,null),u=g(e,"value",15,""),d=g(e,"onValueChange",3,Ye),l=g(e,"orientation",3,"horizontal"),h=g(e,"loop",3,!0),y=g(e,"activationMode",3,"automatic"),p=g(e,"disabled",3,!1),k=O(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const a=ze.create({id:j.with(()=>s()),value:j.with(()=>u(),_=>{u(_),d()(_)}),orientation:j.with(()=>l()),loop:j.with(()=>h()),activationMode:j.with(()=>y()),disabled:j.with(()=>p()),ref:j.with(()=>r(),_=>r(_))}),o=A(()=>ye(k,a.props));var b=T(),c=w(b);{var f=_=>{var S=T(),G=w(S);q(G,()=>e.child,()=>({props:i(o)})),n(_,S)},m=_=>{var S=Pt();Z(S,()=>({...i(o)}));var G=P(S);q(G,()=>e.children??U),x(S),n(_,S)};W(c,_=>{e.child?_(f):_(m,!1)})}n(v,b),D()}var Tt=C("<div><!></div>");function At(v,e){const t=me();M(e,!0);let s=g(e,"id",19,()=>pe(t)),r=g(e,"ref",15,null),u=O(e,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const d=De.create({value:j.with(()=>e.value),id:j.with(()=>s()),ref:j.with(()=>r(),a=>r(a))}),l=A(()=>ye(u,d.props));var h=T(),y=w(h);{var p=a=>{var o=T(),b=w(o);q(b,()=>e.child,()=>({props:i(l)})),n(a,o)},k=a=>{var o=Tt();Z(o,()=>({...i(l)}));var b=P(o);q(b,()=>e.children??U),x(o),n(a,o)};W(y,a=>{e.child?a(p):a(k,!1)})}n(v,h),D()}var It=C("<div><!></div>");function Nt(v,e){const t=me();M(e,!0);let s=g(e,"id",19,()=>pe(t)),r=g(e,"ref",15,null),u=O(e,["$$slots","$$events","$$legacy","child","children","id","ref"]);const d=je.create({id:j.with(()=>s()),ref:j.with(()=>r(),a=>r(a))}),l=A(()=>ye(u,d.props));var h=T(),y=w(h);{var p=a=>{var o=T(),b=w(o);q(b,()=>e.child,()=>({props:i(l)})),n(a,o)},k=a=>{var o=It();Z(o,()=>({...i(l)}));var b=P(o);q(b,()=>e.children??U),x(o),n(a,o)};W(y,a=>{e.child?a(p):a(k,!1)})}n(v,h),D()}var St=C("<button><!></button>");function Vt(v,e){const t=me();M(e,!0);let s=g(e,"disabled",3,!1),r=g(e,"id",19,()=>pe(t)),u=g(e,"type",3,"button"),d=g(e,"ref",15,null),l=O(e,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const h=Me.create({id:j.with(()=>r()),disabled:j.with(()=>s()??!1),value:j.with(()=>e.value),ref:j.with(()=>d(),b=>d(b))}),y=A(()=>ye(l,h.props,{type:u()}));var p=T(),k=w(p);{var a=b=>{var c=T(),f=w(c);q(f,()=>e.child,()=>({props:i(y)})),n(b,c)},o=b=>{var c=St();Z(c,()=>({...i(y)}));var f=P(c);q(f,()=>e.children??U),x(c),n(b,c)};W(k,b=>{e.child?b(a):b(o,!1)})}n(v,p),D()}const zt=Ze({component:"toggle",parts:["root"]});class Le{static create(e){return new Le(e)}opts;attachment;constructor(e){this.opts=e,this.attachment=_e(this.opts.ref),this.onclick=this.onclick.bind(this)}#t(){this.opts.disabled.current||(this.opts.pressed.current=!this.opts.pressed.current)}onclick(e){this.opts.disabled.current||this.#t()}#e=A(()=>({pressed:this.opts.pressed.current}));get snippetProps(){return i(this.#e)}set snippetProps(e){L(this.#e,e)}#a=A(()=>({[zt.root]:"",id:this.opts.id.current,"data-disabled":Ve(this.opts.disabled.current),"aria-pressed":pt(this.opts.pressed.current),"data-state":jt(this.opts.pressed.current),disabled:Xe(this.opts.disabled.current),onclick:this.onclick,...this.attachment}));get props(){return i(this.#a)}set props(e){L(this.#a,e)}}function jt(v){return v?"on":"off"}var Mt=C("<button><!></button>");function Dt(v,e){const t=me();M(e,!0);let s=g(e,"ref",15,null),r=g(e,"id",19,()=>pe(t)),u=g(e,"pressed",15,!1),d=g(e,"onPressedChange",3,Ye),l=g(e,"disabled",3,!1),h=g(e,"type",3,"button"),y=O(e,["$$slots","$$events","$$legacy","ref","id","pressed","onPressedChange","disabled","type","children","child"]);const p=Le.create({pressed:j.with(()=>u(),f=>{u(f),d()(f)}),disabled:j.with(()=>l()??!1),id:j.with(()=>r()),ref:j.with(()=>s(),f=>s(f))}),k=A(()=>ye(y,p.props,{type:h()}));var a=T(),o=w(a);{var b=f=>{var m=T(),_=w(m);{let S=A(()=>({props:i(k),...p.snippetProps}));q(_,()=>e.child,()=>i(S))}n(f,m)},c=f=>{var m=Mt();Z(m,()=>({...i(k)}));var _=P(m);q(_,()=>e.children??U,()=>p.snippetProps),x(m),n(f,m)};W(o,f=>{e.child?f(b):f(c,!1)})}n(v,a),D()}var Lt=C("<div><!></div>");function Ie(v,e){M(e,!0);let t=g(e,"ref",15,null),s=O(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Lt();Z(r,d=>({"data-slot":"card-content",class:d,...s}),[()=>Q("px-6",e.class)]);var u=P(r);q(u,()=>e.children??U),x(r),xe(r,d=>t(d),()=>t()),n(v,r),D()}var qt=C("<div><!></div>");function Ft(v,e){M(e,!0);let t=g(e,"ref",15,null),s=O(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=qt();Z(r,d=>({"data-slot":"card-footer",class:d,...s}),[()=>Q("[.border-t]:pt-6 flex items-center px-6",e.class)]);var u=P(r);q(u,()=>e.children??U),x(r),xe(r,d=>t(d),()=>t()),n(v,r),D()}function Ue(v,e){M(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=O(e,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m9 18 6-6-6-6"}]];yt(v,de({name:"chevron-right"},()=>t,{get iconNode(){return s},children:(r,u)=>{var d=T(),l=w(d);q(l,()=>e.children??U),n(r,d)},$$slots:{default:!0}})),D()}function Ht(v,e){M(e,!0);let t=g(e,"ref",15,null),s=g(e,"value",15,""),r=O(e,["$$slots","$$events","$$legacy","ref","value","class"]);var u=T(),d=w(u);{let l=A(()=>Q("flex flex-col gap-2",e.class));z(d,()=>Ct,(h,y)=>{y(h,de({"data-slot":"tabs",get class(){return i(l)}},()=>r,{get ref(){return t()},set ref(p){t(p)},get value(){return s()},set value(p){s(p)}}))})}n(v,u),D()}function Ne(v,e){M(e,!0);let t=g(e,"ref",15,null),s=O(e,["$$slots","$$events","$$legacy","ref","class"]);var r=T(),u=w(r);{let d=A(()=>Q("flex-1 outline-none",e.class));z(u,()=>At,(l,h)=>{h(l,de({"data-slot":"tabs-content",get class(){return i(d)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))})}n(v,r),D()}function Et(v,e){M(e,!0);let t=g(e,"ref",15,null),s=O(e,["$$slots","$$events","$$legacy","ref","class"]);var r=T(),u=w(r);{let d=A(()=>Q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e.class));z(u,()=>Nt,(l,h)=>{h(l,de({"data-slot":"tabs-list",get class(){return i(d)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))})}n(v,r),D()}function Se(v,e){M(e,!0);let t=g(e,"ref",15,null),s=O(e,["$$slots","$$events","$$legacy","ref","class"]);var r=T(),u=w(r);{let d=A(()=>Q("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e.class));z(u,()=>Vt,(l,h)=>{h(l,de({"data-slot":"tabs-trigger",get class(){return i(d)}},()=>s,{get ref(){return t()},set ref(y){t(y)}}))})}n(v,r),D()}const Rt=$e({base:"hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input shadow-xs hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Gt(v,e){M(e,!0);let t=g(e,"ref",15,null),s=g(e,"pressed",15,!1),r=g(e,"size",3,"default"),u=g(e,"variant",3,"default"),d=O(e,["$$slots","$$events","$$legacy","ref","pressed","class","size","variant"]);var l=T(),h=w(l);{let y=A(()=>Q(Rt({variant:u(),size:r()}),e.class));z(h,()=>Dt,(p,k)=>{k(p,de({"data-slot":"toggle",get class(){return i(y)}},()=>d,{get ref(){return t()},set ref(a){t(a)},get pressed(){return s()},set pressed(a){s(a)}}))})}n(v,l),D()}var Bt=C('<div class="flex w-full !items-center !justify-between gap-2"><div class="pointer-events-none !flex min-w-0 flex-1 !items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div>'),Ot=C('<button><div class="flex w-full items-center justify-between gap-2"><div class="pointer-events-none flex min-w-0 flex-1 items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div></button>');function We(v,e){const t=`calc(100% - ${e.depth*1}rem)`;var s=T(),r=w(s);{var u=l=>{Gt(l,{get pressed(){return e.pressed},class:"mb-1 !h-auto !min-h-9 cursor-pointer rounded-md border border-border/30 bg-card/50 p-2 text-left !whitespace-normal transition-colors hover:bg-card/70 data-[state=on]:!bg-accent data-[state=on]:!text-accent-foreground data-[state=on]:hover:!bg-accent data-[state=on]:hover:!text-accent-foreground",variant:"outline",get style(){return`width: ${t};`},get onPressedChange(){return e.onclick},children:(h,y)=>{var p=Bt(),k=P(p),a=P(k),o=P(a);Fe(o,()=>e.icon),x(a);var b=N(a,2),c=P(b,!0);x(b),x(k);var f=N(k,2);q(f,()=>e.children??U),x(p),te(()=>ae(c,e.name)),n(h,p)},$$slots:{default:!0}})},d=l=>{var h=Ot();h.__click=function(...f){e.onclick?.apply(this,f)};var y=P(h),p=P(y),k=P(p),a=P(k);Fe(a,()=>e.icon),x(k);var o=N(k,2),b=P(o,!0);x(o),x(p);var c=N(p,2);q(c,()=>e.children??U),x(y),x(h),te(()=>{wt(h,1,`mb-1 cursor-pointer rounded-md border border-border/30 p-2 text-left text-sm font-medium transition-colors hover:bg-card/70 ${e.pressed?"bg-accent text-accent-foreground":"bg-card/50"}`),xt(h,`width: ${t};`),ae(b,e.name)}),n(l,h)};W(r,l=>{e.isTogglable?l(u):l(d,!1)})}n(v,s)}kt(["click"]);const Ut=(v,e,t,s)=>e?Wt(v,t):t?s?'<path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14,2 14,8 20,8"/>',Wt=(v,e)=>{switch(v.type){case"group":return He;case"feature":return Ee;case"tile":return nt;default:return e?He:Ee}};var Jt=C('<div class="ml-4 w-full"></div>'),Kt=C('<div class="w-full"><!> <!></div>');function tt(v,e){M(e,!0);const t=g(e,"depth",3,0),s=g(e,"useLayerTypeIcon",3,!1),r=!!e.node.layer&&"visible"in e.node.layer,u=!!(e.node.children&&e.node.children.length);let d=Y(!1),l=Y(!1),h=Y("");function y(){return!e.node.children||!e.getNodeVisibility?!1:e.node.children.some(m=>{const _=e.getNodeVisibility(m.id);return _!==void 0?_:m.layer.visible})}le(()=>{if(e.node){if(u)L(l,y(),!0);else{const m=e.getNodeVisibility?e.getNodeVisibility(e.node.id):void 0;L(l,m!==void 0?m:e.node.layer.visible,!0)}L(h,Ut(e.node.layer,s(),u,i(d)),!0)}});function p(){!r||!e.onNodeVisibilityChange||u||(L(l,!i(l)),e.onNodeVisibilityChange(e.node,i(l)))}function k(){u||p(),e.onNodeClick?.(e.node)}function a(){L(d,!i(d)),e.onNodeClick?.(e.node)}var o=T(),b=w(o);{var c=m=>{var _=Kt(),S=P(_);We(S,{isTogglable:!1,get pressed(){return i(l)},get icon(){return i(h)},get name(){return e.node.name},get depth(){return t()},onclick:a});var G=N(S,2);{var F=I=>{var V=Jt();we(V,21,()=>e.node.children??[],H=>H.id,(H,E)=>{{let R=A(()=>t()+1);tt(H,{get node(){return i(E)},get onNodeClick(){return e.onNodeClick},get onNodeVisibilityChange(){return e.onNodeVisibilityChange},get getNodeVisibility(){return e.getNodeVisibility},get depth(){return i(R)},get useLayerTypeIcon(){return s()}})}}),x(V),n(I,V)};W(G,I=>{i(d)&&I(F)})}x(_),n(m,_)},f=m=>{We(m,{isTogglable:!0,get pressed(){return i(l)},get icon(){return i(h)},get name(){return e.node.name},get depth(){return t()},onclick:k})};W(b,m=>{u?m(c):m(f,!1)})}n(v,o),D()}var Zt=C("<!> <!>",1);function Qt(v,e){M(e,!0);const t=g(e,"webMap",3,null),s=g(e,"treeviewConfig",3,null);le(()=>{if(!t())return;(async()=>{await he.initializeFromWebMap(t(),s())})()});var r=Zt(),u=w(r);it(u,{});var d=N(u,2);z(d,()=>ot,(l,h)=>{h(l,{children:(y,p)=>{var k=T(),a=w(k);we(a,17,()=>he.layerTree,o=>o.id,(o,b)=>{tt(o,{get node(){return i(b)},onNodeClick:()=>{},onNodeVisibilityChange:(c,f)=>he.handleNodeVisibleToggle(c,f),getNodeVisibility:c=>he.getNodeVisibility(c),depth:0,useLayerTypeIcon:!0})}),n(y,k)},$$slots:{default:!0}})}),n(v,r),D()}function Xt(v,e){M(e,!0),le(()=>{if(!B.lastAddedArea)return;(async()=>{if(B.lastAddedArea===null)return;const s=await B.getAreaNamesById([B.lastAddedArea.id]);Re.success(`Area added: ${s?.[0]}`)})()}),le(()=>{if(!B.lastRemovedArea)return;(async()=>{if(B.lastRemovedArea===null)return;const s=await B.getAreaNamesById([B.lastRemovedArea.id]);Re.success(`Area removed: ${s?.[0]}`)})()}),D()}var Yt=C("<!> <!> <!> <!> <!>",1),$t=C("<!> <!>",1);function ea(v,e){const t=g(e,"value",3,"selection-areas");var s=T(),r=w(s);z(r,()=>Ht,(u,d)=>{d(u,{get value(){return t()},get onValueChange(){return e.onValueChange},class:"w-full",children:(l,h)=>{var y=$t(),p=w(y);z(p,()=>Et,(a,o)=>{o(a,{class:"tab-list",children:(b,c)=>{var f=Yt(),m=w(f);z(m,()=>Se,(I,V)=>{V(I,{value:"define-areas",class:"tab-trigger",children:(H,E)=>{fe();var R=ge("Define Areas");n(H,R)},$$slots:{default:!0}})});var _=N(m,2);Ue(_,{class:"separator"});var S=N(_,2);z(S,()=>Se,(I,V)=>{V(I,{value:"select-data",class:"tab-trigger",children:(H,E)=>{fe();var R=ge("Select Data");n(H,R)},$$slots:{default:!0}})});var G=N(S,2);Ue(G,{class:"separator"});var F=N(G,2);z(F,()=>Se,(I,V)=>{V(I,{value:"export",class:"tab-trigger",children:(H,E)=>{fe();var R=ge("Export");n(H,R)},$$slots:{default:!0}})}),n(b,f)},$$slots:{default:!0}})});var k=N(p,2);q(k,()=>e.children??U),n(l,y)},$$slots:{default:!0}})}),n(v,s)}const Je=$e({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white",outline:"bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var ta=C("<a><!></a>"),aa=C("<button><!></button>");function at(v,e){M(e,!0);let t=g(e,"variant",3,"default"),s=g(e,"size",3,"default"),r=g(e,"ref",15,null),u=g(e,"href",3,void 0),d=g(e,"type",3,"button"),l=O(e,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var h=T(),y=w(h);{var p=a=>{var o=ta();Z(o,c=>({"data-slot":"button",class:c,href:e.disabled?void 0:u(),"aria-disabled":e.disabled,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,...l}),[()=>Q(Je({variant:t(),size:s()}),e.class)]);var b=P(o);q(b,()=>e.children??U),x(o),xe(o,c=>r(c),()=>r()),n(a,o)},k=a=>{var o=aa();Z(o,c=>({"data-slot":"button",class:c,type:d(),disabled:e.disabled,...l}),[()=>Q(Je({variant:t(),size:s()}),e.class)]);var b=P(o);q(b,()=>e.children??U),x(o),xe(o,c=>r(c),()=>r()),n(a,o)};W(y,a=>{u()?a(p):a(k,!1)})}n(v,h),D()}var ra=C('<li class="area-item svelte-k8qebj"><span class="area-name svelte-k8qebj"> </span> <!></li>'),sa=C('<ul class="selected-list svelte-k8qebj"></ul> <p class="count svelte-k8qebj"> </p>',1),na=C('<p class="no-selection svelte-k8qebj">No areas selected</p>'),ia=C('<li class="svelte-k8qebj"> </li>'),oa=C('<ul class="selected-list svelte-k8qebj"></ul> <p class="count svelte-k8qebj"> </p>',1),la=C('<p class="no-selection svelte-k8qebj">No data selected</p>'),da=C('<h2 class="svelte-k8qebj">Export Options</h2> <div class="section svelte-k8qebj"><h3 class="svelte-k8qebj"> </h3> <h4 class="svelte-k8qebj">Selected Areas</h4> <!></div> <div class="section svelte-k8qebj"><h4 class="svelte-k8qebj">Selected Data</h4> <!></div>',1);function ca(v,e){M(e,!0);let t=Y(Ke([]));le(()=>{if(!B.layerHighlightState.areaInfos.length){L(t,[],!0);return}(async()=>{const f=await B.getAreaNamesById(B.layerHighlightState.areaInfos.map(_=>_.id)),m=[];for(let _=0;_<f.length;_++)m.push({name:f[_]||"Unknown Area",HighlightAreaInfo:B.layerHighlightState.areaInfos[_]});L(t,m,!0)})()});function s(c){const f=i(t).findIndex(m=>m.name===c);f!==-1&&B.removeSelectedArea(i(t)[f]?.HighlightAreaInfo.id)}var r=da(),u=N(w(r),2),d=P(u),l=P(d,!0);x(d);var h=N(d,4);{var y=c=>{var f=sa(),m=w(f);we(m,21,()=>i(t),Oe,(G,F)=>{var I=ra(),V=P(I),H=P(V,!0);x(V);var E=N(V,2);at(E,{variant:"ghost",size:"sm",class:"area-remove-btn",onclick:()=>s(i(F).name),children:(R,re)=>{fe();var $=ge("Ã—");n(R,$)},$$slots:{default:!0}}),x(I),te(()=>ae(H,i(F).name)),n(G,I)}),x(m);var _=N(m,2),S=P(_);x(_),te(()=>ae(S,`${i(t).length??""} area(s) selected`)),n(c,f)},p=c=>{var f=na();n(c,f)};W(h,c=>{i(t).length>0?c(y):c(p,!1)})}x(u);var k=N(u,2),a=N(P(k),2);{var o=c=>{var f=oa(),m=w(f);we(m,21,()=>[...Ce.SelectedData],Oe,(G,F)=>{var I=ia(),V=P(I);x(I),te(H=>ae(V,`${i(F).name??""}
					${H??""}`),[()=>i(F).fields?`(${i(F).fields.join(", ")})`:"(all fields)"]),n(G,I)}),x(m);var _=N(m,2),S=P(_);x(_),te(()=>ae(S,`${Ce.SelectedData.size??""} data layer(s) selected`)),n(c,f)},b=c=>{var f=la();n(c,f)};W(a,c=>{Ce.SelectedData.size>0?c(o):c(b,!1)})}x(k),te(()=>ae(l,he.visibleNode?.layer.title)),n(v,r),D()}var ua=C('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),va=C('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),ha=C('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),fa=C('<p class="text-sm text-muted-foreground">Click "Export" to begin the download.</p> <!>',1),ga=C("<!> <!>",1),ba=C("<!> <!> <!>",1),ma=C('<div class="flex w-120 min-w-0 flex-col gap-6"><!></div>'),_a=C("<p>Loading map...</p>"),pa=C('<!> <div class="map-section svelte-1xwk4vv"><!></div>',1);function Na(v,e){M(e,!0);const t=a=>{var o=ma(),b=P(o);ea(b,{value:"define-areas",children:(c,f)=>{var m=ba(),_=w(m);z(_,()=>Ne,(F,I)=>{I(F,{value:"define-areas",class:"w-full",children:(V,H)=>{var E=T(),R=w(E);z(R,()=>Te,(re,$)=>{$(re,{class:"w-full overflow-hidden",children:(ce,qe)=>{var X=T(),se=w(X);z(se,()=>Ie,(ue,ee)=>{ee(ue,{class:"card-content overflow-hidden p-0",children:(ne,ie)=>{Ae(ne,{class:"h-[300px] w-full",children:(oe,ve)=>{var J=ua(),K=P(J);Qt(K,{get webMap(){return s.data},get treeviewConfig(){return i(r)}}),x(J),n(oe,J)},$$slots:{default:!0}})},$$slots:{default:!0}})}),n(ce,X)},$$slots:{default:!0}})}),n(V,E)},$$slots:{default:!0}})});var S=N(_,2);z(S,()=>Ne,(F,I)=>{I(F,{value:"select-data",class:"w-full",children:(V,H)=>{var E=T(),R=w(E);z(R,()=>Te,(re,$)=>{$(re,{class:"w-full overflow-hidden",children:(ce,qe)=>{var X=T(),se=w(X);z(se,()=>Ie,(ue,ee)=>{ee(ue,{class:"card-content overflow-hidden p-0",children:(ne,ie)=>{Ae(ne,{class:"h-[300px] w-full",children:(oe,ve)=>{var J=va(),K=P(J);ut(K,{get webMap(){return s.data},get treeviewConfig(){return i(u)}}),x(J),n(oe,J)},$$slots:{default:!0}})},$$slots:{default:!0}})}),n(ce,X)},$$slots:{default:!0}})}),n(V,E)},$$slots:{default:!0}})});var G=N(S,2);z(G,()=>Ne,(F,I)=>{I(F,{value:"export",class:"w-full",children:(V,H)=>{var E=T(),R=w(E);z(R,()=>Te,(re,$)=>{$(re,{class:"w-full overflow-hidden",children:(ce,qe)=>{var X=ga(),se=w(X);z(se,()=>Ie,(ee,ne)=>{ne(ee,{class:"card-content overflow-hidden p-0",children:(ie,oe)=>{Ae(ie,{class:"h-[300px] w-full",children:(ve,J)=>{var K=ha(),rt=P(K);ca(rt,{}),x(K),n(ve,K)},$$slots:{default:!0}})},$$slots:{default:!0}})});var ue=N(se,2);Ft(ue,{class:"flex items-center justify-between",children:(ee,ne)=>{var ie=fa(),oe=N(w(ie),2);at(oe,{children:(ve,J)=>{fe();var K=ge("Export");n(ve,K)},$$slots:{default:!0}}),n(ee,ie)},$$slots:{default:!0}}),n(ce,X)},$$slots:{default:!0}})}),n(V,E)},$$slots:{default:!0}})}),n(c,m)},$$slots:{default:!0}}),x(o),n(a,o)},s=new dt;let r=Y(null),u=Y(null);st(async()=>{const a=await lt(),o=a.portalUrl,b=a.portalItemId,c=a.proxy;L(r,a.treeviewSelectionAreasConfig,!0),L(u,a.treeviewDataConfig||null,!0),B.setNameFields(a.selectionLayersNameFields||[]),console.log("Selection Layers:",Ge(i(r))),await s.initializeAsync({portalUrl:o,itemId:b||"",proxy:c}),console.log("WebMap loaded",Ge(s.data))});var d=pa(),l=w(d);Xt(l,{});var h=N(l,2),y=P(h);{var p=a=>{ct(a,{get webMap(){return s.data},panelPosition:"top-left",menuPosition:"top-right",get panel(){return t}})},k=a=>{var o=_a();n(a,o)};W(y,a=>{s.data?a(p):a(k,!1)})}x(h),n(v,d),D()}export{Na as component};
