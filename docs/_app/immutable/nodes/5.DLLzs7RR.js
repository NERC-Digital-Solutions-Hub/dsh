import"../chunks/DsnmJJEf.js";import{o as qe}from"../chunks/Bzs1IGhx.js";import{aD as T,v as r,a5 as M,aB as U,u as pe,a4 as be,aI as ae,D as j,aC as V,E as P,a as c,G,f as z,H as N,ay as Z,I,J as O,F as Pe,n as Te,aE as Ce}from"../chunks/CU6wUyX1.js";import{aP as Ve,aQ as Ie,aR as Ne,aS as Je,aT as Ke,aU as Qe,aV as le,aW as Xe,aX as Ye,aY as $e,aZ as et,a_ as Se,a$ as Me,b0 as tt}from"../chunks/Rwg6dtTd.js";import{p,i as W,r as H,c as F,s as se}from"../chunks/CjfPyj--.js";import{C as rt,f as ie,h as me,j as de,k as at,l as je,w as Ge,S as st,m as it,o as Ee,p as nt,q as ot,r as Ae,R as lt,s as ne,n as He,b as S,t as Y,u as oe,v as dt,x as $,y as ct,z as ut,A as Be}from"../chunks/B968l6pj.js";import{a as E,d as vt,s as ze}from"../chunks/CMZp0cv5.js";import{b as ft}from"../chunks/DP0V16Nu.js";import{c as ht}from"../chunks/CXdMk6uD.js";const re=je({component:"tabs",parts:["root","list","trigger","content"]}),ce=new rt("Tabs.Root");class ye{static create(e){return ce.set(new ye(e))}opts;attachment;rovingFocusGroup;#t=U(be([]));get triggerIds(){return r(this.#t)}set triggerIds(e){M(this.#t,e,!0)}valueToTriggerId=new Ae;valueToContentId=new Ae;constructor(e){this.opts=e,this.attachment=ie(e.ref),this.rovingFocusGroup=new lt({candidateAttr:re.trigger,rootNode:this.opts.ref,loop:this.opts.loop,orientation:this.opts.orientation})}registerTrigger(e,a){return this.triggerIds.push(e),this.valueToTriggerId.set(a,e),()=>{this.triggerIds=this.triggerIds.filter(i=>i!==e),this.valueToTriggerId.delete(a)}}registerContent(e,a){return this.valueToContentId.set(a,e),()=>{this.valueToContentId.delete(a)}}setValue(e){this.opts.value.current=e}#e=T(()=>({id:this.opts.id.current,"data-orientation":de(this.opts.orientation.current),[re.root]:"",...this.attachment}));get props(){return r(this.#e)}set props(e){M(this.#e,e)}}class we{static create(e){return new we(e,ce.get())}opts;root;attachment;#t=T(()=>this.root.opts.disabled.current);constructor(e,a){this.opts=e,this.root=a,this.attachment=ie(e.ref)}#e=T(()=>({id:this.opts.id.current,role:"tablist","aria-orientation":at(this.root.opts.orientation.current),"data-orientation":de(this.root.opts.orientation.current),[re.list]:"","data-disabled":me(r(this.#t)),...this.attachment}));get props(){return r(this.#e)}set props(e){M(this.#e,e)}}class _e{static create(e){return new _e(e,ce.get())}opts;root;attachment;#t=U(0);#e=T(()=>this.root.opts.value.current===this.opts.value.current);#r=T(()=>this.opts.disabled.current||this.root.opts.disabled.current);#i=T(()=>this.root.valueToContentId.get(this.opts.value.current));constructor(e,a){this.opts=e,this.root=a,this.attachment=ie(e.ref),Ge([()=>this.opts.id.current,()=>this.opts.value.current],([i,n])=>this.root.registerTrigger(i,n)),pe(()=>{this.root.triggerIds.length,r(this.#e)||!this.root.opts.value.current?M(this.#t,0):M(this.#t,-1)}),this.onfocus=this.onfocus.bind(this),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#a(){this.root.opts.value.current!==this.opts.value.current&&this.root.setValue(this.opts.value.current)}onfocus(e){this.root.opts.activationMode.current!=="automatic"||r(this.#r)||this.#a()}onclick(e){r(this.#r)||this.#a()}onkeydown(e){if(!r(this.#r)){if(e.key===st||e.key===it){e.preventDefault(),this.#a();return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#s=T(()=>({id:this.opts.id.current,role:"tab","data-state":Oe(r(this.#e)),"data-value":this.opts.value.current,"data-orientation":de(this.root.opts.orientation.current),"data-disabled":me(r(this.#r)),"aria-selected":nt(r(this.#e)),"aria-controls":r(this.#i),[re.trigger]:"",disabled:Ee(r(this.#r)),tabindex:r(this.#t),onclick:this.onclick,onfocus:this.onfocus,onkeydown:this.onkeydown,...this.attachment}));get props(){return r(this.#s)}set props(e){M(this.#s,e)}}class xe{static create(e){return new xe(e,ce.get())}opts;root;attachment;#t=T(()=>this.root.opts.value.current===this.opts.value.current);#e=T(()=>this.root.valueToTriggerId.get(this.opts.value.current));constructor(e,a){this.opts=e,this.root=a,this.attachment=ie(e.ref),Ge([()=>this.opts.id.current,()=>this.opts.value.current],([i,n])=>this.root.registerContent(i,n))}#r=T(()=>({id:this.opts.id.current,role:"tabpanel",hidden:ot(!r(this.#t)),tabindex:0,"data-value":this.opts.value.current,"data-state":Oe(r(this.#t)),"aria-labelledby":r(this.#e),"data-orientation":de(this.root.opts.orientation.current),[re.content]:"",...this.attachment}));get props(){return r(this.#r)}set props(e){M(this.#r,e)}}function Oe(h){return h?"active":"inactive"}var gt=z("<div><!></div>");function bt(h,e){const a=ae();j(e,!0);let i=p(e,"id",19,()=>ne(a)),n=p(e,"ref",15,null),g=p(e,"value",15,""),o=p(e,"onValueChange",3,He),u=p(e,"orientation",3,"horizontal"),f=p(e,"loop",3,!0),_=p(e,"activationMode",3,"automatic"),l=p(e,"disabled",3,!1),y=H(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","orientation","loop","activationMode","disabled","children","child"]);const d=ye.create({id:S.with(()=>i()),value:S.with(()=>g(),s=>{g(s),o()(s)}),orientation:S.with(()=>u()),loop:S.with(()=>f()),activationMode:S.with(()=>_()),disabled:S.with(()=>l()),ref:S.with(()=>n(),s=>n(s))}),b=T(()=>oe(y,d.props));var m=V(),C=P(m);{var k=s=>{var v=V(),w=P(v);E(w,()=>e.child,()=>({props:r(b)})),c(s,v)},t=s=>{var v=gt();Y(v,()=>({...r(b)}));var w=N(v);E(w,()=>e.children??Z),I(v),c(s,v)};W(C,s=>{e.child?s(k):s(t,!1)})}c(h,m),G()}var pt=z("<div><!></div>");function mt(h,e){const a=ae();j(e,!0);let i=p(e,"id",19,()=>ne(a)),n=p(e,"ref",15,null),g=H(e,["$$slots","$$events","$$legacy","children","child","id","ref","value"]);const o=xe.create({value:S.with(()=>e.value),id:S.with(()=>i()),ref:S.with(()=>n(),d=>n(d))}),u=T(()=>oe(g,o.props));var f=V(),_=P(f);{var l=d=>{var b=V(),m=P(b);E(m,()=>e.child,()=>({props:r(u)})),c(d,b)},y=d=>{var b=pt();Y(b,()=>({...r(u)}));var m=N(b);E(m,()=>e.children??Z),I(b),c(d,b)};W(_,d=>{e.child?d(l):d(y,!1)})}c(h,f),G()}var yt=z("<div><!></div>");function wt(h,e){const a=ae();j(e,!0);let i=p(e,"id",19,()=>ne(a)),n=p(e,"ref",15,null),g=H(e,["$$slots","$$events","$$legacy","child","children","id","ref"]);const o=we.create({id:S.with(()=>i()),ref:S.with(()=>n(),d=>n(d))}),u=T(()=>oe(g,o.props));var f=V(),_=P(f);{var l=d=>{var b=V(),m=P(b);E(m,()=>e.child,()=>({props:r(u)})),c(d,b)},y=d=>{var b=yt();Y(b,()=>({...r(u)}));var m=N(b);E(m,()=>e.children??Z),I(b),c(d,b)};W(_,d=>{e.child?d(l):d(y,!1)})}c(h,f),G()}var _t=z("<button><!></button>");function xt(h,e){const a=ae();j(e,!0);let i=p(e,"disabled",3,!1),n=p(e,"id",19,()=>ne(a)),g=p(e,"type",3,"button"),o=p(e,"ref",15,null),u=H(e,["$$slots","$$events","$$legacy","child","children","disabled","id","type","value","ref"]);const f=_e.create({id:S.with(()=>n()),disabled:S.with(()=>i()??!1),value:S.with(()=>e.value),ref:S.with(()=>o(),m=>o(m))}),_=T(()=>oe(u,f.props,{type:g()}));var l=V(),y=P(l);{var d=m=>{var C=V(),k=P(C);E(k,()=>e.child,()=>({props:r(_)})),c(m,C)},b=m=>{var C=_t();Y(C,()=>({...r(_)}));var k=N(C);E(k,()=>e.children??Z),I(C),c(m,C)};W(y,m=>{e.child?m(d):m(b,!1)})}c(h,l),G()}const kt=je({component:"toggle",parts:["root"]});class ke{static create(e){return new ke(e)}opts;attachment;constructor(e){this.opts=e,this.attachment=ie(this.opts.ref),this.onclick=this.onclick.bind(this)}#t(){this.opts.disabled.current||(this.opts.pressed.current=!this.opts.pressed.current)}onclick(e){this.opts.disabled.current||this.#t()}#e=T(()=>({pressed:this.opts.pressed.current}));get snippetProps(){return r(this.#e)}set snippetProps(e){M(this.#e,e)}#r=T(()=>({[kt.root]:"",id:this.opts.id.current,"data-disabled":me(this.opts.disabled.current),"aria-pressed":dt(this.opts.pressed.current),"data-state":Pt(this.opts.pressed.current),disabled:Ee(this.opts.disabled.current),onclick:this.onclick,...this.attachment}));get props(){return r(this.#r)}set props(e){M(this.#r,e)}}function Pt(h){return h?"on":"off"}var Tt=z("<button><!></button>");function Ct(h,e){const a=ae();j(e,!0);let i=p(e,"ref",15,null),n=p(e,"id",19,()=>ne(a)),g=p(e,"pressed",15,!1),o=p(e,"onPressedChange",3,He),u=p(e,"disabled",3,!1),f=p(e,"type",3,"button"),_=H(e,["$$slots","$$events","$$legacy","ref","id","pressed","onPressedChange","disabled","type","children","child"]);const l=ke.create({pressed:S.with(()=>g(),k=>{g(k),o()(k)}),disabled:S.with(()=>u()??!1),id:S.with(()=>n()),ref:S.with(()=>i(),k=>i(k))}),y=T(()=>oe(_,l.props,{type:f()}));var d=V(),b=P(d);{var m=k=>{var t=V(),s=P(t);{let v=T(()=>({props:r(y),...l.snippetProps}));E(s,()=>e.child,()=>r(v))}c(k,t)},C=k=>{var t=Tt();Y(t,()=>({...r(y)}));var s=N(t);E(s,()=>e.children??Z,()=>l.snippetProps),I(t),c(k,t)};W(b,k=>{e.child?k(m):k(C,!1)})}c(h,d),G()}var Vt=z("<div><!></div>");function Le(h,e){j(e,!0);let a=p(e,"ref",15,null),i=H(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Vt();Y(n,o=>({"data-slot":"card-content",class:o,...i}),[()=>$("px-6",e.class)]);var g=N(n);E(g,()=>e.children??Z),I(n),ft(n,o=>a(o),()=>a()),c(h,n),G()}function It(h,e){j(e,!0);let a=p(e,"ref",15,null),i=p(e,"value",15,""),n=H(e,["$$slots","$$events","$$legacy","ref","value","class"]);var g=V(),o=P(g);{let u=T(()=>$("flex flex-col gap-2",e.class));F(o,()=>bt,(f,_)=>{_(f,se({"data-slot":"tabs",get class(){return r(u)}},()=>n,{get ref(){return a()},set ref(l){a(l)},get value(){return i()},set value(l){i(l)}}))})}c(h,g),G()}function De(h,e){j(e,!0);let a=p(e,"ref",15,null),i=H(e,["$$slots","$$events","$$legacy","ref","class"]);var n=V(),g=P(n);{let o=T(()=>$("flex-1 outline-none",e.class));F(g,()=>mt,(u,f)=>{f(u,se({"data-slot":"tabs-content",get class(){return r(o)}},()=>i,{get ref(){return a()},set ref(_){a(_)}}))})}c(h,n),G()}function Nt(h,e){j(e,!0);let a=p(e,"ref",15,null),i=H(e,["$$slots","$$events","$$legacy","ref","class"]);var n=V(),g=P(n);{let o=T(()=>$("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e.class));F(g,()=>wt,(u,f)=>{f(u,se({"data-slot":"tabs-list",get class(){return r(o)}},()=>i,{get ref(){return a()},set ref(_){a(_)}}))})}c(h,n),G()}function Fe(h,e){j(e,!0);let a=p(e,"ref",15,null),i=H(e,["$$slots","$$events","$$legacy","ref","class"]);var n=V(),g=P(n);{let o=T(()=>$("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 whitespace-nowrap rounded-md border border-transparent px-2 py-1 text-sm font-medium transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",e.class));F(g,()=>xt,(u,f)=>{f(u,se({"data-slot":"tabs-trigger",get class(){return r(o)}},()=>i,{get ref(){return a()},set ref(_){a(_)}}))})}c(h,n),G()}const St=ht({base:"hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",outline:"border-input shadow-xs hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Mt(h,e){j(e,!0);let a=p(e,"ref",15,null),i=p(e,"pressed",15,!1),n=p(e,"size",3,"default"),g=p(e,"variant",3,"default"),o=H(e,["$$slots","$$events","$$legacy","ref","pressed","class","size","variant"]);var u=V(),f=P(u);{let _=T(()=>$(St({variant:g(),size:n()}),e.class));F(f,()=>Ct,(l,y)=>{y(l,se({"data-slot":"toggle",get class(){return r(_)}},()=>o,{get ref(){return a()},set ref(d){a(d)},get pressed(){return i()},set pressed(d){i(d)}}))})}c(h,u),G()}var At=z('<div class="flex w-full !items-center !justify-between gap-2"><div class="pointer-events-none !flex min-w-0 flex-1 !items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div>'),zt=z('<button><div class="flex w-full items-center justify-between gap-2"><div class="pointer-events-none flex min-w-0 flex-1 items-center gap-1"><span class="inline-block size-4" aria-hidden="true"><!></span> <span class="block w-full text-left break-words"> </span></div> <!></div></button>');function Re(h,e){const a=`calc(100% - ${e.depth*1}rem)`;var i=V(),n=P(i);{var g=u=>{Mt(u,{get pressed(){return e.pressed},class:"mb-1 !h-auto !min-h-9 cursor-pointer rounded-md border border-border/30 bg-card/50 p-2 text-left !whitespace-normal transition-colors hover:bg-card/70 data-[state=on]:!bg-accent data-[state=on]:!text-accent-foreground data-[state=on]:hover:!bg-accent data-[state=on]:hover:!text-accent-foreground",variant:"outline",get style(){return`width: ${a};`},get onPressedChange(){return e.onclick},children:(f,_)=>{var l=At(),y=N(l),d=N(y),b=N(d);Ve(b,()=>e.icon),I(d);var m=O(d,2),C=N(m,!0);I(m),I(y);var k=O(y,2);E(k,()=>e.children??Z),I(l),Pe(()=>ze(C,e.name)),c(f,l)},$$slots:{default:!0}})},o=u=>{var f=zt();f.__click=function(...k){e.onclick?.apply(this,k)};var _=N(f),l=N(_),y=N(l),d=N(y);Ve(d,()=>e.icon),I(y);var b=O(y,2),m=N(b,!0);I(b),I(l);var C=O(l,2);E(C,()=>e.children??Z),I(_),I(f),Pe(()=>{ct(f,1,`mb-1 cursor-pointer rounded-md border border-border/30 p-2 text-left text-sm font-medium transition-colors hover:bg-card/70 ${e.pressed?"bg-accent text-accent-foreground":"bg-card/50"}`),ut(f,`width: ${a};`),ze(m,e.name)}),c(u,f)};W(n,u=>{e.isTogglable?u(g):u(o,!1)})}c(h,i)}vt(["click"]);const Lt=(h,e,a,i)=>e?Dt(h,a):a?i?'<path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>':'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14,2 14,8 20,8"/>',Dt=(h,e)=>{switch(h.type){case"group":return Ie;case"feature":return Ne;case"tile":return Je;default:return e?Ie:Ne}};var Ft=z('<div class="ml-4 w-full"></div>'),Rt=z('<div class="w-full"><!> <!></div>');function Ue(h,e){j(e,!0);const a=p(e,"depth",3,0),i=p(e,"useLayerTypeIcon",3,!1),n=!!e.node.layer&&"visible"in e.node.layer,g=!!(e.node.children&&e.node.children.length);let o=U(!1),u=U(!1),f=U("");function _(){return!e.node.children||!e.getNodeVisibility?!1:e.node.children.some(t=>{const s=e.getNodeVisibility(t.id);return s!==void 0?s:t.layer.visible})}pe(()=>{if(e.node){if(g)M(u,_(),!0);else{const t=e.getNodeVisibility?e.getNodeVisibility(e.node.id):void 0;M(u,t!==void 0?t:e.node.layer.visible,!0)}M(f,Lt(e.node.layer,i(),g,r(o)),!0)}});function l(){!n||!e.onNodeVisibilityChange||g||(M(u,!r(u)),e.onNodeVisibilityChange(e.node,r(u)))}function y(){g||l(),e.onNodeClick?.(e.node)}function d(){M(o,!r(o)),e.onNodeClick?.(e.node)}var b=V(),m=P(b);{var C=t=>{var s=Rt(),v=N(s);Re(v,{isTogglable:!1,get pressed(){return r(u)},get icon(){return r(f)},get name(){return e.node.name},get depth(){return a()},onclick:d});var w=O(v,2);{var x=L=>{var A=Ft();Be(A,21,()=>e.node.children??[],R=>R.id,(R,D)=>{{let B=T(()=>a()+1);Ue(R,{get node(){return r(D)},get onNodeClick(){return e.onNodeClick},get onNodeVisibilityChange(){return e.onNodeVisibilityChange},get getNodeVisibility(){return e.getNodeVisibility},get depth(){return r(B)},get useLayerTypeIcon(){return i()}})}}),I(A),c(L,A)};W(w,L=>{r(o)&&L(x)})}I(s),c(t,s)},k=t=>{Re(t,{isTogglable:!0,get pressed(){return r(u)},get icon(){return r(f)},get name(){return e.node.name},get depth(){return a()},onclick:y})};W(m,t=>{g?t(C):t(k,!1)})}c(h,b),G()}var jt=z("<!> <!>",1);function Gt(h,e){j(e,!0);const a=p(e,"webMap",3,null),i=p(e,"treeviewConfig",3,null);let n=U(be([]));const g=T(()=>{const t=new Map;function s(v){for(const w of v)t.set(w.id,w),w.children&&w.children.length&&s(w.children)}return s(r(n)),t});let o=U(be(new Map));pe(()=>{if(!a()){M(n,[],!0);return}(async()=>{await a().when();const s=await f(a());M(n,s,!0),u(s)})()});function u(t){const s=new Map;function v(w){for(const x of w)x.layer.visible=!1,s.set(x.id,!1),x.children&&x.children.length&&v(x.children)}v(t),M(o,s,!0)}async function f(t){const s=[];for(const w of t.layers.toArray())s.push(await _(w));return i()?i().map(w=>s.find(x=>x.name===w.name)).filter(w=>w!==void 0):s}async function _(t){const s={id:t.uid,name:t.title,layer:t,children:[]};if(t.type==="group"){const v=t;return s.children=await Promise.all(v.layers.toArray().map(w=>_(w))),s}return(t.type==="map-image"||t.type==="wms")&&t.sublayers&&t.sublayers.length>0&&(s.children=await l(t.sublayers)),s}async function l(t){const s=[];for(const v of t.toArray())s.push(await y(v));return s}async function y(t){const s={id:t.uid,name:t.title,layer:t,children:[]};return t.sublayers&&t.sublayers.length&&(s.children=await l(t.sublayers)),s}function d(t,s){if(!t||!t.layer||!("visible"in t.layer))return;for(const[w]of r(o)){if(!r(o).get(w))continue;r(o).set(w,!1);const L=r(g).get(w);console.log("currentNode",le(L)),console.log("key",w),L&&(L.layer.visible=!1)}t.layer.visible=s,r(o).set(t.id,s),console.log("node.layer.title",t.layer.title),Xe.success(`'${t.layer.title}' Selected`);const v=t.layer.parent;if(v&&v.type==="group"){let w=function(A){if(A.type!=="group")return;const R=A;!R.visible&&R.layers.some(B=>B.visible)&&(R.visible=!0,r(o).set(R.uid,!0));const D=R.parent;D&&D.type==="group"&&w(D)},x=!1;for(const A of v.layers)if(A.visible){x=!0;break}x&&s&&(v.visible=x,r(o).set(v.uid,x),w(v)),(r(o).get(v.uid)??v.visible)!==x&&!x&&(v.visible=x,r(o).set(v.uid,x))}M(o,new Map(r(o)),!0)}function b(t){return r(o).get(t)}var m=jt(),C=P(m);Ke(C,{});var k=O(C,2);F(k,()=>Qe,(t,s)=>{s(t,{children:(v,w)=>{var x=V(),L=P(x);Be(L,17,()=>r(n),A=>A.id,(A,R)=>{Ue(A,{get node(){return r(R)},onNodeClick:D=>console.log("clicked",le(D)),onNodeVisibilityChange:d,getNodeVisibility:b,depth:0,useLayerTypeIcon:!0})}),c(v,x)},$$slots:{default:!0}})}),c(h,m),G()}var Et=z("<!> <!>",1),Ht=z('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),Bt=z('<div class="min-w-0 space-y-2 overflow-hidden p-4"><!></div>'),Ot=z("<!> <!> <!>",1),Ut=z('<div class="flex w-120 min-w-0 flex-col gap-6"><!></div>'),Wt=z("<p>Loading map...</p>"),Zt=z('<div class="map-section svelte-1xwk4vv"><!></div>');function rr(h,e){j(e,!0);const a=l=>{var y=Ut(),d=N(y);F(d,()=>It,(b,m)=>{m(b,{value:"selection-areas",class:"w-full",children:(C,k)=>{var t=Ot(),s=P(t);F(s,()=>Nt,(x,L)=>{L(x,{children:(A,R)=>{var D=Et(),B=P(D);F(B,()=>Fe,(q,J)=>{J(q,{value:"selection-areas",children:(te,K)=>{Te();var Q=Ce("Selection Areas");c(te,Q)},$$slots:{default:!0}})});var ee=O(B,2);F(ee,()=>Fe,(q,J)=>{J(q,{value:"data",children:(te,K)=>{Te();var Q=Ce("Layers");c(te,Q)},$$slots:{default:!0}})}),c(A,D)},$$slots:{default:!0}})});var v=O(s,2);F(v,()=>De,(x,L)=>{L(x,{value:"selection-areas",class:"w-full",children:(A,R)=>{var D=V(),B=P(D);F(B,()=>Se,(ee,q)=>{q(ee,{class:"w-full overflow-hidden",children:(J,te)=>{var K=V(),Q=P(K);F(Q,()=>Le,(ue,ve)=>{ve(ue,{class:"card-content overflow-hidden p-0",children:(fe,We)=>{Me(fe,{class:"h-[300px] w-full",children:(he,Ze)=>{var X=Ht(),ge=N(X);Gt(ge,{get webMap(){return i.data},get treeviewConfig(){return r(n)}}),I(X),c(he,X)},$$slots:{default:!0}})},$$slots:{default:!0}})}),c(J,K)},$$slots:{default:!0}})}),c(A,D)},$$slots:{default:!0}})});var w=O(v,2);F(w,()=>De,(x,L)=>{L(x,{value:"data",class:"w-full",children:(A,R)=>{var D=V(),B=P(D);F(B,()=>Se,(ee,q)=>{q(ee,{class:"w-full overflow-hidden",children:(J,te)=>{var K=V(),Q=P(K);F(Q,()=>Le,(ue,ve)=>{ve(ue,{class:"card-content overflow-hidden p-0",children:(fe,We)=>{Me(fe,{class:"h-[300px] w-full",children:(he,Ze)=>{var X=Bt(),ge=N(X);tt(ge,{get webMap(){return i.data},get treeviewConfig(){return r(g)}}),I(X),c(he,X)},$$slots:{default:!0}})},$$slots:{default:!0}})}),c(J,K)},$$slots:{default:!0}})}),c(A,D)},$$slots:{default:!0}})}),c(C,t)},$$slots:{default:!0}})}),I(y),c(l,y)},i=new $e;let n=U(null),g=U(null);qe(async()=>{const l=await Ye(),y=l.portalUrl,d=l.portalItemId,b=l.proxy;M(n,l.treeviewSelectionAreasConfig,!0),M(g,l.treeviewDataConfig||null,!0),console.log("Selection Layers:",le(r(n))),await i.initializeAsync({portalUrl:y,itemId:d||"",proxy:b}),console.log("WebMap loaded",le(i.data))});var o=Zt(),u=N(o);{var f=l=>{et(l,{get webMap(){return i.data},panelPosition:"top-left",menuPosition:"top-right",get panel(){return a}})},_=l=>{var y=Wt();c(l,y)};W(u,l=>{i.data?l(f):l(_,!1)})}I(o),c(h,o),G()}export{rr as component};
