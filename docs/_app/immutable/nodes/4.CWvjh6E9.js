import"../chunks/DsnmJJEf.js";import{o as Lt}from"../chunks/Bzs1IGhx.js";import{L as Sn,M as Pn,aD as m,v as o,a5 as w,aB as F,a4 as yt,u as q,aI as et,D as I,aC as M,E as O,a as y,G as k,f as B,H as W,ay as N,I as K,b9 as Xe,J as St,F as Nt,n as ke,aE as Te}from"../chunks/CU6wUyX1.js";import{C as An,e as xn,t as Ee,S as On,g as Cn,d as De,W as Mn,M as Fn,f as _n}from"../chunks/rGYuOrMa.js";import{p as u,i as L,r as D,s as H,c as U}from"../chunks/CjfPyj--.js";import"../chunks/nye1TwT2.js";import{a as _,o as st,s as Yt}from"../chunks/CMZp0cv5.js";import{W as In,X as kn,Y as Tn,C as nt,f as V,h as kt,s as vt,r as mt,j as Zt,J as Pt,K as It,Z as qe,q as Jt,w as Q,R as Qt,v as rt,n as R,b as f,x as J,y as Y,P as je,D as Ze,e as $t,_ as En,$ as ht,a0 as Dn,k as te,a1 as Ne,a as Nn,S as Bn,a2 as Rn,a3 as Wn,a4 as Kn,m as Je,p as Bt,a5 as Ln,a6 as Vn,a7 as Hn,a8 as zn,a9 as Gn,g as ee,c as Xt,l as Un,T as Qe,aa as Yn,H as Xn,ab as qn,A as Be,o as Re,B as jn,F as wt,G as Zn,I as Jn,U as We,V as Ke}from"../chunks/BXAS5bMg.js";import{c as ot,o as Vt,b as $e,E as Qn,D as $n,f as tr,C as er,P as nr}from"../chunks/BmuqUs75.js";import{t as tn,f as en,a as nn,i as ne}from"../chunks/Blk-g9ae.js";import{c as rr,o as ir,s as or,f as sr,e as ar,d as ur,h as cr,l as lr,a as dr}from"../chunks/jjnFKm2P.js";function hr(r,t,e,n,i){Sn&&Pn();var a=t.$$slots?.[e],s=!1;a===!0&&(a=t.children,s=!0),a===void 0||a(r,s?()=>n:n)}function Le(r){return In(r)?r():r}class fr{#t={width:0,height:0};#e=!1;#n;#r;#i;#o=m(()=>(o(this.#a)?.(),this.getSize().width));#s=m(()=>(o(this.#a)?.(),this.getSize().height));#a=m(()=>{const t=Le(this.#r);if(t)return kn(e=>{if(!this.#i)return;const n=new this.#i.ResizeObserver(i=>{this.#e=!0;for(const a of i){const s=this.#n.box==="content-box"?a.contentBoxSize:a.borderBoxSize,l=Array.isArray(s)?s:[s];this.#t.width=l.reduce((c,h)=>Math.max(c,h.inlineSize),0),this.#t.height=l.reduce((c,h)=>Math.max(c,h.blockSize),0)}e()});return n.observe(t),()=>{this.#e=!1,n.disconnect()}})});constructor(t,e={box:"border-box"}){this.#i=e.window??Tn,this.#n=e,this.#r=t,this.#t={width:0,height:0}}calculateSize(){const t=Le(this.#r);if(!t||!this.#i)return;const e=t.offsetWidth,n=t.offsetHeight;if(this.#n.box==="border-box")return{width:e,height:n};const i=this.#i.getComputedStyle(t),a=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),l=parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),c=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),h=e-a-l,P=n-s-c;return{width:h,height:P}}getSize(){return this.#e?this.#t:this.calculateSize()??this.#t}get current(){return o(this.#a)?.(),this.getSize()}get width(){return o(this.#o)}get height(){return o(this.#s)}}const At=Zt({component:"accordion",parts:["root","trigger","content","item","header"]}),rn=new nt("Accordion.Root"),Ht=new nt("Accordion.Item");class on{opts;rovingFocusGroup;attachment;constructor(t){this.opts=t,this.rovingFocusGroup=new Qt({rootNode:this.opts.ref,candidateAttr:At.trigger,loop:this.opts.loop,orientation:this.opts.orientation}),this.attachment=V(this.opts.ref)}#t=m(()=>({id:this.opts.id.current,"data-orientation":kt(this.opts.orientation.current),"data-disabled":vt(this.opts.disabled.current),[At.root]:"",...this.attachment}));get props(){return o(this.#t)}set props(t){w(this.#t,t)}}class gr extends on{opts;isMulti=!1;constructor(t){super(t),this.opts=t,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.opts.value.current===t}toggleItem(t){this.opts.value.current=this.includesItem(t)?"":t}}class pr extends on{#t;isMulti=!0;constructor(t){super(t),this.#t=t.value,this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(t){return this.#t.current.includes(t)}toggleItem(t){this.#t.current=this.includesItem(t)?this.#t.current.filter(e=>e!==t):[...this.#t.current,t]}}class vr{static create(t){const{type:e,...n}=t,i=e==="single"?new gr(n):new pr(n);return rn.set(i)}}class re{static create(t){return Ht.set(new re({...t,rootState:rn.get()}))}opts;root;#t=m(()=>this.root.includesItem(this.opts.value.current));get isActive(){return o(this.#t)}set isActive(t){w(this.#t,t)}#e=m(()=>this.opts.disabled.current||this.root.opts.disabled.current);get isDisabled(){return o(this.#e)}set isDisabled(t){w(this.#e,t)}attachment;constructor(t){this.opts=t,this.root=t.rootState,this.updateValue=this.updateValue.bind(this),this.attachment=V(this.opts.ref)}updateValue(){this.root.toggleItem(this.opts.value.current)}#n=m(()=>({id:this.opts.id.current,"data-state":mt(this.isActive),"data-disabled":vt(this.isDisabled),"data-orientation":kt(this.root.opts.orientation.current),[At.item]:"",...this.attachment}));get props(){return o(this.#n)}set props(t){w(this.#n,t)}}class ie{opts;itemState;#t;#e=m(()=>this.opts.disabled.current||this.itemState.opts.disabled.current||this.#t.opts.disabled.current);attachment;constructor(t,e){this.opts=t,this.itemState=e,this.#t=e.root,this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),this.attachment=V(this.opts.ref)}static create(t){return new ie(t,Ht.get())}onclick(t){if(o(this.#e)||t.button!==0){t.preventDefault();return}this.itemState.updateValue()}onkeydown(t){if(!o(this.#e)){if(t.key===Pt||t.key===It){t.preventDefault(),this.itemState.updateValue();return}this.#t.rovingFocusGroup.handleKeydown(this.opts.ref.current,t)}}#n=m(()=>({id:this.opts.id.current,disabled:o(this.#e),"aria-expanded":Jt(this.itemState.isActive),"aria-disabled":qe(o(this.#e)),"data-disabled":vt(o(this.#e)),"data-state":mt(this.itemState.isActive),"data-orientation":kt(this.#t.opts.orientation.current),[At.trigger]:"",tabindex:0,onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return o(this.#n)}set props(t){w(this.#n,t)}}class oe{opts;item;attachment;#t=void 0;#e=!1;#n=F(yt({width:0,height:0}));#r=m(()=>this.opts.forceMount.current||this.item.isActive);get open(){return o(this.#r)}set open(t){w(this.#r,t)}constructor(t,e){this.opts=t,this.item=e,this.#e=this.item.isActive,this.attachment=V(this.opts.ref),q(()=>{const n=requestAnimationFrame(()=>{this.#e=!1});return()=>cancelAnimationFrame(n)}),Q([()=>this.open,()=>this.opts.ref.current],this.#i)}static create(t){return new oe(t,Ht.get())}#i=([t,e])=>{e&&ot(()=>{const n=this.opts.ref.current;if(!n)return;this.#t??={transitionDuration:n.style.transitionDuration,animationName:n.style.animationName},n.style.transitionDuration="0s",n.style.animationName="none";const i=n.getBoundingClientRect();w(this.#n,{width:i.width,height:i.height},!0),!this.#e&&this.#t&&(n.style.transitionDuration=this.#t.transitionDuration,n.style.animationName=this.#t.animationName)})};#o=m(()=>({open:this.item.isActive}));get snippetProps(){return o(this.#o)}set snippetProps(t){w(this.#o,t)}#s=m(()=>({id:this.opts.id.current,"data-state":mt(this.item.isActive),"data-disabled":vt(this.item.isDisabled),"data-orientation":kt(this.item.root.opts.orientation.current),[At.content]:"",style:{"--bits-accordion-content-height":`${o(this.#n).height}px`,"--bits-accordion-content-width":`${o(this.#n).width}px`},...this.attachment}));get props(){return o(this.#s)}set props(t){w(this.#s,t)}}class se{opts;item;attachment;constructor(t,e){this.opts=t,this.item=e,this.attachment=V(this.opts.ref)}static create(t){return new se(t,Ht.get())}#t=m(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,"data-heading-level":this.opts.level.current,"data-state":mt(this.item.isActive),"data-orientation":kt(this.item.root.opts.orientation.current),[At.header]:"",...this.attachment}));get props(){return o(this.#t)}set props(t){w(this.#t,t)}}var mr=B("<div><!></div>");function wr(r,t){const e=et();I(t,!0);let n=u(t,"disabled",3,!1),i=u(t,"value",15),a=u(t,"ref",15,null),s=u(t,"id",19,()=>rt(e)),l=u(t,"onValueChange",3,R),c=u(t,"loop",3,!0),h=u(t,"orientation",3,"vertical"),P=D(t,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation"]);function d(){i()===void 0&&i(t.type==="single"?"":[])}d(),Q.pre(()=>i(),()=>{d()});const S=vr.create({type:t.type,value:f.with(()=>i(),A=>{i(A),l()(A)}),id:f.with(()=>s()),disabled:f.with(()=>n()),loop:f.with(()=>c()),orientation:f.with(()=>h()),ref:f.with(()=>a(),A=>a(A))}),b=m(()=>Y(P,S.props));var g=M(),v=O(g);{var p=A=>{var x=M(),T=O(x);_(T,()=>t.child,()=>({props:o(b)})),y(A,x)},C=A=>{var x=mr();J(x,()=>({...o(b)}));var T=W(x);_(T,()=>t.children??N),K(x),y(A,x)};L(v,A=>{t.child?A(p):A(C,!1)})}y(r,g),k()}var br=B("<div><!></div>");function yr(r,t){const e=et();I(t,!0);const n=rt(e);let i=u(t,"id",3,n),a=u(t,"disabled",3,!1),s=u(t,"value",3,n),l=u(t,"ref",15,null),c=D(t,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"]);const h=re.create({value:f.with(()=>s()),disabled:f.with(()=>a()),id:f.with(()=>i()),ref:f.with(()=>l(),v=>l(v))}),P=m(()=>Y(c,h.props));var d=M(),S=O(d);{var b=v=>{var p=M(),C=O(p);_(C,()=>t.child,()=>({props:o(P)})),y(v,p)},g=v=>{var p=br();J(p,()=>({...o(P)}));var C=W(p);_(C,()=>t.children??N),K(p),y(v,p)};L(S,v=>{t.child?v(b):v(g,!1)})}y(r,d),k()}var Sr=B("<div><!></div>");function Pr(r,t){const e=et();I(t,!0);let n=u(t,"id",19,()=>rt(e)),i=u(t,"level",3,2),a=u(t,"ref",15,null),s=D(t,["$$slots","$$events","$$legacy","id","level","children","child","ref"]);const l=se.create({id:f.with(()=>n()),level:f.with(()=>i()),ref:f.with(()=>a(),b=>a(b))}),c=m(()=>Y(s,l.props));var h=M(),P=O(h);{var d=b=>{var g=M(),v=O(g);_(v,()=>t.child,()=>({props:o(c)})),y(b,g)},S=b=>{var g=Sr();J(g,()=>({...o(c)}));var v=W(g);_(v,()=>t.children??N),K(g),y(b,g)};L(P,b=>{t.child?b(d):b(S,!1)})}y(r,h),k()}var Ar=B("<button><!></button>");function xr(r,t){const e=et();I(t,!0);let n=u(t,"disabled",3,!1),i=u(t,"ref",15,null),a=u(t,"id",19,()=>rt(e)),s=D(t,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"]);const l=ie.create({disabled:f.with(()=>n()),id:f.with(()=>a()),ref:f.with(()=>i(),b=>i(b))}),c=m(()=>Y(s,l.props));var h=M(),P=O(h);{var d=b=>{var g=M(),v=O(g);_(v,()=>t.child,()=>({props:o(c)})),y(b,g)},S=b=>{var g=Ar();J(g,()=>({type:"button",...o(c)}));var v=W(g);_(v,()=>t.children??N),K(g),y(b,g)};L(P,b=>{t.child?b(d):b(S,!1)})}y(r,h),k()}var Or=B("<div><!></div>");function Cr(r,t){const e=et();I(t,!0);let n=u(t,"ref",15,null),i=u(t,"id",19,()=>rt(e)),a=u(t,"forceMount",3,!1),s=D(t,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"]);const l=oe.create({forceMount:f.with(()=>a()),id:f.with(()=>i()),ref:f.with(()=>n(),c=>n(c))});je(r,{forceMount:!0,get open(){return l.open},get ref(){return l.opts.ref},presence:(h,P)=>{let d=()=>P?.().present;const S=m(()=>Y(s,l.props,{hidden:a()?void 0:!d()}));var b=M(),g=O(b);{var v=C=>{var A=M(),x=O(A);{let T=m(()=>({props:o(S),...l.snippetProps}));_(x,()=>t.child,()=>o(T))}y(C,A)},p=C=>{var A=Or();J(A,()=>({...o(S)}));var x=W(A);_(x,()=>t.children??N),K(A),y(C,A)};L(g,C=>{t.child?C(v):C(p,!1)})}y(h,b)},$$slots:{presence:!0}}),k()}class Mr{#t;#e=void 0;#n=!1;constructor(t){this.#t=t,Vt(()=>this.#r())}#r(){this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=void 0),this.#n=!1}run(t){if(this.#n)return;this.#r(),this.#n=!0;const e=this.#t.ref.current;if(!e){this.#n=!1;return}if(typeof e.getAnimations!="function"){this.#i(t);return}this.#e=window.requestAnimationFrame(()=>{const n=e.getAnimations();if(n.length===0){this.#i(t);return}Promise.allSettled(n.map(i=>i.finished)).then(()=>{this.#i(t)})})}#i(t){const e=()=>{t(),this.#n=!1};this.#t.afterTick?ot(e):e()}}class Fr{#t;#e;#n;constructor(t){this.#t=t,this.#e=t.enabled??!0,this.#n=new Mr({ref:this.#t.ref,afterTick:this.#t.open}),Q([()=>this.#t.open.current],([e])=>{this.#e&&this.#n.run(()=>{e===this.#t.open.current&&this.#t.onComplete()})})}}class ae{static instance;#t=f([]);#e=new WeakMap;#n=new WeakMap;static getInstance(){return this.instance||(this.instance=new ae),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause();const n=document.activeElement;n&&n!==document.body&&this.#n.set(t,n),this.#t.current=this.#t.current.filter(i=>i!==t),this.#t.current.unshift(t)}unregister(t){this.#t.current=this.#t.current.filter(n=>n!==t);const e=this.getActive();e&&e.resume()}getActive(){return this.#t.current[0]}setFocusMemory(t,e){this.#e.set(t,e)}getFocusMemory(t){return this.#e.get(t)}isActiveScope(t){return this.getActive()===t}setPreFocusMemory(t,e){this.#n.set(t,e)}getPreFocusMemory(t){return this.#n.get(t)}clearPreFocusMemory(t){this.#n.delete(t)}}class ue{#t=!1;#e=null;#n=ae.getInstance();#r=[];#i;constructor(t){this.#i=t}get paused(){return this.#t}pause(){this.#t=!0}resume(){this.#t=!1}#o(){for(const t of this.#r)t();this.#r=[]}mount(t){this.#e&&this.unmount(),this.#e=t,this.#n.register(this),this.#u(),this.#s()}unmount(){this.#e&&(this.#o(),this.#a(),this.#n.unregister(this),this.#n.clearPreFocusMemory(this),this.#e=null)}#s(){if(!this.#e)return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#i.onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!this.#e)return;const e=this.#c();e?(e.focus(),this.#n.setFocusMemory(this,e)):this.#e.focus()})}#a(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#i.onCloseAutoFocus.current?.(t),!t.defaultPrevented){const e=this.#n.getPreFocusMemory(this);if(e&&document.contains(e))try{e.focus()}catch{document.body.focus()}}}#u(){if(!this.#e||!this.#i.trap.current)return;const t=this.#e,e=t.ownerDocument,n=s=>{if(this.#t||!this.#n.isActiveScope(this))return;const l=s.target;if(!l)return;if(t.contains(l))this.#n.setFocusMemory(this,l);else{const h=this.#n.getFocusMemory(this);if(h&&t.contains(h)&&nn(h))s.preventDefault(),h.focus();else{const P=this.#c(),d=this.#d()[0];(P||d||t).focus()}}},i=s=>{if(!this.#i.loop||this.#t||s.key!=="Tab"||!this.#n.isActiveScope(this))return;const l=this.#l();if(l.length<2)return;const c=l[0],h=l[l.length-1];!s.shiftKey&&e.activeElement===h?(s.preventDefault(),c.focus()):s.shiftKey&&e.activeElement===c&&(s.preventDefault(),h.focus())};this.#r.push(st(e,"focusin",n,{capture:!0}),st(t,"keydown",i));const a=new MutationObserver(()=>{const s=this.#n.getFocusMemory(this);if(s&&!t.contains(s)){const l=this.#c(),c=this.#d()[0],h=l||c;h?(h.focus(),this.#n.setFocusMemory(this,h)):t.focus()}});a.observe(t,{childList:!0,subtree:!0}),this.#r.push(()=>a.disconnect())}#l(){return this.#e?tn(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}#c(){return this.#l()[0]||null}#d(){return this.#e?en(this.#e,{includeContainer:!1,getShadowRoot:!0}):[]}static use(t){let e=null;return Q([()=>t.ref.current,()=>t.enabled.current],([n,i])=>{n&&i?(e||(e=new ue(t)),e.mount(n)):e&&(e.unmount(),e=null)}),Vt(()=>{e?.unmount()}),{get props(){return{tabindex:-1}}}}}function _r(r,t){I(t,!0);let e=u(t,"enabled",3,!1),n=u(t,"trapFocus",3,!1),i=u(t,"loop",3,!1),a=u(t,"onCloseAutoFocus",3,R),s=u(t,"onOpenAutoFocus",3,R);const l=ue.use({enabled:f.with(()=>e()),trap:f.with(()=>n()),loop:i(),onCloseAutoFocus:f.with(()=>a()),onOpenAutoFocus:f.with(()=>s()),ref:t.ref});var c=M(),h=O(c);_(h,()=>t.focusScope??N,()=>({props:l.props})),y(r,c),k()}globalThis.bitsTextSelectionLayers??=new Map;class ce{static create(t){return new ce(t)}opts;domContext;#t=R;constructor(t){this.opts=t,this.domContext=new Ze(t.ref);let e=R;Q(()=>this.opts.enabled.current,n=>(n&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=this.#e()),()=>{e(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#e(){return $t(st(this.domContext.getDocument(),"pointerdown",this.#n),st(this.domContext.getDocument(),"pointerup",En(this.#r,this.opts.onPointerUp.current)))}#n=t=>{const e=this.opts.ref.current,n=t.target;!ht(e)||!ht(n)||!this.opts.enabled.current||!kr(this)||!Dn(e,n)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&(this.#t=Ir(e,this.domContext.getDocument().body)))};#r=()=>{this.#t(),this.#t=R}}const Ve=r=>r.style.userSelect||r.style.webkitUserSelect;function Ir(r,t){const e=Ve(t),n=Ve(r);return Tt(t,"none"),Tt(r,"text"),()=>{Tt(t,e),Tt(r,n)}}function Tt(r,t){r.style.userSelect=t,r.style.webkitUserSelect=t}function kr(r){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===r:!1}function Tr(r,t){I(t,!0);let e=u(t,"preventOverflowTextSelection",3,!0),n=u(t,"onPointerDown",3,R),i=u(t,"onPointerUp",3,R);ce.create({id:f.with(()=>t.id),onPointerDown:f.with(()=>n()),onPointerUp:f.with(()=>i()),enabled:f.with(()=>t.enabled&&e()),ref:t.ref});var a=M(),s=O(a);_(s,()=>t.children??N),y(r,a),k()}class Er{#t;#e=0;#n=F();#r;constructor(t){this.#t=t}#i(){this.#e-=1,this.#r&&this.#e<=0&&(this.#r(),w(this.#n,void 0),this.#r=void 0)}get(...t){return this.#e+=1,o(this.#n)===void 0&&(this.#r=Xe(()=>{w(this.#n,this.#t(...t),!0)})),q(()=>()=>{this.#i()}),o(this.#n)}}const Dt=new Bn;let Et=F(null),Gt=null,Ot=null,Ct=!1;const He=f.with(()=>{for(const r of Dt.values())if(r)return!0;return!1});let Ut=null;const Dr=new Er(()=>{function r(){document.body.setAttribute("style",o(Et)??""),document.body.style.removeProperty("--scrollbar-width"),Ne&&Gt?.(),w(Et,null)}function t(){Ot!==null&&(window.clearTimeout(Ot),Ot=null)}function e(i,a){t(),Ct=!0,Ut=Date.now();const s=Ut,l=()=>{Ot=null,Ut===s&&(sn(Dt)?Ct=!1:(Ct=!1,a()))},c=i===null?24:i;Ot=window.setTimeout(l,c)}function n(){o(Et)===null&&Dt.size===0&&!Ct&&w(Et,document.body.getAttribute("style"),!0)}return Q(()=>He.current,()=>{if(!He.current)return;n(),Ct=!1;const i=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,l={padding:Number.parseInt(i.paddingRight??"0",10)+a,margin:Number.parseInt(i.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${l.padding}px`,document.body.style.marginRight=`${l.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Ne&&(Gt=Nn(document,"touchmove",c=>{c.target===document.documentElement&&(c.touches.length>1||c.preventDefault())},{passive:!1})),ot(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Vt(()=>()=>{Gt?.()}),{get lockMap(){return Dt},resetBodyStyle:r,scheduleCleanupIfNoNewLocks:e,cancelPendingCleanup:t,ensureInitialStyleCaptured:n}});class Nr{#t=te();#e;#n=()=>null;#r;locked;constructor(t,e=()=>null){this.#e=t,this.#n=e,this.#r=Dr.get(),this.#r&&(this.#r.cancelPendingCleanup(),this.#r.ensureInitialStyleCaptured(),this.#r.lockMap.set(this.#t,this.#e??!1),this.locked=f.with(()=>this.#r.lockMap.get(this.#t)??!1,n=>this.#r.lockMap.set(this.#t,n)),Vt(()=>{if(this.#r.lockMap.delete(this.#t),sn(this.#r.lockMap))return;const n=this.#n();this.#r.scheduleCleanupIfNoNewLocks(n,()=>{this.#r.resetBodyStyle()})}))}}function sn(r){for(const[t,e]of r)if(e)return!0;return!1}function ze(r,t){I(t,!0);let e=u(t,"preventScroll",3,!0),n=u(t,"restoreScrollDelay",3,null);e()&&new Nr(e(),()=>n()),k()}function an(r,t,e){const n=t.toLowerCase();if(n.endsWith(" ")){const d=n.slice(0,-1);if(r.filter(v=>v.toLowerCase().startsWith(d)).length<=1)return an(r,d,e);const b=e?.toLowerCase();if(b&&b.startsWith(d)&&b.charAt(d.length)===" "&&t.trim()===d)return e;const g=r.filter(v=>v.toLowerCase().startsWith(n));if(g.length>0){const v=e?r.indexOf(e):-1;return qt(g,Math.max(v,0)).find(A=>A!==e)||e}}const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=a.toLowerCase(),l=e?r.indexOf(e):-1;let c=qt(r,Math.max(l,0));a.length===1&&(c=c.filter(d=>d!==e));const P=c.find(d=>d?.toLowerCase().startsWith(s));return P!==e?P:void 0}function qt(r,t){return r.map((e,n)=>r[(t+n)%r.length])}function pt(r){return typeof r=="function"?r():r}function un(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Ge(r,t){const e=un(r);return Math.round(t*e)/e}function jt(r){return{[`--bits-${r}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${r}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${r}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${r}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${r}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function Br(r){const t=r.whileElementsMounted,e=m(()=>pt(r.open)??!0),n=m(()=>pt(r.middleware)),i=m(()=>pt(r.transform)??!0),a=m(()=>pt(r.placement)??"bottom"),s=m(()=>pt(r.strategy)??"absolute"),l=m(()=>pt(r.sideOffset)??0),c=m(()=>pt(r.alignOffset)??0),h=r.reference;let P=F(0),d=F(0);const S=f(null);let b=F(yt(o(s))),g=F(yt(o(a))),v=F(yt({})),p=F(!1);const C=m(()=>{const E=S.current?Ge(S.current,o(P)):o(P),$=S.current?Ge(S.current,o(d)):o(d);return o(i)?{position:o(b),left:"0",top:"0",transform:`translate(${E}px, ${$}px)`,...S.current&&un(S.current)>=1.5&&{willChange:"transform"}}:{position:o(b),left:`${E}px`,top:`${$}px`}});let A;function x(){h.current===null||S.current===null||rr(h.current,S.current,{middleware:o(n),placement:o(a),strategy:o(s)}).then(E=>{if(!o(e)&&o(P)!==0&&o(d)!==0){const $=Math.max(Math.abs(o(l)),Math.abs(o(c)),15);if(E.x<=$&&E.y<=$)return}w(P,E.x,!0),w(d,E.y,!0),w(b,E.strategy,!0),w(g,E.placement,!0),w(v,E.middlewareData,!0),w(p,!0)})}function T(){typeof A=="function"&&(A(),A=void 0)}function X(){if(T(),t===void 0){x();return}h.current===null||S.current===null||(A=t(h.current,S.current,x))}function z(){o(e)||w(p,!1)}return q(x),q(X),q(z),q(()=>T),{floating:S,reference:h,get strategy(){return o(b)},get placement(){return o(g)},get middlewareData(){return o(v)},get isPositioned(){return o(p)},get floatingStyles(){return o(C)},get update(){return x}}}const Rr={top:"bottom",right:"left",bottom:"top",left:"right"},le=new nt("Floating.Root"),Ue=new nt("Floating.Content"),de=new nt("Floating.Root");class Rt{static create(t=!1){return t?de.set(new Rt):le.set(new Rt)}anchorNode=f(null);customAnchorNode=f(null);triggerNode=f(null);constructor(){q(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current=="string"?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}}class Wt{static create(t,e=!1){return e?Ue.set(new Wt(t,de.get())):Ue.set(new Wt(t,le.get()))}opts;root;contentRef=f(null);wrapperRef=f(null);arrowRef=f(null);contentAttachment=V(this.contentRef);wrapperAttachment=V(this.wrapperRef);arrowAttachment=V(this.arrowRef);arrowId=f(te());#t=m(()=>{if(typeof this.opts.style=="string")return Rn(this.opts.style);if(!this.opts.style)return{}});#e=void 0;#n=new fr(()=>this.arrowRef.current??void 0);#r=m(()=>this.#n?.width??0);#i=m(()=>this.#n?.height??0);#o=m(()=>this.opts.side?.current+(this.opts.align.current!=="center"?`-${this.opts.align.current}`:""));#s=m(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]);#a=m(()=>o(this.#s).length>0);get hasExplicitBoundaries(){return o(this.#a)}set hasExplicitBoundaries(t){w(this.#a,t)}#u=m(()=>({padding:this.opts.collisionPadding.current,boundary:o(this.#s).filter(Wn),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return o(this.#u)}set detectOverflowOptions(t){w(this.#u,t)}#l=F(void 0);#c=F(void 0);#d=F(void 0);#h=F(void 0);#f=m(()=>[ir({mainAxis:this.opts.sideOffset.current+o(this.#i),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&or({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current==="partial"?lr():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&sr({...this.detectOverflowOptions}),ar({...this.detectOverflowOptions,apply:({rects:t,availableWidth:e,availableHeight:n})=>{const{width:i,height:a}=t.reference;w(this.#l,e,!0),w(this.#c,n,!0),w(this.#d,i,!0),w(this.#h,a,!0)}}),this.arrowRef.current&&ur({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),Wr({arrowWidth:o(this.#r),arrowHeight:o(this.#i)}),this.opts.hideWhenDetached.current&&cr({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean));get middleware(){return o(this.#f)}set middleware(t){w(this.#f,t)}floating;#g=m(()=>Kr(this.floating.placement));get placedSide(){return o(this.#g)}set placedSide(t){w(this.#g,t)}#p=m(()=>Lr(this.floating.placement));get placedAlign(){return o(this.#p)}set placedAlign(t){w(this.#p,t)}#v=m(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return o(this.#v)}set arrowX(t){w(this.#v,t)}#m=m(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return o(this.#m)}set arrowY(t){w(this.#m,t)}#w=m(()=>this.floating.middlewareData.arrow?.centerOffset!==0);get cannotCenterArrow(){return o(this.#w)}set cannotCenterArrow(t){w(this.#w,t)}#b=F();get contentZIndex(){return o(this.#b)}set contentZIndex(t){w(this.#b,t,!0)}#y=m(()=>Rr[this.placedSide]);get arrowBaseSide(){return o(this.#y)}set arrowBaseSide(t){w(this.#y,t)}#S=m(()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${o(this.#l)}px`,"--bits-floating-available-height":`${o(this.#c)}px`,"--bits-floating-anchor-width":`${o(this.#d)}px`,"--bits-floating-anchor-height":`${o(this.#h)}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...o(this.#t)},dir:this.opts.dir.current,...this.wrapperAttachment}));get wrapperProps(){return o(this.#S)}set wrapperProps(t){w(this.#S,t)}#P=m(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:Kn({...o(this.#t)}),...this.contentAttachment}));get props(){return o(this.#P)}set props(t){w(this.#P,t)}#A=m(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0}));get arrowStyle(){return o(this.#A)}set arrowStyle(t){w(this.#A,t)}constructor(t,e){this.opts=t,this.root=e,t.customAnchor&&(this.root.customAnchorNode.current=t.customAnchor.current),Q(()=>t.customAnchor.current,n=>{this.root.customAnchorNode.current=n}),this.floating=Br({strategy:()=>this.opts.strategy.current,placement:()=>o(this.#o),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...n)=>dr(...n,{animationFrame:this.#e?.current==="always"}),open:()=>this.opts.enabled.current,sideOffset:()=>this.opts.sideOffset.current,alignOffset:()=>this.opts.alignOffset.current}),q(()=>{this.floating.isPositioned&&this.opts.onPlaced?.current()}),Q(()=>this.contentRef.current,n=>{if(!n)return;const i=Je(n);this.contentZIndex=i.getComputedStyle(n).zIndex}),q(()=>{this.floating.floating.current=this.wrapperRef.current})}}class Kt{static create(t,e=!1){return e?new Kt(t,de.get()):new Kt(t,le.get())}opts;root;constructor(t,e){this.opts=t,this.root=e,t.virtualEl&&t.virtualEl.current?e.triggerNode=f.from(t.virtualEl.current):e.triggerNode=t.ref}}function Wr(r){return{name:"transformOrigin",options:r,fn(t){const{placement:e,rects:n,middlewareData:i}=t,s=i.arrow?.centerOffset!==0,l=s?0:r.arrowWidth,c=s?0:r.arrowHeight,[h,P]=he(e),d={start:"0%",center:"50%",end:"100%"}[P],S=(i.arrow?.x??0)+l/2,b=(i.arrow?.y??0)+c/2;let g="",v="";return h==="bottom"?(g=s?d:`${S}px`,v=`${-c}px`):h==="top"?(g=s?d:`${S}px`,v=`${n.floating.height+c}px`):h==="right"?(g=`${-c}px`,v=s?d:`${b}px`):h==="left"&&(g=`${n.floating.width+c}px`,v=s?d:`${b}px`),{data:{x:g,y:v}}}}}function he(r){const[t,e="center"]=r.split("-");return[t,e]}function Kr(r){return he(r)[0]}function Lr(r){return he(r)[1]}function Vr(r,t){I(t,!0);let e=u(t,"tooltip",3,!1);Rt.create(e());var n=M(),i=O(n);_(i,()=>t.children??N),y(r,n),k()}class Hr{#t;#e;#n=m(()=>this.#t.onMatch?this.#t.onMatch:t=>t.focus());#r=m(()=>this.#t.getCurrentItem?this.#t.getCurrentItem:this.#t.getActiveElement);constructor(t){this.#t=t,this.#e=$e("",{afterMs:1e3,getWindow:t.getWindow}),this.handleTypeaheadSearch=this.handleTypeaheadSearch.bind(this),this.resetTypeahead=this.resetTypeahead.bind(this)}handleTypeaheadSearch(t,e){if(!e.length)return;this.#e.current=this.#e.current+t;const n=o(this.#r)(),i=e.find(c=>c===n)?.textContent?.trim()??"",a=e.map(c=>c.textContent?.trim()??""),s=an(a,this.#e.current,i),l=e.find(c=>c.textContent?.trim()===s);return l&&o(this.#n)(l),l}resetTypeahead(){this.#e.current=""}get search(){return this.#e.current}}function zr(r,t){I(t,!0);let e=u(t,"tooltip",3,!1);Kt.create({id:f.with(()=>t.id),virtualEl:f.with(()=>t.virtualEl),ref:t.ref},e());var n=M(),i=O(n);_(i,()=>t.children??N),y(r,n),k()}function Gr(r,t){I(t,!0);let e=u(t,"side",3,"bottom"),n=u(t,"sideOffset",3,0),i=u(t,"align",3,"center"),a=u(t,"alignOffset",3,0),s=u(t,"arrowPadding",3,0),l=u(t,"avoidCollisions",3,!0),c=u(t,"collisionBoundary",19,()=>[]),h=u(t,"collisionPadding",3,0),P=u(t,"hideWhenDetached",3,!1),d=u(t,"onPlaced",3,()=>{}),S=u(t,"sticky",3,"partial"),b=u(t,"updatePositionStrategy",3,"optimized"),g=u(t,"strategy",3,"fixed"),v=u(t,"dir",3,"ltr"),p=u(t,"style",19,()=>({})),C=u(t,"wrapperId",19,te),A=u(t,"customAnchor",3,null),x=u(t,"tooltip",3,!1);const T=Wt.create({side:f.with(()=>e()),sideOffset:f.with(()=>n()),align:f.with(()=>i()),alignOffset:f.with(()=>a()),id:f.with(()=>t.id),arrowPadding:f.with(()=>s()),avoidCollisions:f.with(()=>l()),collisionBoundary:f.with(()=>c()),collisionPadding:f.with(()=>h()),hideWhenDetached:f.with(()=>P()),onPlaced:f.with(()=>d()),sticky:f.with(()=>S()),updatePositionStrategy:f.with(()=>b()),strategy:f.with(()=>g()),dir:f.with(()=>v()),style:f.with(()=>p()),enabled:f.with(()=>t.enabled),wrapperId:f.with(()=>C()),customAnchor:f.with(()=>A())},x()),X=m(()=>Y(T.wrapperProps,{style:{pointerEvents:"auto"}}));var z=M(),E=O(z);_(E,()=>t.content??N,()=>({props:T.props,wrapperProps:o(X)})),y(r,z),k()}function Ur(r,t){I(t,!0),Lt(()=>{t.onPlaced?.()});var e=M(),n=O(e);_(n,()=>t.content??N,()=>({props:{},wrapperProps:{}})),y(r,e),k()}function Yr(r,t){let e=u(t,"isStatic",3,!1),n=D(t,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var i=M(),a=O(i);{var s=c=>{Ur(c,{get content(){return t.content},get onPlaced(){return t.onPlaced}})},l=c=>{Gr(c,H({get content(){return t.content},get onPlaced(){return t.onPlaced}},()=>n))};L(a,c=>{e()?c(s):c(l,!1)})}y(r,i)}var Xr=B("<!> <!>",1);function cn(r,t){I(t,!0);let e=u(t,"interactOutsideBehavior",3,"close"),n=u(t,"trapFocus",3,!0),i=u(t,"isValidEvent",3,()=>!1),a=u(t,"customAnchor",3,null),s=u(t,"isStatic",3,!1),l=u(t,"tooltip",3,!1),c=D(t,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled","ref","tooltip"]);Yr(r,{get isStatic(){return s()},get id(){return t.id},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get enabled(){return t.enabled},get tooltip(){return l()},content:(P,d)=>{let S=()=>d?.().props,b=()=>d?.().wrapperProps;var g=Xr(),v=O(g);{var p=x=>{ze(x,{get preventScroll(){return t.preventScroll}})},C=x=>{var T=M(),X=O(T);{var z=E=>{ze(E,{get preventScroll(){return t.preventScroll}})};L(X,E=>{t.forceMount||E(z)},!0)}y(x,T)};L(v,x=>{t.forceMount&&t.enabled?x(p):x(C,!1)})}var A=St(v,2);_r(A,{get onOpenAutoFocus(){return t.onOpenAutoFocus},get onCloseAutoFocus(){return t.onCloseAutoFocus},get loop(){return t.loop},get enabled(){return t.enabled},get trapFocus(){return n()},get forceMount(){return t.forceMount},get ref(){return t.ref},focusScope:(T,X)=>{let z=()=>X?.().props;Qn(T,{get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get enabled(){return t.enabled},get ref(){return t.ref},children:(E,$)=>{$n(E,{get id(){return t.id},get onInteractOutside(){return t.onInteractOutside},get onFocusOutside(){return t.onFocusOutside},get interactOutsideBehavior(){return e()},get isValidEvent(){return i()},get enabled(){return t.enabled},get ref(){return t.ref},children:(at,bt)=>{let ut=()=>bt?.().props;Tr(at,{get id(){return t.id},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get enabled(){return t.enabled},get ref(){return t.ref},children:(ct,tt)=>{var G=M(),j=O(G);{let it=m(()=>({props:Y(c,S(),ut(),z(),{style:{pointerEvents:"auto"}}),wrapperProps:b()}));_(j,()=>t.popper??N,()=>o(it))}y(ct,G)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{focusScope:!0}}),y(P,g)},$$slots:{content:!0}}),k()}function qr(r,t){let e=u(t,"interactOutsideBehavior",3,"close"),n=u(t,"trapFocus",3,!0),i=u(t,"isValidEvent",3,()=>!1),a=u(t,"customAnchor",3,null),s=u(t,"isStatic",3,!1),l=D(t,["$$slots","$$events","$$legacy","popper","open","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","ref"]);je(r,{get open(){return t.open},get ref(){return t.ref},presence:h=>{cn(h,H({get popper(){return t.popper},get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get id(){return t.id},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get preventScroll(){return t.preventScroll},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get isStatic(){return s()},get enabled(){return t.open},get onInteractOutside(){return t.onInteractOutside},get onCloseAutoFocus(){return t.onCloseAutoFocus},get onOpenAutoFocus(){return t.onOpenAutoFocus},get interactOutsideBehavior(){return e()},get loop(){return t.loop},get trapFocus(){return n()},get isValidEvent(){return i()},get onFocusOutside(){return t.onFocusOutside},forceMount:!1,get ref(){return t.ref}},()=>l))},$$slots:{presence:!0}})}function jr(r,t){let e=u(t,"interactOutsideBehavior",3,"close"),n=u(t,"trapFocus",3,!0),i=u(t,"isValidEvent",3,()=>!1),a=u(t,"customAnchor",3,null),s=u(t,"isStatic",3,!1),l=D(t,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);cn(r,H({get popper(){return t.popper},get onEscapeKeydown(){return t.onEscapeKeydown},get escapeKeydownBehavior(){return t.escapeKeydownBehavior},get preventOverflowTextSelection(){return t.preventOverflowTextSelection},get id(){return t.id},get onPointerDown(){return t.onPointerDown},get onPointerUp(){return t.onPointerUp},get side(){return t.side},get sideOffset(){return t.sideOffset},get align(){return t.align},get alignOffset(){return t.alignOffset},get arrowPadding(){return t.arrowPadding},get avoidCollisions(){return t.avoidCollisions},get collisionBoundary(){return t.collisionBoundary},get collisionPadding(){return t.collisionPadding},get sticky(){return t.sticky},get hideWhenDetached(){return t.hideWhenDetached},get updatePositionStrategy(){return t.updatePositionStrategy},get strategy(){return t.strategy},get dir(){return t.dir},get preventScroll(){return t.preventScroll},get wrapperId(){return t.wrapperId},get style(){return t.style},get onPlaced(){return t.onPlaced},get customAnchor(){return a()},get isStatic(){return s()},get enabled(){return t.enabled},get onInteractOutside(){return t.onInteractOutside},get onCloseAutoFocus(){return t.onCloseAutoFocus},get onOpenAutoFocus(){return t.onOpenAutoFocus},get interactOutsideBehavior(){return e()},get loop(){return t.loop},get trapFocus(){return n()},get isValidEvent(){return i()},get onFocusOutside(){return t.onFocusOutside}},()=>l,{forceMount:!0}))}const Zr=[It,Pt],Jr=[Bt,Ln,Vn],ln=[Hn,zn,Gn],Qr=[...Jr,...ln];function $r(r){return r==="indeterminate"}function ti(r){return $r(r)?"indeterminate":r?"checked":"unchecked"}function Ye(r){return r.pointerType==="mouse"}function Ft(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function ei(r,t){if(!ne(r,Ft()))return ni(r,t);const e=ee(r),n=tn(e.body,Ft());t==="prev"&&n.reverse();const i=n.indexOf(r);return i===-1?e.body:n.slice(i+1)[0]}function ni(r,t){const e=ee(r);if(!nn(r,Ft()))return e.body;const n=en(e.body,Ft());t==="prev"&&n.reverse();const i=n.indexOf(r);return i===-1?e.body:n.slice(i+1).find(s=>ne(s,Ft()))??e.body}class ri{#t;#e;#n;#r=F(null);constructor(t){this.#t=t,this.#e=m(()=>this.#t.enabled()),this.#n=$e(!1,{afterMs:t.transitTimeout??300,onChange:e=>{o(this.#e)&&this.#t.setIsPointerInTransit?.(e)},getWindow:()=>Je(this.#t.triggerNode())}),Q([t.triggerNode,t.contentNode,t.enabled],([e,n,i])=>{if(!e||!n||!i)return;const a=l=>{this.#o(l,n)},s=l=>{this.#o(l,e)};return $t(st(e,"pointerleave",a),st(n,"pointerleave",s))}),Q(()=>o(this.#r),()=>{const e=i=>{if(!o(this.#r))return;const a=i.target;if(!Xt(a))return;const s={x:i.clientX,y:i.clientY},l=t.triggerNode()?.contains(a)||t.contentNode()?.contains(a),c=!ai(s,o(this.#r));l?this.#i():c&&(this.#i(),t.onPointerExit())},n=ee(t.triggerNode()??t.contentNode());if(n)return st(n,"pointermove",e)})}#i(){w(this.#r,null),this.#n.current=!1}#o(t,e){const n=t.currentTarget;if(!ht(n))return;const i={x:t.clientX,y:t.clientY},a=ii(i,n.getBoundingClientRect()),s=oi(i,a),l=si(e.getBoundingClientRect()),c=ui([...s,...l]);w(this.#r,c,!0),this.#n.current=!0}}function ii(r,t){const e=Math.abs(t.top-r.y),n=Math.abs(t.bottom-r.y),i=Math.abs(t.right-r.x),a=Math.abs(t.left-r.x);switch(Math.min(e,n,i,a)){case a:return"left";case i:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function oi(r,t,e=5){const n=e*1.5;switch(t){case"top":return[{x:r.x-e,y:r.y+e},{x:r.x,y:r.y-n},{x:r.x+e,y:r.y+e}];case"bottom":return[{x:r.x-e,y:r.y-e},{x:r.x,y:r.y+n},{x:r.x+e,y:r.y-e}];case"left":return[{x:r.x+e,y:r.y-e},{x:r.x-n,y:r.y},{x:r.x+e,y:r.y+e}];case"right":return[{x:r.x-e,y:r.y-e},{x:r.x+n,y:r.y},{x:r.x-e,y:r.y+e}]}}function si(r){const{top:t,right:e,bottom:n,left:i}=r;return[{x:i,y:t},{x:e,y:t},{x:e,y:n},{x:i,y:n}]}function ai(r,t){const{x:e,y:n}=r;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a].x,c=t[a].y,h=t[s].x,P=t[s].y;c>n!=P>n&&e<(h-l)*(n-c)/(P-c)+l&&(i=!i)}return i}function ui(r){const t=r.slice();return t.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),ci(t)}function ci(r){if(r.length<=1)return r.slice();const t=[];for(let n=0;n<r.length;n++){const i=r[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const e=[];for(let n=r.length-1;n>=0;n--){const i=r[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const li=new nt("Menu.Root"),fe=new nt("Menu.Root | Menu.Sub"),ge=new nt("Menu.Content"),di=new nt("Menu.Group | Menu.RadioGroup"),dn=new nt("Menu.RadioGroup"),hi=new Un("bitsmenuopen",{bubbles:!1,cancelable:!0}),fi=Zt({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});class pe{static create(t){const e=new pe(t);return li.set(e)}opts;isUsingKeyboard=new dt;#t=F(!1);get ignoreCloseAutoFocus(){return o(this.#t)}set ignoreCloseAutoFocus(t){w(this.#t,t,!0)}#e=F(!1);get isPointerInTransit(){return o(this.#e)}set isPointerInTransit(t){w(this.#e,t,!0)}constructor(t){this.opts=t}getBitsAttr=t=>fi.getAttr(t,this.opts.variant.current)}class ve{static create(t,e){return fe.set(new ve(t,e,null))}opts;root;parentMenu;contentId=f.with(()=>"");#t=F(null);get contentNode(){return o(this.#t)}set contentNode(t){w(this.#t,t,!0)}#e=F(null);get triggerNode(){return o(this.#e)}set triggerNode(t){w(this.#e,t,!0)}constructor(t,e,n){this.opts=t,this.root=e,this.parentMenu=n,new Fr({ref:f.with(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),n&&Q(()=>n.opts.open.current,()=>{n.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class me{static create(t){return ge.set(new me(t,fe.get()))}opts;parentMenu;rovingFocusGroup;domContext;attachment;#t=F("");get search(){return o(this.#t)}set search(t){w(this.#t,t,!0)}#e=0;#n;#r=F(!1);get mounted(){return o(this.#r)}set mounted(t){w(this.#r,t,!0)}#i;constructor(t,e){this.opts=t,this.parentMenu=e,this.domContext=new Ze(t.ref),this.attachment=V(this.opts.ref,n=>{this.parentMenu.contentNode!==n&&(this.parentMenu.contentNode=n)}),e.contentId=t.id,this.#i=t.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),new ri({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&!!this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:n=>{this.parentMenu.root.isPointerInTransit=n}}),this.#n=new Hr({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch,this.rovingFocusGroup=new Qt({rootNode:f.with(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:f.with(()=>"vertical")}),Q(()=>this.parentMenu.contentNode,n=>{if(!n)return;const i=()=>{ot(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return hi.listen(n,i)}),q(()=>{this.parentMenu.opts.open.current||this.domContext.getWindow().clearTimeout(this.#e)})}#o(){const t=this.parentMenu.contentNode;return t?Array.from(t.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`)):[]}#s(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=t=>{this.opts.onCloseAutoFocus.current?.(t),!(t.defaultPrevented||this.#i)&&this.parentMenu.triggerNode&&ne(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()};handleTabKeyDown(t){let e=this.parentMenu;for(;e.parentMenu!==null;)e=e.parentMenu;if(!e.triggerNode)return;t.preventDefault();const n=ei(e.triggerNode,t.shiftKey?"prev":"next");n?(this.parentMenu.root.ignoreCloseAutoFocus=!0,e.onClose(),ot(()=>{n.focus(),ot(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(t){if(t.defaultPrevented)return;if(t.key===Qe){this.handleTabKeyDown(t);return}const e=t.target,n=t.currentTarget;if(!ht(e)||!ht(n))return;const i=e.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`)?.id===this.parentMenu.contentId.current,a=t.ctrlKey||t.altKey||t.metaKey,s=t.key.length===1;if(this.rovingFocusGroup.handleKeydown(e,t)||t.code==="Space")return;const c=this.#o();i&&!a&&s&&this.#n(t.key,c),t.target?.id===this.parentMenu.contentId.current&&Qr.includes(t.key)&&(t.preventDefault(),ln.includes(t.key)&&c.reverse(),tr(c,{select:!1},()=>this.domContext.getActiveElement()))}onblur(t){Xt(t.currentTarget)&&Xt(t.target)&&(t.currentTarget.contains?.(t.target)||(this.domContext.getWindow().clearTimeout(this.#e),this.search=""))}onfocus(t){this.parentMenu.root.isUsingKeyboard.current&&ot(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#s()}onItemLeave(t){if(t.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))||this.#s()||this.parentMenu.root.isUsingKeyboard.current)return;this.parentMenu.contentNode?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#s()}onOpenAutoFocus=t=>{if(t.defaultPrevented)return;t.preventDefault(),this.parentMenu.contentNode?.focus()};handleInteractOutside(t){if(!Yn(t.target))return;const e=this.parentMenu.triggerNode?.id;if(t.target.id===e){t.preventDefault();return}t.target.closest(`#${e}`)&&t.preventDefault()}#a=m(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return o(this.#a)}set snippetProps(t){w(this.#a,t)}#u=m(()=>({id:this.opts.id.current,role:"menu","aria-orientation":Xn("vertical"),[this.parentMenu.root.getBitsAttr("content")]:"","data-state":mt(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...this.attachment}));get props(){return o(this.#u)}set props(t){w(this.#u,t)}popperProps={onCloseAutoFocus:t=>this.onCloseAutoFocus(t)}}class hn{opts;content;attachment;#t=F(!1);constructor(t,e){this.opts=t,this.content=e,this.attachment=V(this.opts.ref),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(t){if(!t.defaultPrevented&&Ye(t))if(this.opts.disabled.current)this.content.onItemLeave(t);else{if(this.content.onItemEnter())return;const n=t.currentTarget;if(!ht(n))return;n.focus()}}onpointerleave(t){t.defaultPrevented||Ye(t)&&this.content.onItemLeave(t)}onfocus(t){ot(()=>{t.defaultPrevented||this.opts.disabled.current||w(this.#t,!0)})}onblur(t){ot(()=>{t.defaultPrevented||w(this.#t,!1)})}#e=m(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":qe(this.opts.disabled.current),"data-disabled":vt(this.opts.disabled.current),"data-highlighted":o(this.#t)?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...this.attachment}));get props(){return o(this.#e)}set props(t){w(this.#e,t)}}class we{static create(t){const e=new hn(t,ge.get());return new we(t,e)}opts;item;root;#t=!1;constructor(t,e){this.opts=t,this.item=e,this.root=e.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#e(){if(this.item.opts.disabled.current)return;const t=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});if(this.opts.onSelect.current(t),t.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()}onkeydown(t){const e=this.item.content.search!=="";if(!(this.item.opts.disabled.current||e&&t.key===Pt)&&Zr.includes(t.key)){if(!ht(t.currentTarget))return;t.currentTarget.click(),t.preventDefault()}}onclick(t){this.item.opts.disabled.current||this.#e()}onpointerup(t){if(!t.defaultPrevented&&!this.#t){if(!ht(t.currentTarget))return;t.currentTarget?.click()}}onpointerdown(t){this.#t=!0}#n=m(()=>Y(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return o(this.#n)}set props(t){w(this.#n,t)}}class be{static create(t){return di.set(dn.set(new be(t,ge.get())))}opts;content;attachment;#t=F(null);get groupHeadingId(){return o(this.#t)}set groupHeadingId(t){w(this.#t,t,!0)}root;constructor(t,e){this.opts=t,this.content=e,this.root=e.parentMenu.root,this.attachment=V(this.opts.ref)}setValue(t){this.opts.value.current=t}#e=m(()=>({id:this.opts.id.current,[this.root.getBitsAttr("radio-group")]:"",role:"group","aria-labelledby":this.groupHeadingId,...this.attachment}));get props(){return o(this.#e)}set props(t){w(this.#e,t)}}class ye{static create(t){const e=dn.get(),n=new hn(t,e.content),i=new we(t,n);return new ye(t,i,e)}opts;item;group;attachment;#t=m(()=>this.group.opts.value.current===this.opts.value.current);get isChecked(){return o(this.#t)}set isChecked(t){w(this.#t,t)}constructor(t,e,n){this.opts=t,this.item=e,this.group=n,this.attachment=V(this.opts.ref)}selectValue(){this.group.setValue(this.opts.value.current)}#e=m(()=>({[this.group.root.getBitsAttr("radio-item")]:"",...this.item.props,role:"menuitemradio","aria-checked":qn(this.isChecked,!1),"data-state":ti(this.isChecked),...this.attachment}));get props(){return o(this.#e)}set props(t){w(this.#e,t)}}class Se{static create(t){return new Se(t,fe.get())}opts;parentMenu;attachment;constructor(t,e){this.opts=t,this.parentMenu=e,this.attachment=V(this.opts.ref,n=>this.parentMenu.triggerNode=n)}onpointerdown=t=>{if(!this.opts.disabled.current){if(t.pointerType==="touch")return t.preventDefault();t.button===0&&t.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||t.preventDefault())}};onpointerup=t=>{this.opts.disabled.current||t.pointerType==="touch"&&(t.preventDefault(),this.parentMenu.toggleOpen())};onkeydown=t=>{if(!this.opts.disabled.current){if(t.key===Pt||t.key===It){this.parentMenu.toggleOpen(),t.preventDefault();return}t.key===Bt&&(this.parentMenu.onOpen(),t.preventDefault())}};#t=m(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#e=m(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":Jt(this.parentMenu.opts.open.current),"aria-controls":o(this.#t),"data-disabled":vt(this.opts.disabled.current),"data-state":mt(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...this.attachment}));get props(){return o(this.#e)}set props(t){w(this.#e,t)}}var gi=B("<div><!></div>");function pi(r,t){const e=et();I(t,!0);let n=u(t,"ref",15,null),i=u(t,"onSelect",3,R),a=u(t,"id",19,()=>rt(e)),s=u(t,"disabled",3,!1),l=u(t,"closeOnSelect",3,!0),c=D(t,["$$slots","$$events","$$legacy","children","child","ref","value","onSelect","id","disabled","closeOnSelect"]);const h=ye.create({value:f.with(()=>t.value),id:f.with(()=>a()),disabled:f.with(()=>s()),onSelect:f.with(()=>P),ref:f.with(()=>n(),p=>n(p)),closeOnSelect:f.with(()=>l())});function P(p){i()(p),!p.defaultPrevented&&h.selectValue()}const d=m(()=>Y(c,h.props));var S=M(),b=O(S);{var g=p=>{var C=M(),A=O(C);_(A,()=>t.child,()=>({props:o(d),checked:h.isChecked})),y(p,C)},v=p=>{var C=gi();J(C,()=>({...o(d)}));var A=W(C);_(A,()=>t.children??N,()=>({checked:h.isChecked})),K(C),y(p,C)};L(b,p=>{t.child?p(g):p(v,!1)})}y(r,S),k()}var vi=B("<div><!></div>");function mi(r,t){const e=et();I(t,!0);let n=u(t,"id",19,()=>rt(e)),i=u(t,"ref",15,null),a=u(t,"value",15,""),s=u(t,"onValueChange",3,R),l=D(t,["$$slots","$$events","$$legacy","id","children","child","ref","value","onValueChange"]);const c=be.create({value:f.with(()=>a(),g=>{a(g),s()(g)}),ref:f.with(()=>i(),g=>i(g)),id:f.with(()=>n())}),h=m(()=>Y(l,c.props));var P=M(),d=O(P);{var S=g=>{var v=M(),p=O(v);_(p,()=>t.child,()=>({props:o(h)})),y(g,v)},b=g=>{var v=vi();J(v,()=>({...o(h)}));var p=W(v);_(p,()=>t.children??N),K(v),y(g,v)};L(d,g=>{t.child?g(S):g(b,!1)})}y(r,P),k()}function wi(r,t){I(t,!0);let e=u(t,"open",15,!1),n=u(t,"dir",3,"ltr"),i=u(t,"onOpenChange",3,R),a=u(t,"onOpenChangeComplete",3,R),s=u(t,"_internal_variant",3,"dropdown-menu");const l=pe.create({variant:f.with(()=>s()),dir:f.with(()=>n()),onClose:()=>{e(!1),i()(!1)}});ve.create({open:f.with(()=>e(),c=>{e(c),i()(c)}),onOpenChangeComplete:f.with(()=>a())},l),Vr(r,{children:(c,h)=>{var P=M(),d=O(P);_(d,()=>t.children??N),y(c,P)},$$slots:{default:!0}}),k()}const _t=Zt({component:"menubar",parts:["root","trigger","content"]}),fn=new nt("Menubar.Root"),Pe=new nt("Menubar.Menu");class Ae{static create(t){return fn.set(new Ae(t))}opts;rovingFocusGroup;attachment;#t=F(!1);get wasOpenedByKeyboard(){return o(this.#t)}set wasOpenedByKeyboard(t){w(this.#t,t,!0)}#e=F(yt([]));get triggerIds(){return o(this.#e)}set triggerIds(t){w(this.#e,t,!0)}valueToChangeHandler=new Map;constructor(t){this.opts=t,this.attachment=V(this.opts.ref),this.rovingFocusGroup=new Qt({rootNode:this.opts.ref,candidateAttr:_t.trigger,loop:this.opts.loop,orientation:f.with(()=>"horizontal")})}registerTrigger=t=>(this.triggerIds.push(t),()=>{this.triggerIds=this.triggerIds.filter(e=>e!==t)});registerMenu=(t,e)=>(this.valueToChangeHandler.set(t,e),()=>{this.valueToChangeHandler.delete(t)});updateValue=t=>{const e=this.opts.value.current,n=this.valueToChangeHandler.get(e)?.current,i=this.valueToChangeHandler.get(t)?.current;this.opts.value.current=t,n&&e!==t&&n(!1),i&&i(!0)};getTriggers=()=>{const t=this.opts.ref.current;return t?Array.from(t.querySelectorAll(_t.selector("trigger"))):[]};onMenuOpen=(t,e)=>{this.updateValue(t),this.rovingFocusGroup.setCurrentTabStopId(e)};onMenuClose=()=>{this.updateValue("")};onMenuToggle=t=>{this.updateValue(this.opts.value.current?"":t)};#n=m(()=>({id:this.opts.id.current,role:"menubar",[_t.root]:"",...this.attachment}));get props(){return o(this.#n)}set props(t){w(this.#n,t)}}class xe{static create(t){return Pe.set(new xe(t,fn.get()))}opts;root;#t=m(()=>this.root.opts.value.current===this.opts.value.current);get open(){return o(this.#t)}set open(t){w(this.#t,t)}wasOpenedByKeyboard=!1;#e=F(null);get triggerNode(){return o(this.#e)}set triggerNode(t){w(this.#e,t,!0)}#n=m(()=>this.triggerNode?.id);get triggerId(){return o(this.#n)}set triggerId(t){w(this.#n,t)}#r=m(()=>this.contentNode?.id);get contentId(){return o(this.#r)}set contentId(t){w(this.#r,t)}#i=F(null);get contentNode(){return o(this.#i)}set contentNode(t){w(this.#i,t,!0)}constructor(t,e){this.opts=t,this.root=e,Q(()=>this.open,()=>{this.open||(this.wasOpenedByKeyboard=!1)}),Lt(()=>this.root.registerMenu(this.opts.value.current,t.onOpenChange))}getTriggerNode(){return this.triggerNode}toggleMenu(){this.root.onMenuToggle(this.opts.value.current)}openMenu(){this.root.onMenuOpen(this.opts.value.current,this.triggerNode?.id??"")}}class Oe{static create(t){return new Oe(t,Pe.get())}opts;menu;root;attachment;#t=F(!1);get isFocused(){return o(this.#t)}set isFocused(t){w(this.#t,t,!0)}#e=F(0);constructor(t,e){this.opts=t,this.menu=e,this.root=e.root,this.attachment=V(this.opts.ref,n=>this.menu.triggerNode=n),Lt(()=>this.root.registerTrigger(t.id.current)),q(()=>{this.root.triggerIds.length&&w(this.#e,this.root.rovingFocusGroup.getTabIndex(this.menu.getTriggerNode()),!0)})}onpointerdown=t=>{!this.opts.disabled.current&&t.button===0&&t.ctrlKey===!1&&(this.menu.open||t.preventDefault(),this.menu.toggleMenu())};onpointerenter=()=>{!!this.root.opts.value.current&&!this.menu.open&&(this.menu.openMenu(),this.menu.getTriggerNode()?.focus())};onkeydown=t=>{this.opts.disabled.current||t.key!==Qe&&((t.key===It||t.key===Pt)&&this.root.onMenuToggle(this.menu.opts.value.current),t.key===Bt&&this.menu.openMenu(),(t.key===It||t.key===Pt||t.key===Bt)&&(this.menu.wasOpenedByKeyboard=!0,t.preventDefault()),this.root.rovingFocusGroup.handleKeydown(this.menu.getTriggerNode(),t))};onfocus=()=>{this.isFocused=!0};onblur=()=>{this.isFocused=!1};#n=m(()=>({type:"button",role:"menuitem",id:this.opts.id.current,"aria-haspopup":"menu","aria-expanded":Jt(this.menu.open),"aria-controls":this.menu.open?this.menu.contentId:void 0,"data-highlighted":this.isFocused?"":void 0,"data-state":mt(this.menu.open),"data-disabled":vt(this.opts.disabled.current),"data-menu-value":this.menu.opts.value.current,disabled:this.opts.disabled.current?!0:void 0,tabindex:o(this.#e),[_t.trigger]:"",onpointerdown:this.onpointerdown,onpointerenter:this.onpointerenter,onkeydown:this.onkeydown,onfocus:this.onfocus,onblur:this.onblur,...this.attachment}));get props(){return o(this.#n)}set props(t){w(this.#n,t)}}class Ce{static create(t){return new Ce(t,Pe.get())}opts;menu;root;attachment;constructor(t,e){this.opts=t,this.menu=e,this.root=e.root,this.attachment=V(this.opts.ref,n=>this.menu.contentNode=n)}onCloseAutoFocus=t=>{this.opts.onCloseAutoFocus.current?.(t),t.defaultPrevented};onFocusOutside=t=>{const e=t.target;this.root.getTriggers().some(i=>i.contains(e))&&t.preventDefault(),this.opts.onFocusOutside.current(t)};onInteractOutside=t=>{this.opts.onInteractOutside.current(t)};onOpenAutoFocus=t=>{this.opts.onOpenAutoFocus.current(t),!t.defaultPrevented&&ot(()=>this.opts.ref.current?.focus())};onkeydown=t=>{if(t.key!==Be&&t.key!==Re)return;const e=t.target,n=e.hasAttribute("data-menu-sub-trigger"),i=e.closest("[data-menu-content]")!==t.currentTarget,s=(this.root.opts.dir.current==="rtl"?Re:Be)===t.key;if(!s&&n||i&&s)return;let h=this.root.getTriggers().filter(b=>!b.disabled).map(b=>({value:b.getAttribute("data-menu-value"),triggerId:b.id??""}));s&&h.reverse();const d=h.map(({value:b})=>b).indexOf(this.menu.opts.value.current);h=this.root.opts.loop.current?qt(h,d+1):h.slice(d+1);const[S]=h;S&&this.menu.root.onMenuOpen(S.value,S.triggerId)};#t=m(()=>({id:this.opts.id.current,"aria-labelledby":this.menu.triggerId,style:jt("menubar"),onkeydown:this.onkeydown,"data-menu-content":"",[_t.content]:"",...this.attachment}));get props(){return o(this.#t)}set props(t){w(this.#t,t)}popperProps={onCloseAutoFocus:this.onCloseAutoFocus,onFocusOutside:this.onFocusOutside,onInteractOutside:this.onInteractOutside,onOpenAutoFocus:this.onOpenAutoFocus}}var bi=B("<div><!></div>");function yi(r,t){const e=et();I(t,!0);let n=u(t,"id",19,()=>rt(e)),i=u(t,"ref",15,null),a=u(t,"value",7,""),s=u(t,"dir",3,"ltr"),l=u(t,"loop",3,!0),c=u(t,"onValueChange",3,R),h=D(t,["$$slots","$$events","$$legacy","id","children","child","ref","value","dir","loop","onValueChange"]);const P=Ae.create({id:f.with(()=>n()),value:f.with(()=>a(),p=>{a(p),c()?.(p)}),dir:f.with(()=>s()),loop:f.with(()=>l()),ref:f.with(()=>i(),p=>i(p))}),d=m(()=>Y(h,P.props));var S=M(),b=O(S);{var g=p=>{var C=M(),A=O(C);_(A,()=>t.child,()=>({props:o(d)})),y(p,C)},v=p=>{var C=bi();J(C,()=>({...o(d)}));var A=W(C);_(A,()=>t.children??N),K(C),y(p,C)};L(b,p=>{t.child?p(g):p(v,!1)})}y(r,S),k()}function Si(r,t){const e=et();I(t,!0);let n=u(t,"value",19,()=>rt(e)),i=u(t,"onOpenChange",3,R),a=D(t,["$$slots","$$events","$$legacy","value","onOpenChange"]);const s=xe.create({value:f.with(()=>n()),onOpenChange:f.with(()=>i())});wi(r,H({get open(){return s.open},onOpenChange:l=>{l||s.root.onMenuClose()},get dir(){return s.root.opts.dir.current},_internal_variant:"menubar"},()=>a)),k()}var Pi=B("<div><div><!></div></div>"),Ai=B("<div><div><!></div></div>");function xi(r,t){const e=et();I(t,!0);let n=u(t,"id",19,()=>rt(e)),i=u(t,"ref",15,null),a=u(t,"loop",3,!0),s=u(t,"onInteractOutside",3,R),l=u(t,"onEscapeKeydown",3,R),c=u(t,"onCloseAutoFocus",3,R),h=u(t,"forceMount",3,!1),P=D(t,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount"]);const d=me.create({id:f.with(()=>n()),loop:f.with(()=>a()),ref:f.with(()=>i(),x=>i(x)),onCloseAutoFocus:f.with(()=>c())}),S=m(()=>Y(P,d.props,{style:{outline:"none"}}));function b(x){if(s()(x),!x.defaultPrevented){if(x.target&&x.target instanceof Element){const T=`[${d.parentMenu.root.getBitsAttr("sub-content")}]`;if(x.target.closest(T))return}d.parentMenu.onClose()}}function g(x){l()(x),!x.defaultPrevented&&d.parentMenu.onClose()}var v=M(),p=O(v);{var C=x=>{jr(x,H(()=>o(S),()=>d.popperProps,{get ref(){return d.opts.ref},get enabled(){return d.parentMenu.opts.open.current},onInteractOutside:b,onEscapeKeydown:g,trapFocus:!0,get loop(){return a()},forceMount:!0,get id(){return n()},popper:(X,z)=>{let E=()=>z?.().props,$=()=>z?.().wrapperProps;const ft=m(()=>Y(E(),{style:{outline:"none",...jt("menu")}}));var at=M(),bt=O(at);{var ut=tt=>{var G=M(),j=O(G);{let it=m(()=>({props:o(ft),wrapperProps:$(),...d.snippetProps}));_(j,()=>t.child,()=>o(it))}y(tt,G)},ct=tt=>{var G=Pi();J(G,()=>({...$()}));var j=W(G);J(j,()=>({...o(ft)}));var it=W(j);_(it,()=>t.children??N),K(j),K(G),y(tt,G)};L(bt,tt=>{t.child?tt(ut):tt(ct,!1)})}y(X,at)},$$slots:{popper:!0}}))},A=x=>{var T=M(),X=O(T);{var z=E=>{qr(E,H(()=>o(S),()=>d.popperProps,{get ref(){return d.opts.ref},get open(){return d.parentMenu.opts.open.current},onInteractOutside:b,onEscapeKeydown:g,trapFocus:!0,get loop(){return a()},forceMount:!1,get id(){return n()},popper:(ft,at)=>{let bt=()=>at?.().props,ut=()=>at?.().wrapperProps;const ct=m(()=>Y(bt(),{style:{outline:"none",...jt("menu")}}));var tt=M(),G=O(tt);{var j=lt=>{var Z=M(),gt=O(Z);{let xt=m(()=>({props:o(ct),wrapperProps:ut(),...d.snippetProps}));_(gt,()=>t.child,()=>o(xt))}y(lt,Z)},it=lt=>{var Z=Ai();J(Z,()=>({...ut()}));var gt=W(Z);J(gt,()=>({...o(ct)}));var xt=W(gt);_(xt,()=>t.children??N),K(gt),K(Z),y(lt,Z)};L(G,lt=>{t.child?lt(j):lt(it,!1)})}y(ft,tt)},$$slots:{popper:!0}}))};L(X,E=>{h()||E(z)},!0)}y(x,T)};L(p,x=>{h()?x(C):x(A,!1)})}y(r,v),k()}function Oi(r,t){const e=et();I(t,!0);let n=u(t,"ref",15,null),i=u(t,"interactOutsideBehavior",3,"close"),a=u(t,"id",19,()=>rt(e)),s=u(t,"onInteractOutside",3,R),l=u(t,"onFocusOutside",3,R),c=u(t,"onCloseAutoFocus",3,R),h=u(t,"onOpenAutoFocus",3,R),P=D(t,["$$slots","$$events","$$legacy","ref","interactOutsideBehavior","id","onInteractOutside","onFocusOutside","onCloseAutoFocus","onOpenAutoFocus"]);const d=Ce.create({id:f.with(()=>a()),interactOutsideBehavior:f.with(()=>i()),ref:f.with(()=>n(),b=>n(b)),onInteractOutside:f.with(()=>s()),onFocusOutside:f.with(()=>l()),onCloseAutoFocus:f.with(()=>c()),onOpenAutoFocus:f.with(()=>h())}),S=m(()=>Y(P,d.props));xi(r,H(()=>o(S),()=>d.popperProps,{preventScroll:!1,get ref(){return n()},set ref(b){n(b)}})),k()}var Ci=B("<button><!></button>");function Mi(r,t){const e=et();I(t,!0);let n=u(t,"id",19,()=>rt(e)),i=u(t,"disabled",3,!1),a=u(t,"ref",15,null),s=D(t,["$$slots","$$events","$$legacy","id","disabled","children","child","ref"]);const l=Oe.create({id:f.with(()=>n()),disabled:f.with(()=>i()??!1),ref:f.with(()=>a(),d=>a(d))}),c=Se.create(l.opts),h=V(d=>c.parentMenu.triggerNode=d),P=m(()=>Y(s,l.props,{...h}));zr(r,{get id(){return n()},get ref(){return l.opts.ref},children:(d,S)=>{var b=M(),g=O(b);{var v=C=>{var A=M(),x=O(A);_(x,()=>t.child,()=>({props:o(P)})),y(C,A)},p=C=>{var A=Ci();J(A,()=>({...o(P)}));var x=W(A);_(x,()=>t.children??N),K(A),y(C,A)};L(g,C=>{t.child?C(v):C(p,!1)})}y(d,b)},$$slots:{default:!0}}),k()}let Mt=F(!1);class dt{static _refs=0;static _cleanup;constructor(){q(()=>(dt._refs===0&&(dt._cleanup=Xe(()=>{const t=[],e=i=>{w(Mt,!1)},n=i=>{w(Mt,!0)};return t.push(st(document,"pointerdown",e,{capture:!0}),st(document,"pointermove",e,{capture:!0}),st(document,"keydown",n,{capture:!0})),$t(...t)})),dt._refs++,()=>{dt._refs--,dt._refs===0&&(w(Mt,!1),dt._cleanup?.())}))}get current(){return o(Mt)}set current(t){w(Mt,t,!0)}}function Fi(r,t){I(t,!0);let e=u(t,"ref",15,null),n=u(t,"value",15),i=D(t,["$$slots","$$events","$$legacy","ref","value"]);var a=M(),s=O(a);U(s,()=>wr,(l,c)=>{c(l,H({"data-slot":"accordion"},()=>i,{get ref(){return e()},set ref(h){e(h)},get value(){return n()},set value(h){n(h)}}))}),y(r,a),k()}var _i=B("<div><!></div>");function Ii(r,t){I(t,!0);let e=u(t,"ref",15,null),n=D(t,["$$slots","$$events","$$legacy","ref","class","children"]);var i=M(),a=O(i);U(a,()=>Cr,(s,l)=>{l(s,H({"data-slot":"accordion-content",class:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"},()=>n,{get ref(){return e()},set ref(c){e(c)},children:(c,h)=>{var P=_i(),d=W(P);_(d,()=>t.children??N),K(P),Nt(S=>Zn(P,1,S),[()=>jn(wt("pb-4 pt-0",t.class))]),y(c,P)},$$slots:{default:!0}}))}),y(r,i),k()}function ki(r,t){I(t,!0);let e=u(t,"ref",15,null),n=D(t,["$$slots","$$events","$$legacy","ref","class"]);var i=M(),a=O(i);{let s=m(()=>wt("border-b last:border-b-0",t.class));U(a,()=>yr,(l,c)=>{c(l,H({"data-slot":"accordion-item",get class(){return o(s)}},()=>n,{get ref(){return e()},set ref(h){e(h)}}))})}y(r,i),k()}var Ti=B("<!> <!>",1);function Ei(r,t){I(t,!0);let e=u(t,"ref",15,null),n=u(t,"level",3,3),i=D(t,["$$slots","$$events","$$legacy","ref","class","level","children"]);var a=M(),s=O(a);U(s,()=>Pr,(l,c)=>{c(l,{get level(){return n()},class:"flex",children:(h,P)=>{var d=M(),S=O(d);{let b=m(()=>wt("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium outline-none transition-all hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t.class));U(S,()=>xr,(g,v)=>{v(g,H({"data-slot":"accordion-trigger",get class(){return o(b)}},()=>i,{get ref(){return e()},set ref(p){e(p)},children:(p,C)=>{var A=Ti(),x=O(A);_(x,()=>t.children??N);var T=St(x,2);er(T,{class:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"}),y(p,A)},$$slots:{default:!0}}))})}y(h,d)},$$slots:{default:!0}})}),y(r,a),k()}var Di=B('<span class="drop-down-header"> </span>'),Ni=B('<div class="space-y-2 p-4"><!></div>'),Bi=B("<!> <!>",1);function Ri(r,t){let e=u(t,"header",8),n=u(t,"className",8,""),i=u(t,"value",8,void 0);An(r,{get class(){return`drop-down-card ${n()??""}`},children:(a,s)=>{Fi(a,{type:"single",get value(){return i()},class:"w-full",children:(l,c)=>{ki(l,{value:"panel-content",class:"border-none",children:(h,P)=>{var d=Bi(),S=O(d);Ei(S,{class:"drop-down-trigger hover:no-underline data-[state=open]:rounded-none data-[state=open]:border-b-2 data-[state=open]:border-border/60",children:(g,v)=>{var p=Di(),C=W(p,!0);K(p),Nt(()=>Yt(C,e())),y(g,p)},$$slots:{default:!0}});var b=St(S,2);Ii(b,{class:"drop-down-content overflow-hidden",children:(g,v)=>{xn(g,{class:"h-[300px] w-full",children:(p,C)=>{var A=Ni(),x=W(A);hr(x,t,"default",{}),K(A),y(p,A)},$$slots:{default:!0}})},$$slots:{default:!0}}),y(h,d)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Wi(r,t){I(t,!0);let e=u(t,"ref",15,null),n=D(t,["$$slots","$$events","$$legacy","ref","class"]);var i=M(),a=O(i);{let s=m(()=>wt("bg-background shadow-xs flex h-9 items-center gap-1 rounded-md border p-1",t.class));U(a,()=>yi,(l,c)=>{c(l,H({"data-slot":"menubar",get class(){return o(s)}},()=>n,{get ref(){return e()},set ref(h){e(h)}}))})}y(r,i),k()}function Ki(r,t){I(t,!0);let e=u(t,"ref",15,null),n=u(t,"sideOffset",3,8),i=u(t,"alignOffset",19,()=>-4),a=u(t,"align",3,"start"),s=u(t,"side",3,"bottom"),l=D(t,["$$slots","$$events","$$legacy","ref","class","sideOffset","alignOffset","align","side","portalProps"]);var c=M(),h=O(c);U(h,()=>nr,(P,d)=>{d(P,H(()=>t.portalProps,{children:(S,b)=>{var g=M(),v=O(g);{let p=m(()=>wt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--bits-menubar-content-transform-origin) z-50 min-w-[12rem] overflow-hidden rounded-md border p-1 shadow-md",t.class));U(v,()=>Oi,(C,A)=>{A(C,H({"data-slot":"menubar-content",get sideOffset(){return n()},get align(){return a()},get alignOffset(){return i()},get side(){return s()},get class(){return o(p)}},()=>l,{get ref(){return e()},set ref(x){e(x)}}))})}y(S,g)},$$slots:{default:!0}}))}),y(r,c),k()}function Li(r,t){I(t,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let e=D(t,["$$slots","$$events","$$legacy"]);const n=[["circle",{cx:"12",cy:"12",r:"10"}]];Jn(r,H({name:"circle"},()=>e,{get iconNode(){return n},children:(i,a)=>{var s=M(),l=O(s);_(l,()=>t.children??N),y(i,s)},$$slots:{default:!0}})),k()}var Vi=B('<span class="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center"><!></span> <!>',1);function Hi(r,t){I(t,!0);let e=u(t,"ref",15,null),n=D(t,["$$slots","$$events","$$legacy","ref","class","children"]);var i=M(),a=O(i);{const s=(c,h)=>{let P=()=>h?.().checked;var d=Vi(),S=O(d),b=W(S);{var g=p=>{Li(p,{class:"size-2 fill-current"})};L(b,p=>{P()&&p(g)})}K(S);var v=St(S,2);_(v,()=>t.children??N,()=>({checked:P()})),y(c,d)};let l=m(()=>wt("focus:bg-accent focus:text-accent-foreground rounded-xs outline-hidden relative flex cursor-default select-none items-center gap-2 py-1.5 pl-8 pr-2 text-sm data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",t.class));U(a,()=>pi,(c,h)=>{h(c,H({"data-slot":"menubar-radio-item",get class(){return o(l)}},()=>n,{get ref(){return e()},set ref(P){e(P)},children:s,$$slots:{default:!0}}))})}y(r,i),k()}function zi(r,t){I(t,!0);let e=u(t,"ref",15,null),n=D(t,["$$slots","$$events","$$legacy","ref","class"]);var i=M(),a=O(i);{let s=m(()=>wt("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground outline-hidden flex select-none items-center rounded-sm px-2 py-1 text-sm font-medium",t.class));U(a,()=>Mi,(l,c)=>{c(l,H({"data-slot":"menubar-trigger",get class(){return o(s)}},()=>n,{get ref(){return e()},set ref(h){e(h)}}))})}y(r,i),k()}const Gi=Si,Ui=mi;var Yi=B("<!> <!>",1),Xi=B("<!> <!>",1);function qi(r,t){I(t,!0);const e=u(t,"webMap",3,null),n=u(t,"treeviewConfig",19,()=>[]),i=u(t,"onLayerSelected",3,()=>{});let a=F(yt([])),s=F(""),l=F("");q(()=>{if(console.log("webMap changed",e()),!e()){w(a,[],!0);return}const g=c();for(const v of g)for(const p of v.layers)p.visible=!1;w(a,g.map(v=>({label:v.title,layer:v,children:(v.layers?.toArray()||[]).map(p=>({label:p.title,layer:p}))||[]})),!0)}),q(()=>{o(s)&&o(s)!==o(l)&&(h(),w(l,o(s),!0))});function c(){if(!e())return[];const g=e().layers.filter(v=>v.type==="group"&&(n()?.map(p=>p.name)??[]).includes(v.title));return console.log("Filtered group layers for selection:",g),g.toArray()}function h(){if(!o(s))return;const g=P(o(s));if(!g){Ee.error(`Layer not found: ${o(s)}`);return}if(o(l)){console.log("previousSelection",o(l));const p=P(o(l));if(p&&p!==g){p.visible=!1;const C=p.parent;C.visible=!1}}Ee.success(`'${g.title}' Selected`),g.visible=!0;const v=g.parent;v.visible=!0,i()(g)}function P(g){for(const v of o(a))for(const p of v.children)if(p.label===g)return p.layer;return null}var d=Xi(),S=O(d);On(S,{});var b=St(S,2);U(b,()=>Wi,(g,v)=>{v(g,{children:(p,C)=>{var A=M(),x=O(A);We(x,17,()=>o(a),Ke,(T,X)=>{var z=M(),E=O(z);U(E,()=>Gi,($,ft)=>{ft($,{children:(at,bt)=>{var ut=Yi(),ct=O(ut);U(ct,()=>zi,(G,j)=>{j(G,{children:(it,lt)=>{ke();var Z=Te();Nt(()=>Yt(Z,o(X).label)),y(it,Z)},$$slots:{default:!0}})});var tt=St(ct,2);U(tt,()=>Ki,(G,j)=>{j(G,{children:(it,lt)=>{var Z=M(),gt=O(Z);U(gt,()=>Ui,(xt,gn)=>{gn(xt,{get value(){return o(s)},set value(zt){w(s,zt,!0)},children:(zt,Ji)=>{var Me=M(),pn=O(Me);We(pn,17,()=>o(X).children,Ke,(vn,Fe)=>{var _e=M(),mn=O(_e);U(mn,()=>Hi,(wn,bn)=>{bn(wn,{get value(){return o(Fe).label},children:(yn,Qi)=>{ke();var Ie=Te();Nt(()=>Yt(Ie,o(Fe).label)),y(yn,Ie)},$$slots:{default:!0}})}),y(vn,_e)}),y(zt,Me)},$$slots:{default:!0}})}),y(it,Z)},$$slots:{default:!0}})}),y(at,ut)},$$slots:{default:!0}})}),y(T,z)}),y(p,A)},$$slots:{default:!0}})}),y(r,d),k()}var ji=B("<p>Loading map...</p>"),Zi=B('<div class="map-section svelte-1v5dyfr"><!></div>');function lo(r,t){I(t,!0);const e=d=>{Ri(d,{header:"Treeview",className:"w-120",children:(S,b)=>{_n(S,{get webMap(){return i.data},get treeviewConfig(){return o(s)}})},$$slots:{default:!0}})},n=d=>{qi(d,{get webMap(){return i.data},get treeviewConfig(){return o(a)}})},i=new Mn;let a=F(null),s=F(null);Lt(async()=>{const d=await Cn(),S=d.portalUrl,b=d.portalItemId,g=d.proxy;w(a,d.treeviewSelectionAreasConfig,!0),w(s,d.treeviewDataConfig||null,!0),console.log("Selection Layers:",De(o(a))),await i.initializeAsync({portalUrl:S,itemId:b||"",proxy:g}),console.log("WebMap loaded",De(i.data))});var l=Zi(),c=W(l);{var h=d=>{Fn(d,{get webMap(){return i.data},panelPosition:"top-left",menuPosition:"top-right",get panel(){return e},get menu(){return n}})},P=d=>{var S=ji();y(d,S)};L(c,d=>{i.data?d(h):d(P,!1)})}K(l),y(r,l),k()}export{lo as component};
